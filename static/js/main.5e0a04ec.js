!function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/ces-stop-arrivals/",t(t.s=44)}([function(e,t,r){"use strict";e.exports=r(51)},function(e,t,r){"use strict";function o(e){return"[object Array]"===k.call(e)}function n(e){return"[object ArrayBuffer]"===k.call(e)}function i(e){return"undefined"!==typeof FormData&&e instanceof FormData}function a(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"===typeof e}function c(e){return"number"===typeof e}function l(e){return"undefined"===typeof e}function p(e){return null!==e&&"object"===typeof e}function u(e){return"[object Date]"===k.call(e)}function d(e){return"[object File]"===k.call(e)}function h(e){return"[object Blob]"===k.call(e)}function m(e){return"[object Function]"===k.call(e)}function y(e){return p(e)&&m(e.pipe)}function f(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function v(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function _(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function w(){function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=w(t[r],e):t[r]=e}for(var t={},r=0,o=arguments.length;r<o;r++)_(arguments[r],e);return t}function b(e,t,r){return _(t,function(t,o){e[o]=r&&"function"===typeof t?x(t,r):t}),e}var x=r(22),S=r(63),k=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:n,isBuffer:S,isFormData:i,isArrayBufferView:a,isString:s,isNumber:c,isObject:p,isUndefined:l,isDate:u,isFile:d,isBlob:h,isFunction:m,isStream:y,isURLSearchParams:f,isStandardBrowserEnv:g,forEach:_,merge:w,extend:b,trim:v}},function(e,t,r){"use strict";function o(e){return{type:l,ready:e}}function n(e){return{type:u,route:e}}function i(e){return{type:p,position:e,coordinates:e.coordinates,progress:e.distance_travelled/(e.distance_travelled+e.distance_remaining),distanceRemaining:e.distance_remaining}}function a(e){return{type:h,coordinates:e.from_coordinates,fromStop:e.from_stop,toStop:e.to_stop,distanceRemaining:e.distance}}function s(e){return{type:m,coordinates:e.to_coordinates,fromStop:e.from_stop,toStop:e.to_stop,distanceRemaining:0}}function c(e,t){return{type:f,messageHtml:e,poiNames:t}}r.d(t,"c",function(){return l}),r.d(t,"d",function(){return p}),r.d(t,"e",function(){return u}),r.d(t,"f",function(){return d}),r.d(t,"h",function(){return h}),r.d(t,"a",function(){return m}),r.d(t,"g",function(){return y}),r.d(t,"b",function(){return f}),t.k=o,t.m=n,t.l=i,t.n=a,t.i=s,t.j=c;var l="SET_MAP_READY",p="SET_OLLI_POSITION",u="SET_OLLI_ROUTE",d="SET_OLLI_ROUTE_VISIBILITY",h="START_OLLI_TRIP",m="END_OLLI_TRIP",y="SET_POI_CATEGORY",f="MAP_MSG"},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function o(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!==typeof Blob&&e instanceof Blob}function n(e){if("function"===typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),o=new Uint8Array(e);return r.set(o),t}function i(e){if(e instanceof ArrayBuffer)return n(e);var t=e.size,r=e.type;return"function"===typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&T.call(r)==z}function s(e){var t,r,n;if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=s(e[r]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return i(e);if(!a(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var c=s(e[r]);"undefined"!==typeof c&&(t[r]=c)}return t}function c(e){var t=!1;return b()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function l(e){return b()(function(t){t=s(t);var r=this,o="function"===typeof t[t.length-1]&&t.pop(),n=new Promise(function(o,n){var i;try{var a=c(function(e,t){e?n(e):o(t)});t.push(a),i=e.apply(r,t),i&&"function"===typeof i.then&&o(i)}catch(e){n(e)}});return o&&n.then(function(e){o(null,e)},o),n})}function p(e,t){for(var r={},o=0,n=t.length;o<n;o++){var i=t[o];i in e&&(r[i]=e[i])}return r}function u(){return M}function d(e){u()&&addEventListener("storage",function(t){e.emit(t.key)})}function h(){k.EventEmitter.call(this),this._listeners={},d(this)}function m(e){if("undefined"!==typeof console&&"function"===typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function y(e){for(var t=[],r=0,o=e.length;r<o;r++)t=t.concat(e[r]);return t}function f(){}function v(e){return"boolean"===typeof e._remote?e._remote:"function"===typeof e.type&&(m("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function g(e,t,r){return new Promise(function(o,n){e.get(t,function(i,a){if(i){if(404!==i.status)return n(i);a={}}var s=a._rev,c=r(a);if(!c)return o({updated:!1,rev:s});c._id=t,c._rev=s,o(_(e,c,r))})})}function _(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return g(e,t._id,r)})}r.d(t,"a",function(){return F}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return y}),r.d(t,"d",function(){return m}),r.d(t,"e",function(){return v}),r.d(t,"g",function(){return l}),r.d(t,"h",function(){return g});var w=r(12),b=r.n(w),x=(r(13),r(35)),S=r.n(x),k=r(36),P=(r.n(k),r(7)),E=r.n(P),C=(r(14),r(132)),A=r.n(C);r(15),r(4);r.d(t,"f",function(){return S.a});var M,T=Function.prototype.toString,z=T.call(Object);try{localStorage.setItem("_pouch_check_localstorage",1),M=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){M=!1}E()(h,k.EventEmitter),h.prototype.addListener=function(e,t,r,o){function n(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var s=p(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(s).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===a&&S()(n),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=n,this.on(e,n)}},h.prototype.removeListener=function(e,t){t in this._listeners&&(k.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},h.prototype.notifyLocalWindows=function(e){u()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},h.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var R;R="function"===typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var F=R,I=f.name;A.a.v4},function(e,t,r){"use strict";var o=r(80),n=(r(30),r(86));r.d(t,"a",function(){return o.a}),r.d(t,"b",function(){return n.a})},function(e,t,r){"use strict";function o(e){if("object"!==("undefined"===typeof e?"undefined":d(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function n(e,t,r){function i(){g===v&&(g=v.slice())}function a(){if(_)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return f}function s(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(_)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return i(),g.push(e),function(){if(t){if(_)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,i();var r=g.indexOf(e);g.splice(r,1)}}}function c(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,f=y(f,e)}finally{_=!1}for(var t=v=g,r=0;r<t.length;r++){(0,t[r])()}return e}function l(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");y=e,c({type:u.REPLACE})}function h(){var e,t=s;return e={subscribe:function(e){function r(){e.next&&e.next(a())}if("object"!==("undefined"===typeof e?"undefined":d(e))||null===e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[p.a]=function(){return this},e}var m;if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(n)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var y=e,f=t,v=[],g=v,_=!1;return c({type:u.INIT}),m={dispatch:c,subscribe:s,getState:a,replaceReducer:l},m[p.a]=h,m}function i(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:u.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+u.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function s(e){for(var t=Object.keys(e),r={},o=0;o<t.length;o++){var n=t[o];"function"===typeof e[n]&&(r[n]=e[n])}var s=Object.keys(r),c=void 0;try{a(r)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var o=!1,n={},a=0;a<s.length;a++){var l=s[a],p=r[l],u=e[l],d=p(u,t);if("undefined"===typeof d){var h=i(l,t);throw new Error(h)}n[l]=d,o=o||d!==u}return o?n:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function l(e,t){if("function"===typeof e)return c(e,t);if("object"!==("undefined"===typeof e?"undefined":d(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":"undefined"===typeof e?"undefined":d(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},n=0;n<r.length;n++){var i=r[n],a=e[i];"function"===typeof a&&(o[i]=c(a,t))}return o}r.d(t,"c",function(){return n}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return l});var p=r(89),u={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.assign},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,c=o(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var p in r)i.call(r,p)&&(c[p]=r[p]);if(n){s=n(r);for(var u=0;u<s.length;u++)a.call(r,s[u])&&(c[s[u]]=r[s[u]])}}return c}},function(e,t,r){"use strict";(function(t){function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var n=r(1),i=r(65),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=r(24):"undefined"!==typeof t&&(e=r(24)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){s.headers[e]={}}),n.forEach(["post","put","patch"],function(e){s.headers[e]=n.merge(a)}),e.exports=s}).call(t,r(23))},function(e,t,r){"use strict";function o(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=o},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Mayo Gonda",description:"Mayo Clinic main patient building. It rises 305 feet (93 m) in 21 floors, and was completed in 2001. The Gonda building was the largest building project in the Mayo Clinic\u2019s history, the Leslie & Susan Gonda Building was constructed in three phases to a height of 21 stories. Located at the heart of the campus, Gonda is the centerpiece of Mayo\u2019s integrated practice.",poi:["Mayo Clinic specialties (cardiology, gastroenterology, neurology, etc.","May Clinic Gift Shop","Mayo Clinic Center for Innovation","Gonda Building Atrium"],factoids:["Rochesters 2nd tallest building","Built in 2001","Connected to the Mayo Building","305 feet tall","21 stories tall","Most doctors offices, exam rooms, and some testing areas, are located in Gonda and Mayo Buildings","Overall Mayos extended downtown campus comprises about 30 buildings and 5 parking ramps"],what3words:"mercy.grants.ducks",stop_id:"stop_1",simulation_offset:211,delta_time:106e3},geometry:{type:"Point",coordinates:[-92.467148454828,44.022351687354]}},{type:"Feature",properties:{name:"Peace Plaza",description:"Social events, shops all around, music, Thursdays on First and Third",poi:["Chateau Theater (closed)","Lasker's Jewelers","Victoria's Restaurant","Galleria Mall","O&B Shoes","Marriott Hotel","Gateway to Heart of the City"],factoids:["Public park","Location of Thursdays on First and 3rd Summer Market and Music Festival","Host for SociallCE - Rochesters Winter Ice Bar","In the heart of downtown"],what3words:"fails.aspect.estate",stop_id:"stop_2",simulation_offset:427,delta_time:214e3},geometry:{type:"Point",coordinates:[-92.464548669579,44.022475156222]}},{type:"Feature",properties:{name:"Restaurant District",description:"Historic 3rd Street and 1st Ave Restaurant District. Food and boutique shops, antiques, artwork",poi:["The Doggery","The Tap House","Half Barrel Pub","Artistic Framers","John Kruesel's General Merchandise","Minnesota BioBusiness Center","The Loop"],factoids:["The Doggery","The Tap House","Half Barrel Pub","Artistic Framers","John Kruesel's General Merchandise","Minnesota BioBusiness Center","The Loop","Newts Restaurant","City Market Restaurant","Grand Rounds Brew Pub","Jefe Rojos Restaurant","University of Minnesota"],what3words:"hero.maybe.risks",stop_id:"stop_3",simulation_offset:570,delta_time:285500},geometry:{type:"Point",coordinates:[-92.464536948532,44.020596506866]}},{type:"Feature",properties:{name:"Discovery Square",description:"Future site of Discovery Square. First Destination Medical Center building for the Discover Square District",poi:["Parking","Mortenson building"],factoids:["Urban life-science hub, attracting the worlds leading medical practitioners, educators, researchers and businesses","Invites positive collisions among Mayo doctors, researchers and entrepreneurs","Celebrates science on display and enables practitioners and educators to live and work alongside researchers and entrepreneurs","16 block sub-district built in collaboration with Mayo Clinic"],what3words:"school.fence.shut",stop_id:"stop_4",simulation_offset:19,delta_time:1e4},geometry:{type:"Point",coordinates:[-92.466721277482,44.019369728467]}},{type:"Feature",properties:{name:"Mayo Guggenheim",description:"Mayo Clinic research laboratories",poi:["Mayo Clinic research laboratories","Mayo Medical School","Mayo Clinic Hilton building","Mayo Clinic Stabile building"],factoids:["Home of Mayo research laboratories","Developed the ketogenic diet for control of epilepsy","Performed the first heart-lung-liver transplant in the US","Developed and implemented the concept of integrated, multi-specialty group practice of medicine -- Mayo Clinics most enduring and significant contribution to medicine","Introduced the firt computerized tomography (CT) scanner in North America","Established the largest hart-liver transplant program in the US","Two Mayo Clinic staff members -- a resarch scientist and a clinician -- shared the 1950 Nobel Prize in Physiology or Medicine for the discovery of cortisone","Demonstrated that police cars equipped with Automated external defibrillators (AEDs) improve survival outcomes from cardiac arrest, leding to AEDs as standard issue in police cars","Established the first hospital-based blood bank in the US","Developed the first G-suit, a flight suit outfitted with air-filled bladders and a system of valves to protect pilots during high-speed maneuvers by increasing blood flow to the brain"],what3words:"newly.kept.rests",stop_id:"stop_5",simulation_offset:68,delta_time:34500},geometry:{type:"Point",coordinates:[-92.467330873686,44.020779972144]}}]}},function(e,t,r){"use strict";function o(e){return function(){var t=arguments.length;if(t){for(var r=[],o=-1;++o<t;)r[o]=arguments[o];return e.call(this,r)}return e.call(this,[])}}e.exports=o},function(e,t,r){"use strict";function o(e){return"$"+e}function n(e){return e.substring(1)}function i(){this._store={}}function a(e){if(this._store=new i,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}r.d(t,"b",function(){return s}),r.d(t,"a",function(){return c}),i.prototype.get=function(e){var t=o(e);return this._store[t]},i.prototype.set=function(e,t){var r=o(e);return this._store[r]=t,!0},i.prototype.has=function(e){return o(e)in this._store},i.prototype.delete=function(e){var t=o(e),r=t in this._store;return delete this._store[t],r},i.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,o=t.length;r<o;r++){var i=t[r],a=this._store[i];i=n(i),e(a,i)}},Object.defineProperty(i.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(e){return this._store.set(e,!0)},a.prototype.has=function(e){return this._store.has(e)},a.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}});var s,c;!function(){if("undefined"===typeof Symbol||"undefined"===typeof Map||"undefined"===typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(s=a,c=i):(s=Set,c=Map)},function(e,t,r){"use strict";function o(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}function n(e,t){function r(t){for(var r in e)"function"!==typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=o.prototype,new r(t)}function i(e){if("object"!==typeof e){var t=e;e=p,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}r.d(t,"b",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return i});var a=r(7);r.n(a)()(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var s=(new o(401,"unauthorized","Name or password is incorrect."),new o(400,"bad_request","Missing JSON list of 'docs'"),new o(404,"not_found","missing"),new o(409,"conflict","Document update conflict"),new o(400,"bad_request","_id field must contain a string")),c=new o(412,"missing_id","_id is required for puts"),l=new o(400,"bad_request","Only reserved document ids may start with underscore."),p=(new o(412,"precondition_failed","Database not open"),new o(500,"unknown_error","Database encountered an unknown error")),u=(new o(500,"badarg","Some query argument is invalid"),new o(400,"invalid_request","Request was invalid"),new o(400,"query_parse_error","Some query parameter is invalid"),new o(500,"doc_validation","Bad special document member"),new o(400,"bad_request","Something wrong with the request"));new o(400,"bad_request","Document must be a JSON object"),new o(404,"not_found","Database not found"),new o(500,"indexed_db_went_bad","unknown"),new o(500,"web_sql_went_bad","unknown"),new o(500,"levelDB_went_went_bad","unknown"),new o(403,"forbidden","Forbidden by design doc validate_doc_update function"),new o(400,"bad_request","Invalid rev format"),new o(412,"file_exists","The database could not be created, the file already exists."),new o(412,"missing_stub","A pre-existing attachment stub wasn't found"),new o(413,"invalid_url","Provided URL is invalid")},function(e,t,r){"use strict";(function(e){function o(e){return i.a.hash(e)}r.d(t,"a",function(){return o});var n=(r(42),r(37)),i=r.n(n);e.setImmediate||e.setTimeout}).call(t,r(3))},function(e,t,r){"use strict";function o(e,t,r){for(var o="",n=r-e.length;o.length<n;)o+=t;return o}function n(e,t,r){return o(e,t,r)+e}function i(e,t){if(e===t)return 0;e=a(e),t=a(t);var r=y(e),o=y(t);if(r-o!==0)return r-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return h(e,t)}return Array.isArray(e)?d(e,t):m(e,t)}function a(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=a(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"undefined"!==typeof i&&(e[n]=a(i))}}}}return e}function s(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),o=-1,n=r.length,i="";if(t)for(;++o<n;)i+=c(r[o]);else for(;++o<n;){var a=r[o];i+=c(a)+c(e[a])}return i}return""}function c(e){return e=a(e),y(e)+_+s(e)+"\0"}function l(e,t){var r,o=t;if("1"===e[t])r=0,t++;else{var n="0"===e[t];t++;var i="",a=e.substring(t,t+g),s=parseInt(a,10)+v;for(n&&(s=-s),t+=g;;){var c=e[t];if("\0"===c)break;i+=c,t++}i=i.split("."),r=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),n&&(r-=10),0!==s&&(r=parseFloat(r+"e"+s))}return{num:r,length:t-o}}function p(e,t){var r=e.pop();if(t.length){var o=t[t.length-1];r===o.element&&(t.pop(),o=t[t.length-1]);var n=o.element,i=o.index;if(Array.isArray(n))n.push(r);else if(i===e.length-2){var a=e.pop();n[a]=r}else e.push(r)}}function u(e){for(var t=[],r=[],o=0;;){var n=e[o++];if("\0"!==n)switch(n){case"1":t.push(null);break;case"2":t.push("1"===e[o]),o++;break;case"3":var i=l(e,o);t.push(i.num),o+=i.length;break;case"4":for(var a="";;){var s=e[o];if("\0"===s)break;a+=s,o++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var c={element:[],index:t.length};t.push(c.element),r.push(c);break;case"6":var u={element:{},index:t.length};t.push(u.element),r.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+n)}else{if(1===t.length)return t.pop();p(t,r)}}}function d(e,t){for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var n=i(e[o],t[o]);if(0!==n)return n}return e.length===t.length?0:e.length>t.length?1:-1}function h(e,t){return e===t?0:e>t?1:-1}function m(e,t){for(var r=Object.keys(e),o=Object.keys(t),n=Math.min(r.length,o.length),a=0;a<n;a++){var s=i(r[a],o[a]);if(0!==s)return s;if(0!==(s=i(e[r[a]],t[o[a]])))return s}return r.length===o.length?0:r.length>o.length?1:-1}function y(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),o=e<0,i=o?"0":"2",a=(o?-r:r)-v,s=n(a.toString(),"0",g);i+=_+s;var c=Math.abs(parseFloat(t[0]));o&&(c=10-c);var l=c.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=_+l}r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return u});var v=-324,g=3,_=""},function(e,t,r){"use strict";function o(){}function n(e){try{return e.then}catch(e){return v=e,g}}function i(e,t){try{return e(t)}catch(e){return v=e,g}}function a(e,t,r){try{e(t,r)}catch(e){return v=e,g}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&y(e,this)}function c(e,t,r){return new e.constructor(function(n,i){var a=new s(o);a.then(n,i),l(e,new m(t,r,a))})}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);p(e,t)}function p(e,t){f(function(){var r=1===e._83?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._83?u(t.promise,e._18):d(t.promise,e._18));var o=i(r,e._18);o===g?d(t.promise,v):u(t.promise,o)})}function u(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var r=n(t);if(r===g)return d(e,v);if(r===e.then&&t instanceof s)return e._83=3,e._18=t,void h(e);if("function"===typeof r)return void y(r.bind(t),e)}e._83=1,e._18=t,h(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),h(e)}function h(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function m(e,t,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=r}function y(e,t){var r=!1,o=a(e,function(e){r||(r=!0,u(t,e))},function(e){r||(r=!0,d(t,e))});r||o!==g||(r=!0,d(t,v))}var f=r(47),v=null,g={};e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return c(this,e,t);var r=new s(o);return l(this,new m(e,t,r)),r}},function(e,t,r){"use strict";function o(e,t,r,o,i,a,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,o,i,a,s,c],u=0;l=new Error(t.replace(/%s/g,function(){return p[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(e){};e.exports=o},function(e,t,r){"use strict";var o={};e.exports=o},function(e,t,r){"use strict";function o(e){return function(){return e}}var n=function(){};n.thatReturns=o,n.thatReturnsFalse=o(!1),n.thatReturnsTrue=o(!0),n.thatReturnsNull=o(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){e.exports=r(62)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}}},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function n(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?m=h.concat(m):f=-1,m.length&&s())}function s(){if(!y){var e=n(a);y=!0;for(var t=m.length;t;){for(h=m,m=[];++f<t;)h&&h[f].run();f=-1,t=m.length}h=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var p,u,d=e.exports={};!function(){try{p="function"===typeof setTimeout?setTimeout:r}catch(e){p=r}try{u="function"===typeof clearTimeout?clearTimeout:o}catch(e){u=o}}();var h,m=[],y=!1,f=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new c(e,t)),1!==m.length||y||n(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){"use strict";var o=r(1),n=r(66),i=r(68),a=r(69),s=r(70),c=r(25),l="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r(71);e.exports=function(e){return new Promise(function(t,p){var u=e.data,d=e.headers;o.isFormData(u)&&delete d["Content-Type"];var h=new XMLHttpRequest,m="onreadystatechange",y=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in h||s(e.url)||(h=new window.XDomainRequest,m="onload",y=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var f=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+l(f+":"+v)}if(h.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[m]=function(){if(h&&(4===h.readyState||y)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,o=e.responseType&&"text"!==e.responseType?h.response:h.responseText,i={data:o,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:r,config:e,request:h};n(t,p,i),h=null}},h.onerror=function(){p(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){p(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},o.isStandardBrowserEnv()){var g=r(72),_=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}if("setRequestHeader"in h&&o.forEach(d,function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)}),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),p(e),h=null)}),void 0===u&&(u=null),h.send(u)})}},function(e,t,r){"use strict";var o=r(67);e.exports=function(e,t,r,n,i){var a=new Error(e);return o(a,t,r,n,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,r){e.exports=r(81)()},function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});var o=r(28),n=r.n(o),i=n.a.shape({trySubscribe:n.a.func.isRequired,tryUnsubscribe:n.a.func.isRequired,notifyNestedSubs:n.a.func.isRequired,isSubscribed:n.a.func.isRequired}),a=n.a.shape({subscribe:n.a.func.isRequired,dispatch:n.a.func.isRequired,getState:n.a.func.isRequired})},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function s(){}function c(e,t){var r={run:function(o){try{var n=e(t.getState(),o);(n!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=n,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}function l(e){var t,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=l.getDisplayName,d=void 0===p?function(e){return"ConnectAdvanced("+e+")"}:p,w=l.methodName,b=void 0===w?"connectAdvanced":w,x=l.renderCountProp,S=void 0===x?void 0:x,k=l.shouldHandleStateChanges,P=void 0===k||k,E=l.storeKey,C=void 0===E?"store":E,A=l.withRef,M=void 0!==A&&A,T=a(l,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),z=C+"Subscription",R=g++,F=(t={},t[C]=f.a,t[z]=f.b,t),I=(r={},r[z]=f.b,r);return function(t){h()("function"==typeof t,"You must pass a component to the function returned by "+b+". Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",a=d(r),l=v({},T,{getDisplayName:d,methodName:b,renderCountProp:S,shouldHandleStateChanges:P,storeKey:C,withRef:M,displayName:a,wrappedComponentName:r,WrappedComponent:t}),p=function(r){function p(e,t){o(this,p);var i=n(this,r.call(this,e,t));return i.version=R,i.state={},i.renderCount=0,i.store=e[C]||t[C],i.propsMode=Boolean(e[C]),i.setWrappedInstance=i.setWrappedInstance.bind(i),h()(i.store,'Could not find "'+C+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(p,r),p.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[z]=t||this.context[z],e},p.prototype.componentDidMount=function(){P&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},p.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},p.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},p.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},p.prototype.getWrappedInstance=function(){return h()(M,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+b+"() call."),this.wrappedInstance},p.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},p.prototype.initSelector=function(){var t=e(this.store.dispatch,l);this.selector=c(t,this.store),this.selector.run(this.props)},p.prototype.initSubscription=function(){if(P){var e=(this.propsMode?this.props:this.context)[z];this.subscription=new y.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},p.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},p.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},p.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},p.prototype.addExtraProps=function(e){if(!M&&!S&&(!this.propsMode||!this.subscription))return e;var t=v({},e);return M&&(t.ref=this.setWrappedInstance),S&&(t[S]=this.renderCount++),this.propsMode&&this.subscription&&(t[z]=this.subscription),t},p.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(m.createElement)(t,this.addExtraProps(e.props))},p}(m.Component);return p.WrappedComponent=t,p.displayName=a,p.childContextTypes=I,p.contextTypes=F,p.propTypes=F,u()(p,t)}}t.a=l;var p=r(83),u=r.n(p),d=r(84),h=r.n(d),m=r(0),y=(r.n(m),r(85)),f=r(29),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},g=0,_={}},function(e,t,r){"use strict";function o(e){return function(t,r){function o(){return n}var n=e(t,r);return o.dependsOnOwnProps=!1,o}}function n(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,r){var o=(r.displayName,function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)});return o.dependsOnOwnProps=!0,o.mapToProps=function(t,r){o.mapToProps=e,o.dependsOnOwnProps=n(e);var i=o(t,r);return"function"===typeof i&&(o.mapToProps=i,o.dependsOnOwnProps=n(i),i=o(t,r)),i},o}}t.a=o,t.b=i;r(32)},function(e,t,r){"use strict";r(92),r(10)},function(e,t,r){"use strict";var o=r(94),n=o.a.Symbol;t.a=n},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[-92.467044,44.022365],[-92.467039,44.022377],[-92.467039,44.022533],[-92.467046,44.022574],[-92.467074,44.022612],[-92.467131,44.022635],[-92.467219,44.022674],[-92.467227,44.022677],[-92.46727,44.022705],[-92.467305,44.022736],[-92.467328,44.02277],[-92.467357,44.022832],[-92.467365,44.023382],[-92.467366,44.023495],[-92.467206,44.023494],[-92.465934,44.023491],[-92.465807,44.023491],[-92.464669,44.02349],[-92.46453,44.02349],[-92.464526,44.02337],[-92.46452,44.023069],[-92.464518,44.022776],[-92.464521,44.022527],[-92.464521,44.02252],[-92.464518,44.02172],[-92.464518,44.021597],[-92.464516,44.021468],[-92.464504,44.020502],[-92.464503,44.020449],[-92.464504,44.020552],[-92.464524,44.019417],[-92.464526,44.01932],[-92.464656,44.019319],[-92.46523,44.019316],[-92.465816,44.019313],[-92.465908,44.019312],[-92.466066,44.019314],[-92.466684,44.019319],[-92.467351,44.019318],[-92.46735,44.019515],[-92.467347,44.020367],[-92.467347,44.020446],[-92.467347,44.020512],[-92.467347,44.020764],[-92.467348,44.021476],[-92.467348,44.021597],[-92.467349,44.021708],[-92.46735,44.022191],[-92.467317,44.022224],[-92.467263,44.022256],[-92.467224,44.022269],[-92.467198,44.022277],[-92.467123,44.022292],[-92.46708,44.022315],[-92.467054,44.022341],[-92.467044,44.022365]]}}]}},function(e,t,r){"use strict";(function(t){function r(){p=!0;for(var e,t,r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}p=!1}function o(e){1!==u.push(e)||p||n()}var n,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,s=new i(r),c=t.document.createTextNode("");s.observe(c,{characterData:!0}),n=function(){c.data=a=++a%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){r(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(r,0)};else{var l=new t.MessageChannel;l.port1.onmessage=r,n=function(){l.port2.postMessage(0)}}var p,u=[];e.exports=o}).call(t,r(3))},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"===typeof e}function n(e){return"number"===typeof e}function i(e){return"object"===typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var p=new Error('Uncaught, unspecified "error" event. ('+t+")");throw p.context=t,p}if(r=this._events[e],a(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),l=r.slice(),n=l.length,c=0;c<n;c++)l[c].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,n,a,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var r=e[0],o=e[1],n=e[2],i=e[3];r+=(o&n|~o&i)+t[0]-680876936|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[1]-389564586|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[2]+606105819|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[3]-1044525330|0,o=(o<<22|o>>>10)+n|0,r+=(o&n|~o&i)+t[4]-176418897|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[5]+1200080426|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[6]-1473231341|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[7]-45705983|0,o=(o<<22|o>>>10)+n|0,r+=(o&n|~o&i)+t[8]+1770035416|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[9]-1958414417|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[10]-42063|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[11]-1990404162|0,o=(o<<22|o>>>10)+n|0,r+=(o&n|~o&i)+t[12]+1804603682|0,r=(r<<7|r>>>25)+o|0,i+=(r&o|~r&n)+t[13]-40341101|0,i=(i<<12|i>>>20)+r|0,n+=(i&r|~i&o)+t[14]-1502002290|0,n=(n<<17|n>>>15)+i|0,o+=(n&i|~n&r)+t[15]+1236535329|0,o=(o<<22|o>>>10)+n|0,r+=(o&i|n&~i)+t[1]-165796510|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[6]-1069501632|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[11]+643717713|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[0]-373897302|0,o=(o<<20|o>>>12)+n|0,r+=(o&i|n&~i)+t[5]-701558691|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[10]+38016083|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[15]-660478335|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[4]-405537848|0,o=(o<<20|o>>>12)+n|0,r+=(o&i|n&~i)+t[9]+568446438|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[14]-1019803690|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[3]-187363961|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[8]+1163531501|0,o=(o<<20|o>>>12)+n|0,r+=(o&i|n&~i)+t[13]-1444681467|0,r=(r<<5|r>>>27)+o|0,i+=(r&n|o&~n)+t[2]-51403784|0,i=(i<<9|i>>>23)+r|0,n+=(i&o|r&~o)+t[7]+1735328473|0,n=(n<<14|n>>>18)+i|0,o+=(n&r|i&~r)+t[12]-1926607734|0,o=(o<<20|o>>>12)+n|0,r+=(o^n^i)+t[5]-378558|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[8]-2022574463|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[11]+1839030562|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[14]-35309556|0,o=(o<<23|o>>>9)+n|0,r+=(o^n^i)+t[1]-1530992060|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[4]+1272893353|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[7]-155497632|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[10]-1094730640|0,o=(o<<23|o>>>9)+n|0,r+=(o^n^i)+t[13]+681279174|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[0]-358537222|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[3]-722521979|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[6]+76029189|0,o=(o<<23|o>>>9)+n|0,r+=(o^n^i)+t[9]-640364487|0,r=(r<<4|r>>>28)+o|0,i+=(r^o^n)+t[12]-421815835|0,i=(i<<11|i>>>21)+r|0,n+=(i^r^o)+t[15]+530742520|0,n=(n<<16|n>>>16)+i|0,o+=(n^i^r)+t[2]-995338651|0,o=(o<<23|o>>>9)+n|0,r+=(n^(o|~i))+t[0]-198630844|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[7]+1126891415|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[14]-1416354905|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[5]-57434055|0,o=(o<<21|o>>>11)+n|0,r+=(n^(o|~i))+t[12]+1700485571|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[3]-1894986606|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[10]-1051523|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[1]-2054922799|0,o=(o<<21|o>>>11)+n|0,r+=(n^(o|~i))+t[8]+1873313359|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[15]-30611744|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[6]-1560198380|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[13]+1309151649|0,o=(o<<21|o>>>11)+n|0,r+=(n^(o|~i))+t[4]-145523070|0,r=(r<<6|r>>>26)+o|0,i+=(o^(r|~n))+t[11]-1120210379|0,i=(i<<10|i>>>22)+r|0,n+=(r^(i|~o))+t[2]+718787259|0,n=(n<<15|n>>>17)+i|0,o+=(i^(n|~r))+t[9]-343485551|0,o=(o<<21|o>>>11)+n|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=n+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function n(e){var o,n,i,a,s,c,l=e.length,p=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=l;o+=64)t(p,r(e.substring(o-64,o)));for(e=e.substring(o-64),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<n;o+=1)i[o>>2]|=e.charCodeAt(o)<<(o%4<<3);if(i[o>>2]|=128<<(o%4<<3),o>55)for(t(p,i),o=0;o<16;o+=1)i[o]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,t(p,i),p}function i(e){var r,n,i,a,s,c,l=e.length,p=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=l;r+=64)t(p,o(e.subarray(r-64,r)));for(e=r-64<l?e.subarray(r-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=e[r]<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(p,i),r=0;r<16;r+=1)i[r]=0;return a=8*l,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,t(p,i),p}function a(e){var t,r="";for(t=0;t<4;t+=1)r+=m[e>>8*t+4&15]+m[e>>8*t&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e,t){var r,o=e.length,n=new ArrayBuffer(o),i=new Uint8Array(n);for(r=0;r<o;r+=1)i[r]=e.charCodeAt(r);return t?i:n}function p(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function u(e,t,r){var o=new Uint8Array(e.byteLength+t.byteLength);return o.set(new Uint8Array(e)),o.set(new Uint8Array(t),e.byteLength),r?o:o.buffer}function d(e){var t,r=[],o=e.length;for(t=0;t<o-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function h(){this.reset()}var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==s(n("hello"))&&function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,o){var n,i,a,s,c=this.byteLength,l=t(r,c),p=c;return o!==e&&(p=t(o,c)),l>p?new ArrayBuffer(0):(n=p-l,i=new ArrayBuffer(n),a=new Uint8Array(i),s=new Uint8Array(this,l,n),a.set(s),i)}}(),h.prototype.append=function(e){return this.appendBinary(c(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var o,n=this._buff.length;for(o=64;o<=n;o+=64)t(this._hash,r(this._buff.substring(o-64,o)));return this._buff=this._buff.substring(o-64),this},h.prototype.end=function(e){var t,r,o=this._buff,n=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)i[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(i,n),r=s(this._hash),e&&(r=d(r)),this.reset(),r},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,r){var o,n,i,a=r;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;o=8*this._length,o=o.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(o[2],16),i=parseInt(o[1],16)||0,e[14]=n,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(c(e),t)},h.hashBinary=function(e,t){var r=n(e),o=s(r);return t?d(o):o},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var r,n=u(this._buff.buffer,e,!0),i=n.length;for(this._length+=e.byteLength,r=64;r<=i;r+=64)t(this._hash,o(n.subarray(r-64,r)));return this._buff=r-64<i?new Uint8Array(n.buffer.slice(r-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,r,o=this._buff,n=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)i[t>>2]|=o[t]<<(t%4<<3);return this._finish(i,n),r=s(this._hash),e&&(r=d(r)),this.reset(),r},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=p(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=l(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var r=i(new Uint8Array(e)),o=s(r);return t?d(o):o},h})},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);e.exports=function(){return r(o),o}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t){function r(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=r},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);e.exports=function(){return r(o),o}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t){function r(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=r},function(e,t,r){"use strict";function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,n=0;n<e.length;n+=1)o.append(e[n]);return o.getBlob(t.type)}}function n(e){for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),n=0;n<t;n++)o[n]=e.charCodeAt(n);return r}function i(e,t){return o([n(e)],{type:t})}function a(e,t){return i(c(e),t)}function s(e,t){var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return s});var c=function(e){return atob(e)},l=function(e){return btoa(e)}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var o=("undefined"!==typeof AbortController&&AbortController,fetch,Headers)},function(e,t,r){r(45),e.exports=r(50)},function(e,t,r){"use strict";"undefined"===typeof Promise&&(r(46).enable(),window.Promise=r(48)),r(49),Object.assign=r(8)},function(e,t,r){"use strict";function o(){l=!1,s._47=null,s._71=null}function n(e){function t(t){(e.allRejections||a(u[t].error,e.whitelist||c))&&(u[t].displayId=p++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,i(u[t].displayId,u[t].error)))}function r(t){u[t].logged&&(e.onHandled?e.onHandled(u[t].displayId,u[t].error):u[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[t].displayId+".")))}e=e||{},l&&o(),l=!0;var n=0,p=0,u={};s._47=function(e){2===e._83&&u[e._56]&&(u[e._56].logged?r(e._56):clearTimeout(u[e._56].timeout),delete u[e._56])},s._71=function(e,r){0===e._75&&(e._56=n++,u[e._56]={displayId:null,error:r,timeout:setTimeout(t.bind(null,e._56),a(r,c)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=r(17),c=[ReferenceError,TypeError,RangeError],l=!1;t.disable=o,t.enable=n},function(e,t,r){"use strict";(function(t){function r(e){a.length||(i(),s=!0),a[a.length]=e}function o(){for(;c<a.length;){var e=c;if(c+=1,a[e].call(),c>l){for(var t=0,r=a.length-c;t<r;t++)a[t]=a[t+c];a.length-=c,c=0}}a.length=0,c=0,s=!1}function n(e){return function(){function t(){clearTimeout(r),clearInterval(o),e()}var r=setTimeout(t,0),o=setInterval(t,50)}}e.exports=r;var i,a=[],s=!1,c=0,l=1024,p="undefined"!==typeof t?t:self,u=p.MutationObserver||p.WebKitMutationObserver;i="function"===typeof u?function(e){var t=1,r=new u(e),o=document.createTextNode("");return r.observe(o,{characterData:!0}),function(){t=-t,o.data=t}}(o):n(o),r.requestFlush=i,r.makeRequestCallFromTimer=n}).call(t,r(3))},function(e,t,r){"use strict";function o(e){var t=new n(n._44);return t._83=1,t._18=e,t}var n=r(17);e.exports=n;var i=o(!0),a=o(!1),s=o(null),c=o(void 0),l=o(0),p=o("");n.resolve=function(e){if(e instanceof n)return e;if(null===e)return s;if(void 0===e)return c;if(!0===e)return i;if(!1===e)return a;if(0===e)return l;if(""===e)return p;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new n(t.bind(e))}catch(e){return new n(function(t,r){r(e)})}return o(e)},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){function o(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof n&&s.then===n.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?o(a,s._18):(2===s._83&&r(s._18),void s.then(function(e){o(a,e)},r))}var c=s.then;if("function"===typeof c){return void new n(c.bind(s)).then(function(e){o(a,e)},r)}}t[a]=s,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)o(a,t[a])})},n.reject=function(e){return new n(function(t,r){r(e)})},n.race=function(e){return new n(function(t,r){e.forEach(function(e){n.resolve(e).then(t,r)})})},n.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!==typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}function l(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&_(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var r=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function y(e){var t=new n;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function f(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,o){e=t(e),o=r(o);var n=this.map[e];this.map[e]=n?n+","+o:o},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,o){this.map[t(e)]=r(o)},n.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},v.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},u.call(h.prototype),u.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];f.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=h,e.Response=f,e.fetch=function(e,t){return new Promise(function(r,o){var n=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new f(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),n.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"===typeof n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r.n(o),i=r(52),a=r.n(i),s=r(60),c=(r.n(s),r(61)),l=r(140);a.a.render(n.a.createElement(c.a,null),document.getElementById("root")),Object(l.a)()},function(e,t,r){"use strict";function o(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)r+="&args[]="+encodeURIComponent(arguments[o+1]);g(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}function n(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||R}function i(){}function a(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||R}function s(e,t,r){var o=void 0,n={},i=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,o)&&!B.hasOwnProperty(o)&&(n[o]=t[o]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];n.children=c}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===n[o]&&(n[o]=s[o]);return{$$typeof:x,type:e,key:i,ref:a,props:n,_owner:I.current}}function c(e){return"object"===typeof e&&null!==e&&e.$$typeof===x}function l(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function p(e,t,r,o){if(j.length){var n=j.pop();return n.result=e,n.keyPrefix=t,n.func=r,n.context=o,n.count=0,n}return{result:e,keyPrefix:t,func:r,context:o,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function d(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case x:case S:a=!0}}if(a)return r(n,e,""===t?"."+h(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){i=e[s];var c=t+h(i,s);a+=d(i,c,r,n)}else if(null===e||"undefined"===typeof e?c=null:(c=z&&e[z]||e["@@iterator"],c="function"===typeof c?c:null),"function"===typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)i=i.value,c=t+h(i,s++),a+=d(i,c,r,n);else"object"===i&&(r=""+e,o("31","[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return a}function h(e,t){return"object"===typeof e&&null!==e&&null!=e.key?l(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function y(e,t,r){var o=e.result,n=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?f(e,o,r,w.thatReturnsArgument):null!=e&&(c(e)&&(t=n+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+r,e={$$typeof:x,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),o.push(e))}function f(e,t,r,o,n){var i="";null!=r&&(i=(""+r).replace(O,"$&/")+"/"),t=p(t,i,o,n),null==e||d(e,"",y,t),u(t)}var v=r(8),g=r(18),_=r(19),w=r(20),b="function"===typeof Symbol&&Symbol.for,x=b?Symbol.for("react.element"):60103,S=b?Symbol.for("react.portal"):60106,k=b?Symbol.for("react.fragment"):60107,P=b?Symbol.for("react.strict_mode"):60108,E=b?Symbol.for("react.profiler"):60114,C=b?Symbol.for("react.provider"):60109,A=b?Symbol.for("react.context"):60110,M=b?Symbol.for("react.async_mode"):60111,T=b?Symbol.for("react.forward_ref"):60112;b&&Symbol.for("react.timeout");var z="function"===typeof Symbol&&Symbol.iterator,R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&o("85"),this.updater.enqueueSetState(this,e,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=n.prototype;var F=a.prototype=new i;F.constructor=a,v(F,n.prototype),F.isPureReactComponent=!0;var I={current:null},N=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0},O=/\/+/g,j=[],D={Children:{map:function(e,t,r){if(null==e)return e;var o=[];return f(e,o,null,t,r),o},forEach:function(e,t,r){if(null==e)return e;t=p(null,null,t,r),null==e||d(e,"",m,t),u(t)},count:function(e){return null==e?0:d(e,"",w.thatReturnsNull,null)},toArray:function(e){var t=[];return f(e,t,null,w.thatReturnsArgument),t},only:function(e){return c(e)||o("143"),e}},createRef:function(){return{current:null}},Component:n,PureComponent:a,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:A,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null},e.Provider={$$typeof:C,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:T,render:e}},Fragment:k,StrictMode:P,unstable_AsyncMode:M,unstable_Profiler:E,createElement:s,cloneElement:function(e,t,r){(null===e||void 0===e)&&o("267",e);var n=void 0,i=v({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,c=I.current),void 0!==t.key&&(a=""+t.key);var l=void 0;e.type&&e.type.defaultProps&&(l=e.type.defaultProps);for(n in t)N.call(t,n)&&!B.hasOwnProperty(n)&&(i[n]=void 0===t[n]&&void 0!==l?l[n]:t[n])}if(1===(n=arguments.length-2))i.children=r;else if(1<n){l=Array(n);for(var p=0;p<n;p++)l[p]=arguments[p+2];i.children=l}return{$$typeof:x,type:e.type,key:a,ref:s,props:i,_owner:c}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,assign:v}},L={default:D},U=L&&D||L;e.exports=U.default?U.default:U},function(e,t,r){"use strict";function o(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}o(),e.exports=r(53)},function(e,t,r){"use strict";function o(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)r+="&args[]="+encodeURIComponent(arguments[o+1]);Io(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}function n(e,t,r,o,n,i,a,s,c){this._hasCaughtError=!1,this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function i(){if(Vo._hasRethrowError){var e=Vo._rethrowError;throw Vo._rethrowError=null,Vo._hasRethrowError=!1,e}}function a(){if(Wo)for(var e in Ho){var t=Ho[e],r=Wo.indexOf(e);if(-1<r||o("96",e),!Go[r]){t.extractEvents||o("97",e),Go[r]=t,r=t.eventTypes;for(var n in r){var i=void 0,a=r[n],c=t,l=n;Zo.hasOwnProperty(l)&&o("99",l),Zo[l]=a;var p=a.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&s(p[i],c,l);i=!0}else a.registrationName?(s(a.registrationName,c,l),i=!0):i=!1;i||o("98",n,e)}}}}function s(e,t,r){Jo[e]&&o("100",e),Jo[e]=t,Xo[e]=t.eventTypes[r].dependencies}function c(e){Wo&&o("101"),Wo=Array.prototype.slice.call(e),a()}function l(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];Ho.hasOwnProperty(t)&&Ho[t]===n||(Ho[t]&&o("102",t),Ho[t]=n,r=!0)}r&&a()}function p(e,t,r,o){t=e.type||"unknown-event",e.currentTarget=$o(o),Vo.invokeGuardedCallbackAndCatchFirstError(t,r,void 0,e),e.currentTarget=null}function u(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function d(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}function h(e,t){if(e){var r=e._dispatchListeners,o=e._dispatchInstances;if(Array.isArray(r))for(var n=0;n<r.length&&!e.isPropagationStopped();n++)p(e,t,r[n],o[n]);else r&&p(e,t,r,o);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function m(e){return h(e,!0)}function y(e){return h(e,!1)}function f(e,t){var r=e.stateNode;if(!r)return null;var n=Qo(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}return e?null:(r&&"function"!==typeof r&&o("231",t,typeof r),r)}function v(e,t){null!==e&&(en=u(en,e)),e=en,en=null,e&&(t?d(e,m):d(e,y),en&&o("95"),Vo.rethrowCaughtError())}function g(e,t,r,o){for(var n=null,i=0;i<Go.length;i++){var a=Go[i];a&&(a=a.extractEvents(e,t,r,o))&&(n=u(n,a))}v(n,!1)}function _(e){if(e[nn])return e[nn];for(;!e[nn];){if(!e.parentNode)return null;e=e.parentNode}return e=e[nn],5===e.tag||6===e.tag?e:null}function w(e){if(5===e.tag||6===e.tag)return e.stateNode;o("33")}function b(e){return e[an]||null}function x(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function S(e,t,r){for(var o=[];e;)o.push(e),e=x(e);for(e=o.length;0<e--;)t(o[e],"captured",r);for(e=0;e<o.length;e++)t(o[e],"bubbled",r)}function k(e,t,r){(t=f(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=u(r._dispatchListeners,t),r._dispatchInstances=u(r._dispatchInstances,e))}function P(e){e&&e.dispatchConfig.phasedRegistrationNames&&S(e._targetInst,k,e)}function E(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?x(t):null,S(t,k,e)}}function C(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=f(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=u(r._dispatchListeners,t),r._dispatchInstances=u(r._dispatchInstances,e))}function A(e){e&&e.dispatchConfig.registrationName&&C(e._targetInst,null,e)}function M(e){d(e,P)}function T(e,t,r,o){if(r&&o)e:{for(var n=r,i=o,a=0,s=n;s;s=x(s))a++;s=0;for(var c=i;c;c=x(c))s++;for(;0<a-s;)n=x(n),a--;for(;0<s-a;)i=x(i),s--;for(;a--;){if(n===i||n===i.alternate)break e;n=x(n),i=x(i)}n=null}else n=null;for(i=n,n=[];r&&r!==i&&(null===(a=r.alternate)||a!==i);)n.push(r),r=x(r);for(r=[];o&&o!==i&&(null===(a=o.alternate)||a!==i);)r.push(o),o=x(o);for(o=0;o<n.length;o++)C(n[o],"bubbled",e);for(e=r.length;0<e--;)C(r[e],"captured",t)}function z(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r["ms"+e]="MS"+t,r["O"+e]="o"+t.toLowerCase(),r}function R(e){if(pn[e])return pn[e];if(!ln[e])return e;var t,r=ln[e];for(t in r)if(r.hasOwnProperty(t)&&t in un)return pn[e]=r[t];return e}function F(){return!vn&&Bo.canUseDOM&&(vn="textContent"in document.documentElement?"textContent":"innerText"),vn}function I(){if(gn._fallbackText)return gn._fallbackText;var e,t,r=gn._startText,o=r.length,n=N(),i=n.length;for(e=0;e<o&&r[e]===n[e];e++);var a=o-e;for(t=1;t<=a&&r[o-t]===n[i-t];t++);return gn._fallbackText=n.slice(e,1<t?1-t:void 0),gn._fallbackText}function N(){return"value"in gn._root?gn._root.value:gn._root[F()]}function B(e,t,r,o){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface;for(var n in e)e.hasOwnProperty(n)&&((t=e[n])?this[n]=t(r):"target"===n?this.target=o:this[n]=r[n]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?jo.thatReturnsTrue:jo.thatReturnsFalse,this.isPropagationStopped=jo.thatReturnsFalse,this}function O(e,t,r,o){if(this.eventPool.length){var n=this.eventPool.pop();return this.call(n,e,t,r,o),n}return new this(e,t,r,o)}function j(e){e instanceof this||o("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function D(e){e.eventPool=[],e.getPooled=O,e.release=j}function L(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function U(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function q(e,t){switch(e){case"compositionend":return U(t);case"keypress":return 32!==t.which?null:(Tn=!0,An);case"textInput":return e=t.data,e===An&&Tn?null:e;default:return null}}function V(e,t){if(zn)return"compositionend"===e||!kn&&L(e,t)?(e=I(),gn._root=null,gn._startText=null,gn._fallbackText=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn?null:t.data;default:return null}}function W(e){if(e=Yo(e)){Fn&&"function"===typeof Fn.restoreControlledState||o("194");var t=Qo(e.stateNode);Fn.restoreControlledState(e.stateNode,e.type,t)}}function H(e){Nn?Bn?Bn.push(e):Bn=[e]:Nn=e}function G(){return null!==Nn||null!==Bn}function Z(){if(Nn){var e=Nn,t=Bn;if(Bn=Nn=null,W(e),t)for(e=0;e<t.length;e++)W(t[e])}}function J(e,t){return e(t)}function X(e,t,r){return e(t,r)}function K(){}function Q(e,t){if(jn)return e(t);jn=!0;try{return J(e,t)}finally{jn=!1,G()&&(K(),Z())}}function Y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function $(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Bo.canUseDOM||t&&!("addEventListener"in document))&&(e="on"+e,t=e in document,t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function re(e){var t=te(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oe(e){e._valueTracker||(e._valueTracker=re(e))}function ne(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=te(e)?e.checked?"true":"false":e.value),(e=o)!==r&&(t.setValue(e),!0)}function ie(e){return null===e||"undefined"===typeof e?null:(e=Yn&&e[Yn]||e["@@iterator"],"function"===typeof e?e:null)}function ae(e){var t=e.type;if("function"===typeof t)return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case Xn:return"AsyncMode";case Jn:return"Context.Consumer";case Wn:return"ReactFragment";case Vn:return"ReactPortal";case Gn:return"Profiler("+e.pendingProps.id+")";case Zn:return"Context.Provider";case Hn:return"StrictMode";case Qn:return"Timeout"}if("object"===typeof t&&null!==t)switch(t.$$typeof){case Kn:return e=t.render.displayName||t.render.name||"",""!==e?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var r=e._debugOwner,o=e._debugSource,n=ae(e),i=null;r&&(i=ae(r)),r=o,n="\n    in "+(n||"Unknown")+(r?" (at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+")":i?" (created by "+i+")":"");break e;default:n=""}t+=n,e=e.return}while(e);return t}function ce(e){return!!ei.call(ri,e)||!ei.call(ti,e)&&($n.test(e)?ri[e]=!0:(ti[e]=!0,!1))}function le(e,t,r,o){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function pe(e,t,r,o){if(null===t||"undefined"===typeof t||le(e,t,r,o))return!0;if(o)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ue(e,t,r,o,n){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t}function de(e){return e[1].toUpperCase()}function he(e,t,r,o){var n=oi.hasOwnProperty(t)?oi[t]:null;(null!==n?0===n.type:!o&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(pe(t,r,n,o)&&(r=null),o||null===n?ce(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,o=n.attributeNamespace,null===r?e.removeAttribute(t):(n=n.type,r=3===n||4===n&&!0===r?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}function me(e,t){var r=t.checked;return Oo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ye(e,t){var r=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;r=we(null!=t.value?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function fe(e,t){null!=(t=t.checked)&&he(e,"checked",t,!1)}function ve(e,t){fe(e,t);var r=we(t.value);null!=r&&("number"===t.type?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r)),t.hasOwnProperty("value")?_e(e,t.type,r):t.hasOwnProperty("defaultValue")&&_e(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ge(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var o=e.value;r||t===o||(e.value=t),e.defaultValue=t}r=e.name,""!==r&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==r&&(e.name=r)}function _e(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e,t,r){return e=B.getPooled(ii.change,e,t,r),e.type="change",H(r),M(e),e}function xe(e){v(e,!1)}function Se(e){if(ne(w(e)))return e}function ke(e,t){if("change"===e)return t}function Pe(){ai&&(ai.detachEvent("onpropertychange",Ee),si=ai=null)}function Ee(e){"value"===e.propertyName&&Se(si)&&(e=be(si,e,$(e)),Q(xe,e))}function Ce(e,t,r){"focus"===e?(Pe(),ai=t,si=r,ai.attachEvent("onpropertychange",Ee)):"blur"===e&&Pe()}function Ae(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Se(si)}function Me(e,t){if("click"===e)return Se(t)}function Te(e,t){if("input"===e||"change"===e)return Se(t)}function ze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ui[e])&&!!t[e]}function Re(){return ze}function Fe(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ie(e){2!==Fe(e)&&o("188")}function Ne(e){var t=e.alternate;if(!t)return t=Fe(e),3===t&&o("188"),1===t?null:e;for(var r=e,n=t;;){var i=r.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var s=i.child;s;){if(s===r)return Ie(i),e;if(s===n)return Ie(i),t;s=s.sibling}o("188")}if(r.return!==n.return)r=i,n=a;else{s=!1;for(var c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}s||o("189")}}r.alternate!==n&&o("190")}return 3!==r.tag&&o("188"),r.stateNode.current===r?e:t}function Be(e){if(!(e=Ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Oe(e){if(!(e=Ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function je(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function De(e,t){var r=e[0];e=e[1];var o="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],isInteractive:t},Ci[e]=t,Ai[r]=t}function Le(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var r;for(r=t;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(t),t=_(r)}while(t);for(r=0;r<e.ancestors.length;r++)t=e.ancestors[r],g(e.topLevelType,t,e.nativeEvent,$(e.nativeEvent))}function Ue(e){Ri=!!e}function qe(e,t){if(!t)return null;var r=(Ti(e)?We:He).bind(null,e);t.addEventListener(e,r,!1)}function Ve(e,t){if(!t)return null;var r=(Ti(e)?We:He).bind(null,e);t.addEventListener(e,r,!0)}function We(e,t){X(He,e,t)}function He(e,t){if(Ri){var r=$(t);if(r=_(r),null===r||"number"!==typeof r.tag||2===Fe(r)||(r=null),zi.length){var o=zi.pop();o.topLevelType=e,o.nativeEvent=t,o.targetInst=r,e=o}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{Q(Le,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>zi.length&&zi.push(e)}}}function Ge(e){return Object.prototype.hasOwnProperty.call(e,Bi)||(e[Bi]=Ni++,Ii[e[Bi]]={}),Ii[e[Bi]]}function Ze(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Je(e,t){var r=Ze(e);e=0;for(var o;r;){if(3===r.nodeType){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ze(r)}}function Xe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ke(e,t){if(qi||null==Di||Di!==Do())return null;var r=Di;return"selectionStart"in r&&Xe(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?(r=window.getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}):r=void 0,Ui&&Lo(Ui,r)?null:(Ui=r,e=B.getPooled(ji.select,Li,e,t),e.type="select",e.target=Di,M(e),e)}function Qe(e){var t="";return No.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}function Ye(e,t){return e=Oo({children:void 0},t),(t=Qe(t.children))&&(e.children=t),e}function $e(e,t,r,o){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&o&&(e[r].defaultSelected=!0)}else{for(r=""+r,t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(o&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function et(e,t){var r=t.value;e._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),Oo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rt(e,t){var r=t.value;null==r&&(r=t.defaultValue,t=t.children,null!=t&&(null!=r&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),r=""+t),null==r&&(r="")),e._wrapperState={initialValue:""+r}}function ot(e,t){var r=t.value;null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&(e.defaultValue=r)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function nt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function it(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?it(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function ct(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=0===r.indexOf("--"),n=r,i=t[r];n=null==i||"boolean"===typeof i||""===i?"":o||"number"!==typeof i||0===i||ya.hasOwnProperty(n)&&ya[n]?(""+i).trim():i+"px","float"===r&&(r="cssFloat"),o?e.setProperty(r,n):e[r]=n}}function lt(e,t,r){t&&(va[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,r()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!==typeof t.style&&o("62",r()))}function pt(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ut(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var r=Ge(e);t=Xo[t];for(var o=0;o<t.length;o++){var n=t[o];if(!r.hasOwnProperty(n)||!r[n]){switch(n){case"scroll":Ve("scroll",e);break;case"focus":case"blur":Ve("focus",e),Ve("blur",e),r.blur=!0,r.focus=!0;break;case"cancel":case"close":ee(n,!0)&&Ve(n,e);break;case"invalid":case"submit":case"reset":break;default:-1===fn.indexOf(n)&&qe(n,e)}r[n]=!0}}}function dt(e,t,r,o){return r=9===r.nodeType?r:r.ownerDocument,o===da.html&&(o=it(e)),o===da.html?"script"===e?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?r.createElement(e,{is:t.is}):r.createElement(e):e=r.createElementNS(o,e),e}function ht(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function mt(e,t,r,o){var n=pt(t,r);switch(t){case"iframe":case"object":qe("load",e);var i=r;break;case"video":case"audio":for(i=0;i<fn.length;i++)qe(fn[i],e);i=r;break;case"source":qe("error",e),i=r;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=r;break;case"form":qe("reset",e),qe("submit",e),i=r;break;case"details":qe("toggle",e),i=r;break;case"input":ye(e,r),i=me(e,r),qe("invalid",e),ut(o,"onChange");break;case"option":i=Ye(e,r);break;case"select":et(e,r),i=Oo({},r,{value:void 0}),qe("invalid",e),ut(o,"onChange");break;case"textarea":rt(e,r),i=tt(e,r),qe("invalid",e),ut(o,"onChange");break;default:i=r}lt(t,i,ga);var a,s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];"style"===a?ct(e,c,ga):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ma(e,c):"children"===a?"string"===typeof c?("textarea"!==t||""!==c)&&st(e,c):"number"===typeof c&&st(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Jo.hasOwnProperty(a)?null!=c&&ut(o,a):null!=c&&he(e,a,c,n))}switch(t){case"input":oe(e),ge(e,r,!1);break;case"textarea":oe(e),nt(e,r);break;case"option":null!=r.value&&e.setAttribute("value",r.value);break;case"select":e.multiple=!!r.multiple,t=r.value,null!=t?$e(e,!!r.multiple,t,!1):null!=r.defaultValue&&$e(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=jo)}}function yt(e,t,r,o,n){var i=null;switch(t){case"input":r=me(e,r),o=me(e,o),i=[];break;case"option":r=Ye(e,r),o=Ye(e,o),i=[];break;case"select":r=Oo({},r,{value:void 0}),o=Oo({},o,{value:void 0}),i=[];break;case"textarea":r=tt(e,r),o=tt(e,o),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=jo)}lt(t,o,ga),t=e=void 0;var a=null;for(e in r)if(!o.hasOwnProperty(e)&&r.hasOwnProperty(e)&&null!=r[e])if("style"===e){var s=r[e];for(t in s)s.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Jo.hasOwnProperty(e)?i||(i=[]):(i=i||[]).push(e,null));for(e in o){var c=o[e];if(s=null!=r?r[e]:void 0,o.hasOwnProperty(e)&&c!==s&&(null!=c||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in c)c.hasOwnProperty(t)&&s[t]!==c[t]&&(a||(a={}),a[t]=c[t])}else a||(i||(i=[]),i.push(e,a)),a=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(e,""+c)):"children"===e?s===c||"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Jo.hasOwnProperty(e)?(null!=c&&ut(n,e),i||s===c||(i=[])):(i=i||[]).push(e,c))}return a&&(i=i||[]).push("style",a),i}function ft(e,t,r,o,n){"input"===r&&"radio"===n.type&&null!=n.name&&fe(e,n),pt(r,o),o=pt(r,n);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?ct(e,s,ga):"dangerouslySetInnerHTML"===a?ma(e,s):"children"===a?st(e,s):he(e,a,s,o)}switch(r){case"input":ve(e,n);break;case"textarea":ot(e,n);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!n.multiple,r=n.value,null!=r?$e(e,!!n.multiple,r,!1):t!==!!n.multiple&&(null!=n.defaultValue?$e(e,!!n.multiple,n.defaultValue,!0):$e(e,!!n.multiple,n.multiple?[]:"",!1))}}function vt(e,t,r,o,n){switch(t){case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(o=0;o<fn.length;o++)qe(fn[o],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"form":qe("reset",e),qe("submit",e);break;case"details":qe("toggle",e);break;case"input":ye(e,r),qe("invalid",e),ut(n,"onChange");break;case"select":et(e,r),qe("invalid",e),ut(n,"onChange");break;case"textarea":rt(e,r),qe("invalid",e),ut(n,"onChange")}lt(t,r,ga),o=null;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];"children"===i?"string"===typeof a?e.textContent!==a&&(o=["children",a]):"number"===typeof a&&e.textContent!==""+a&&(o=["children",""+a]):Jo.hasOwnProperty(i)&&null!=a&&ut(n,i)}switch(t){case"input":oe(e),ge(e,r,!0);break;case"textarea":oe(e),nt(e,r);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(e.onclick=jo)}return o}function gt(e,t){return e.nodeValue!==t}function _t(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wt(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html}function bt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function xt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function St(e){return{current:e}}function kt(e){0>Ea||(e.current=Pa[Ea],Pa[Ea]=null,Ea--)}function Pt(e,t){Ea++,Pa[Ea]=e.current,e.current=t}function Et(e){return At(e)?Ma:Ca.current}function Ct(e,t){var r=e.type.contextTypes;if(!r)return qo;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var n,i={};for(n in r)i[n]=t[n];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function At(e){return 2===e.tag&&null!=e.type.childContextTypes}function Mt(e){At(e)&&(kt(Aa,e),kt(Ca,e))}function Tt(e){kt(Aa,e),kt(Ca,e)}function zt(e,t,r){Ca.current!==qo&&o("168"),Pt(Ca,t,e),Pt(Aa,r,e)}function Rt(e,t){var r=e.stateNode,n=e.type.childContextTypes;if("function"!==typeof r.getChildContext)return t;r=r.getChildContext();for(var i in r)i in n||o("108",ae(e)||"Unknown",i);return Oo({},t,r)}function Ft(e){if(!At(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||qo,Ma=Ca.current,Pt(Ca,t,e),Pt(Aa,Aa.current,e),!0}function It(e,t){var r=e.stateNode;if(r||o("169"),t){var n=Rt(e,Ma);r.__reactInternalMemoizedMergedChildContext=n,kt(Aa,e),kt(Ca,e),Pt(Ca,n,e)}else kt(Aa,e);Pt(Aa,t,e)}function Nt(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Bt(e,t,r){var o=e.alternate;return null===o?(o=new Nt(e.tag,t,e.key,e.mode),o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.effectTag=0,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null),o.expirationTime=r,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Ot(e,t,r){var n=e.type,i=e.key;if(e=e.props,"function"===typeof n)var a=n.prototype&&n.prototype.isReactComponent?2:0;else if("string"===typeof n)a=5;else switch(n){case Wn:return jt(e.children,t,r,i);case Xn:a=11,t|=3;break;case Hn:a=11,t|=2;break;case Gn:return n=new Nt(15,e,i,4|t),n.type=Gn,n.expirationTime=r,n;case Qn:a=16,t|=2;break;default:e:{switch("object"===typeof n&&null!==n?n.$$typeof:null){case Zn:a=13;break e;case Jn:a=12;break e;case Kn:a=14;break e;default:o("130",null==n?n:typeof n,"")}a=void 0}}return t=new Nt(a,e,i,t),t.type=n,t.expirationTime=r,t}function jt(e,t,r,o){return e=new Nt(10,e,o,t),e.expirationTime=r,e}function Dt(e,t,r){return e=new Nt(6,e,null,t),e.expirationTime=r,e}function Lt(e,t,r){return t=new Nt(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ut(e,t,r){return t=new Nt(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:r,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function qt(e){return function(t){try{return e(t)}catch(e){}}}function Vt(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Ta=qt(function(e){return t.onCommitFiberRoot(r,e)}),za=qt(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}return!0}function Wt(e){"function"===typeof Ta&&Ta(e)}function Ht(e){"function"===typeof za&&za(e)}function Gt(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Zt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Jt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Xt(e,t,r){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>r)&&(e.expirationTime=r)}function Kt(e,t,r){var o=e.alternate;if(null===o){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=Gt(e.memoizedState))}else n=e.updateQueue,i=o.updateQueue,null===n?null===i?(n=e.updateQueue=Gt(e.memoizedState),i=o.updateQueue=Gt(o.memoizedState)):n=e.updateQueue=Zt(i):null===i&&(i=o.updateQueue=Zt(n));null===i||n===i?Xt(n,t,r):null===n.lastUpdate||null===i.lastUpdate?(Xt(n,t,r),Xt(i,t,r)):(Xt(n,t,r),i.lastUpdate=t)}function Qt(e,t,r){var o=e.updateQueue;o=null===o?e.updateQueue=Gt(e.memoizedState):Yt(e,o),null===o.lastCapturedUpdate?o.firstCapturedUpdate=o.lastCapturedUpdate=t:(o.lastCapturedUpdate.next=t,o.lastCapturedUpdate=t),(0===o.expirationTime||o.expirationTime>r)&&(o.expirationTime=r)}function Yt(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=Zt(t)),t}function $t(e,t,r,o,n,i){switch(r.tag){case 1:return e=r.payload,"function"===typeof e?e.call(i,o,n):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(e=r.payload,null===(n="function"===typeof e?e.call(i,o,n):e)||void 0===n)break;return Oo({},o,n);case 2:Ra=!0}return o}function er(e,t,r,o,n){if(Ra=!1,!(0===t.expirationTime||t.expirationTime>n)){t=Yt(e,t);for(var i=t.baseState,a=null,s=0,c=t.firstUpdate,l=i;null!==c;){var p=c.expirationTime;p>n?(null===a&&(a=c,i=l),(0===s||s>p)&&(s=p)):(l=$t(e,t,c,l,r,o),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(p=null,c=t.firstCapturedUpdate;null!==c;){var u=c.expirationTime;u>n?(null===p&&(p=c,null===a&&(i=l)),(0===s||s>u)&&(s=u)):(l=$t(e,t,c,l,r,o),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===p?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===p&&(i=l),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=p,t.expirationTime=s,e.memoizedState=l}}function tr(e,t){"function"!==typeof e&&o("191",e),e.call(t)}function rr(e,t,r){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var o=e.callback;null!==o&&(e.callback=null,tr(o,r)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)t=e.callback,null!==t&&(e.callback=null,tr(t,r)),e=e.nextEffect}function or(e,t){return{value:e,source:t,stack:se(t)}}function nr(e){var t=e.type._context;Pt(Na,t._changedBits,e),Pt(Ia,t._currentValue,e),Pt(Fa,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function ir(e){var t=Na.current,r=Ia.current;kt(Fa,e),kt(Ia,e),kt(Na,e),e=e.type._context,e._currentValue=r,e._changedBits=t}function ar(e){return e===Ba&&o("174"),e}function sr(e,t){Pt(Da,t,e),Pt(ja,e,e),Pt(Oa,Ba,e);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:at(null,"");break;default:r=8===r?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=at(t,r)}kt(Oa,e),Pt(Oa,t,e)}function cr(e){kt(Oa,e),kt(ja,e),kt(Da,e)}function lr(e){ja.current===e&&(kt(Oa,e),kt(ja,e))}function pr(e,t,r){var o=e.memoizedState;t=t(r,o),o=null===t||void 0===t?o:Oo({},o,t),e.memoizedState=o,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=o)}function ur(e,t,r,o,n,i){var a=e.stateNode;return e=e.type,"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(r,n,i):!e.prototype||!e.prototype.isPureReactComponent||(!Lo(t,r)||!Lo(o,n))}function dr(e,t,r,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&La.enqueueReplaceState(t,t.state,null)}function hr(e,t){var r=e.type,o=e.stateNode,n=e.pendingProps,i=Et(e);o.props=n,o.state=e.memoizedState,o.refs=qo,o.context=Ct(e,i),i=e.updateQueue,null!==i&&(er(e,i,n,o,t),o.state=e.memoizedState),i=e.type.getDerivedStateFromProps,"function"===typeof i&&(pr(e,i,n),o.state=e.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(r=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),r!==o.state&&La.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(er(e,i,n,o,t),o.state=e.memoizedState)),"function"===typeof o.componentDidMount&&(e.effectTag|=4)}function mr(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;var n=void 0;r&&(2!==r.tag&&o("110"),n=r.stateNode),n||o("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs===qo?n.refs={}:n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}"string"!==typeof e&&o("148"),r._owner||o("254",e)}return e}function yr(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fr(e){function t(t,r){if(e){var o=t.lastEffect;null!==o?(o.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,o){if(!e)return null;for(;null!==o;)t(r,o),o=o.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){return e=Bt(e,t,r),e.index=0,e.sibling=null,e}function a(t,r,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index,o<r?(t.effectTag=2,r):o):(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,r,o){return null===t||6!==t.tag?(t=Dt(r,e.mode,o),t.return=e,t):(t=i(t,r,o),t.return=e,t)}function l(e,t,r,o){return null!==t&&t.type===r.type?(o=i(t,r.props,o),o.ref=mr(e,t,r),o.return=e,o):(o=Ot(r,e.mode,o),o.ref=mr(e,t,r),o.return=e,o)}function p(e,t,r,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=Lt(r,e.mode,o),t.return=e,t):(t=i(t,r.children||[],o),t.return=e,t)}function u(e,t,r,o,n){return null===t||10!==t.tag?(t=jt(r,e.mode,o,n),t.return=e,t):(t=i(t,r,o),t.return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return t=Dt(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case qn:return r=Ot(t,e.mode,r),r.ref=mr(e,null,t),r.return=e,r;case Vn:return t=Lt(t,e.mode,r),t.return=e,t}if(Ua(t)||ie(t))return t=jt(t,e.mode,r,null),t.return=e,t;yr(e,t)}return null}function h(e,t,r,o){var n=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==n?null:c(e,t,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case qn:return r.key===n?r.type===Wn?u(e,t,r.props.children,o,n):l(e,t,r,o):null;case Vn:return r.key===n?p(e,t,r,o):null}if(Ua(r)||ie(r))return null!==n?null:u(e,t,r,o,null);yr(e,r)}return null}function m(e,t,r,o,n){if("string"===typeof o||"number"===typeof o)return e=e.get(r)||null,c(t,e,""+o,n);if("object"===typeof o&&null!==o){switch(o.$$typeof){case qn:return e=e.get(null===o.key?r:o.key)||null,o.type===Wn?u(t,e,o.props.children,n,o.key):l(t,e,o,n);case Vn:return e=e.get(null===o.key?r:o.key)||null,p(t,e,o,n)}if(Ua(o)||ie(o))return e=e.get(r)||null,u(t,e,o,n,null);yr(t,o)}return null}function y(o,i,s,c){for(var l=null,p=null,u=i,y=i=0,f=null;null!==u&&y<s.length;y++){u.index>y?(f=u,u=null):f=u.sibling;var v=h(o,u,s[y],c);if(null===v){null===u&&(u=f);break}e&&u&&null===v.alternate&&t(o,u),i=a(v,i,y),null===p?l=v:p.sibling=v,p=v,u=f}if(y===s.length)return r(o,u),l;if(null===u){for(;y<s.length;y++)(u=d(o,s[y],c))&&(i=a(u,i,y),null===p?l=u:p.sibling=u,p=u);return l}for(u=n(o,u);y<s.length;y++)(f=m(u,o,y,s[y],c))&&(e&&null!==f.alternate&&u.delete(null===f.key?y:f.key),i=a(f,i,y),null===p?l=f:p.sibling=f,p=f);return e&&u.forEach(function(e){return t(o,e)}),l}function f(i,s,c,l){var p=ie(c);"function"!==typeof p&&o("150"),null==(c=p.call(c))&&o("151");for(var u=p=null,y=s,f=s=0,v=null,g=c.next();null!==y&&!g.done;f++,g=c.next()){y.index>f?(v=y,y=null):v=y.sibling;var _=h(i,y,g.value,l);if(null===_){y||(y=v);break}e&&y&&null===_.alternate&&t(i,y),s=a(_,s,f),null===u?p=_:u.sibling=_,u=_,y=v}if(g.done)return r(i,y),p;if(null===y){for(;!g.done;f++,g=c.next())null!==(g=d(i,g.value,l))&&(s=a(g,s,f),null===u?p=g:u.sibling=g,u=g);return p}for(y=n(i,y);!g.done;f++,g=c.next())null!==(g=m(y,i,f,g.value,l))&&(e&&null!==g.alternate&&y.delete(null===g.key?f:g.key),s=a(g,s,f),null===u?p=g:u.sibling=g,u=g);return e&&y.forEach(function(e){return t(i,e)}),p}return function(e,n,a,c){var l="object"===typeof a&&null!==a&&a.type===Wn&&null===a.key;l&&(a=a.props.children);var p="object"===typeof a&&null!==a;if(p)switch(a.$$typeof){case qn:e:{for(p=a.key,l=n;null!==l;){if(l.key===p){if(10===l.tag?a.type===Wn:l.type===a.type){r(e,l.sibling),n=i(l,a.type===Wn?a.props.children:a.props,c),n.ref=mr(e,l,a),n.return=e,e=n;break e}r(e,l);break}t(e,l),l=l.sibling}a.type===Wn?(n=jt(a.props.children,e.mode,c,a.key),n.return=e,e=n):(c=Ot(a,e.mode,c),c.ref=mr(e,n,a),c.return=e,e=c)}return s(e);case Vn:e:{for(l=a.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),n=i(n,a.children||[],c),n.return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}n=Lt(a,e.mode,c),n.return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,a,c),n.return=e,e=n):(r(e,n),n=Dt(a,e.mode,c),n.return=e,e=n),s(e);if(Ua(a))return y(e,n,a,c);if(ie(a))return f(e,n,a,c);if(p&&yr(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 2:case 1:c=e.type,o("152",c.displayName||c.name||"Component")}return r(e,n)}}function vr(e,t){var r=new Nt(5,null,null,0);r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function gr(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function _r(e){if(Ga){var t=Ha;if(t){var r=t;if(!gr(e,t)){if(!(t=bt(r))||!gr(e,t))return e.effectTag|=2,Ga=!1,void(Wa=e);vr(Wa,r)}Wa=e,Ha=xt(t)}else e.effectTag|=2,Ga=!1,Wa=e}}function wr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Wa=e}function br(e){if(e!==Wa)return!1;if(!Ga)return wr(e),Ga=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wt(t,e.memoizedProps))for(t=Ha;t;)vr(e,t),t=bt(t);return wr(e),Ha=Wa?bt(e.stateNode):null,!0}function xr(){Ha=Wa=null,Ga=!1}function Sr(e,t,r){kr(e,t,r,t.expirationTime)}function kr(e,t,r,o){t.child=null===e?Va(t,null,r,o):qa(t,e.child,r,o)}function Pr(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Er(e,t,r,o,n){Pr(e,t);var i=0!==(64&t.effectTag);if(!r&&!i)return o&&It(t,!1),Tr(e,t);r=t.stateNode,Ln.current=t;var a=i?null:r.render();return t.effectTag|=1,i&&(kr(e,t,null,n),t.child=null),kr(e,t,a,n),t.memoizedState=r.state,t.memoizedProps=r.props,o&&It(t,!0),t.child}function Cr(e){var t=e.stateNode;t.pendingContext?zt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zt(e,t.context,!1),sr(e,t.containerInfo)}function Ar(e,t,r,o){var n=e.child;for(null!==n&&(n.return=e);null!==n;){switch(n.tag){case 12:var i=0|n.stateNode;if(n.type===t&&0!==(i&r)){for(i=n;null!==i;){var a=i.alternate;if(0===i.expirationTime||i.expirationTime>o)i.expirationTime=o,null!==a&&(0===a.expirationTime||a.expirationTime>o)&&(a.expirationTime=o);else{if(null===a||!(0===a.expirationTime||a.expirationTime>o))break;a.expirationTime=o}i=i.return}i=null}else i=n.child;break;case 13:i=n.type===e.type?null:n.child;break;default:i=n.child}if(null!==i)i.return=n;else for(i=n;null!==i;){if(i===e){i=null;break}if(null!==(n=i.sibling)){n.return=i.return,i=n;break}i=i.return}n=i}}function Mr(e,t,r){var o=t.type._context,n=t.pendingProps,i=t.memoizedProps,a=!0;if(Aa.current)a=!1;else if(i===n)return t.stateNode=0,nr(t),Tr(e,t);var s=n.value;if(t.memoizedProps=n,null===i)s=1073741823;else if(i.value===n.value){if(i.children===n.children&&a)return t.stateNode=0,nr(t),Tr(e,t);s=0}else{var c=i.value;if(c===s&&(0!==c||1/c===1/s)||c!==c&&s!==s){if(i.children===n.children&&a)return t.stateNode=0,nr(t),Tr(e,t);s=0}else if(s="function"===typeof o._calculateChangedBits?o._calculateChangedBits(c,s):1073741823,0===(s|=0)){if(i.children===n.children&&a)return t.stateNode=0,nr(t),Tr(e,t)}else Ar(t,o,s,r)}return t.stateNode=s,nr(t),Sr(e,t,n.children),t.child}function Tr(e,t){if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){e=t.child;var r=Bt(e,e.pendingProps,e.expirationTime);for(t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=Bt(e,e.pendingProps,e.expirationTime),r.return=t;r.sibling=null}return t.child}function zr(e,t,r){if(0===t.expirationTime||t.expirationTime>r){switch(t.tag){case 3:Cr(t);break;case 2:Ft(t);break;case 4:sr(t,t.stateNode.containerInfo);break;case 13:nr(t)}return null}switch(t.tag){case 0:null!==e&&o("155");var n=t.type,i=t.pendingProps,a=Et(t);return a=Ct(t,a),n=n(i,a),t.effectTag|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(a=t.type,t.tag=2,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,a=a.getDerivedStateFromProps,"function"===typeof a&&pr(t,a,i),i=Ft(t),n.updater=La,t.stateNode=n,n._reactInternalFiber=t,hr(t,r),e=Er(e,t,!0,i,r)):(t.tag=1,Sr(e,t,n),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,r=t.pendingProps,Aa.current||t.memoizedProps!==r?(n=Et(t),n=Ct(t,n),i=i(r,n),t.effectTag|=1,Sr(e,t,i),t.memoizedProps=r,e=t.child):e=Tr(e,t),e;case 2:if(i=Ft(t),null===e)if(null===t.stateNode){var s=t.pendingProps,c=t.type;n=Et(t);var l=2===t.tag&&null!=t.type.contextTypes;a=l?Ct(t,n):qo,s=new c(s,a),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=La,t.stateNode=s,s._reactInternalFiber=t,l&&(l=t.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=n,l.__reactInternalMemoizedMaskedChildContext=a),hr(t,r),n=!0}else{c=t.type,n=t.stateNode,l=t.memoizedProps,a=t.pendingProps,n.props=l;var p=n.context;s=Et(t),s=Ct(t,s);var u=c.getDerivedStateFromProps;(c="function"===typeof u||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(l!==a||p!==s)&&dr(t,n,a,s),Ra=!1;var d=t.memoizedState;p=n.state=d;var h=t.updateQueue;null!==h&&(er(t,h,a,n,r),p=t.memoizedState),l!==a||d!==p||Aa.current||Ra?("function"===typeof u&&(pr(t,u,a),p=t.memoizedState),(l=Ra||ur(t,l,a,d,p,s))?(c||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.effectTag|=4)):("function"===typeof n.componentDidMount&&(t.effectTag|=4),t.memoizedProps=a,t.memoizedState=p),n.props=a,n.state=p,n.context=s,n=l):("function"===typeof n.componentDidMount&&(t.effectTag|=4),n=!1)}else c=t.type,n=t.stateNode,a=t.memoizedProps,l=t.pendingProps,n.props=a,p=n.context,s=Et(t),s=Ct(t,s),u=c.getDerivedStateFromProps,(c="function"===typeof u||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(a!==l||p!==s)&&dr(t,n,l,s),Ra=!1,p=t.memoizedState,d=n.state=p,h=t.updateQueue,null!==h&&(er(t,h,l,n,r),d=t.memoizedState),a!==l||p!==d||Aa.current||Ra?("function"===typeof u&&(pr(t,u,l),d=t.memoizedState),(u=Ra||ur(t,a,l,p,d,s))?(c||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(l,d,s),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(l,d,s)),"function"===typeof n.componentDidUpdate&&(t.effectTag|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof n.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),"function"!==typeof n.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),t.memoizedProps=l,t.memoizedState=d),n.props=l,n.state=d,n.context=s,n=u):("function"!==typeof n.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=4),"function"!==typeof n.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.effectTag|=256),n=!1);return Er(e,t,n,i,r);case 3:return Cr(t),i=t.updateQueue,null!==i?(n=t.memoizedState,n=null!==n?n.element:null,er(t,i,t.pendingProps,null,r),(i=t.memoizedState.element)===n?(xr(),e=Tr(e,t)):(n=t.stateNode,(n=(null===e||null===e.child)&&n.hydrate)&&(Ha=xt(t.stateNode.containerInfo),Wa=t,n=Ga=!0),n?(t.effectTag|=2,t.child=Va(t,null,i,r)):(xr(),Sr(e,t,i)),e=t.child)):(xr(),e=Tr(e,t)),e;case 5:return ar(Da.current),i=ar(Oa.current),n=at(i,t.type),i!==n&&(Pt(ja,t,t),Pt(Oa,n,t)),null===e&&_r(t),i=t.type,l=t.memoizedProps,n=t.pendingProps,a=null!==e?e.memoizedProps:null,Aa.current||l!==n||((l=1&t.mode&&!!n.hidden)&&(t.expirationTime=1073741823),l&&1073741823===r)?(l=n.children,wt(i,n)?l=null:a&&wt(i,a)&&(t.effectTag|=16),Pr(e,t),1073741823!==r&&1&t.mode&&n.hidden?(t.expirationTime=1073741823,t.memoizedProps=n,e=null):(Sr(e,t,l),t.memoizedProps=n,e=t.child)):e=Tr(e,t),e;case 6:return null===e&&_r(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return sr(t,t.stateNode.containerInfo),i=t.pendingProps,Aa.current||t.memoizedProps!==i?(null===e?t.child=qa(t,null,i,r):Sr(e,t,i),t.memoizedProps=i,e=t.child):e=Tr(e,t),e;case 14:return i=t.type.render,r=t.pendingProps,n=t.ref,Aa.current||t.memoizedProps!==r||n!==(null!==e?e.ref:null)?(i=i(r,n),Sr(e,t,i),t.memoizedProps=r,e=t.child):e=Tr(e,t),e;case 10:return r=t.pendingProps,Aa.current||t.memoizedProps!==r?(Sr(e,t,r),t.memoizedProps=r,e=t.child):e=Tr(e,t),e;case 11:return r=t.pendingProps.children,Aa.current||null!==r&&t.memoizedProps!==r?(Sr(e,t,r),t.memoizedProps=r,e=t.child):e=Tr(e,t),e;case 15:return r=t.pendingProps,t.memoizedProps===r?e=Tr(e,t):(Sr(e,t,r.children),t.memoizedProps=r,e=t.child),e;case 13:return Mr(e,t,r);case 12:e:if(n=t.type,a=t.pendingProps,l=t.memoizedProps,i=n._currentValue,s=n._changedBits,Aa.current||0!==s||l!==a){if(t.memoizedProps=a,c=a.unstable_observedBits,void 0!==c&&null!==c||(c=1073741823),t.stateNode=c,0!==(s&c))Ar(t,n,s,r);else if(l===a){e=Tr(e,t);break e}r=a.children,r=r(i),t.effectTag|=1,Sr(e,t,r),e=t.child}else e=Tr(e,t);return e;default:o("156")}}function Rr(e){e.effectTag|=4}function Fr(e,t){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return Mt(t),null;case 3:cr(t),Tt(t);var n=t.stateNode;return n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(br(t),t.effectTag&=-3),Za(t),null;case 5:lr(t),n=ar(Da.current);var i=t.type;if(null!==e&&null!=t.stateNode){var a=e.memoizedProps,s=t.stateNode,c=ar(Oa.current);s=yt(s,i,a,r,n),Ja(e,t,s,i,a,r,n,c),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&o("166"),null;if(e=ar(Oa.current),br(t))r=t.stateNode,i=t.type,a=t.memoizedProps,r[nn]=t,r[an]=a,n=vt(r,i,a,e,n),t.updateQueue=n,null!==n&&Rr(t);else{e=dt(i,r,n,e),e[nn]=t,e[an]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}mt(e,i,r,n),_t(i,r)&&Rr(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,r);else{if("string"!==typeof r)return null===t.stateNode&&o("166"),null;n=ar(Da.current),ar(Oa.current),br(t)?(n=t.stateNode,r=t.memoizedProps,n[nn]=t,gt(n,r)&&Rr(t)):(n=ht(r,n),n[nn]=t,t.stateNode=n)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return cr(t),Za(t),null;case 13:return ir(t),null;case 12:return null;case 0:o("167");default:o("156")}}function Ir(e,t){var r=t.source;null===t.stack&&null!==r&&se(r),null!==r&&ae(r),t=t.value,null!==e&&2===e.tag&&ae(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Nr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){Xr(e,t)}else t.current=null}function Br(e){switch("function"===typeof Ht&&Ht(e),e.tag){case 2:Nr(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xr(e,t)}break;case 5:Nr(e);break;case 4:Dr(e)}}function Or(e){return 5===e.tag||3===e.tag||4===e.tag}function jr(e){e:{for(var t=e.return;null!==t;){if(Or(t)){var r=t;break e}t=t.return}o("160"),r=void 0}var n=t=void 0;switch(r.tag){case 5:t=r.stateNode,n=!1;break;case 3:case 4:t=r.stateNode.containerInfo,n=!0;break;default:o("161")}16&r.effectTag&&(st(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Or(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(r)if(n){var a=t,s=i.stateNode,c=r;8===a.nodeType?a.parentNode.insertBefore(s,c):a.insertBefore(s,c)}else t.insertBefore(i.stateNode,r);else n?(a=t,s=i.stateNode,8===a.nodeType?a.parentNode.insertBefore(s,a):a.appendChild(s)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Dr(e){for(var t=e,r=!1,n=void 0,i=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&o("160"),r.tag){case 5:n=r.stateNode,i=!1;break e;case 3:case 4:n=r.stateNode.containerInfo,i=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var a=t,s=a;;)if(Br(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(a=n,s=t.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(t.stateNode)}else if(4===t.tag?n=t.stateNode.containerInfo:Br(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function Lr(e,t){switch(t.tag){case 2:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&(r[an]=n,ft(r,a,i,e,n))}break;case 6:null===t.stateNode&&o("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:o("163")}}function Ur(e,t,r){r=Jt(r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){mo(o),Ir(e,t)},r}function qr(e,t,r){r=Jt(r),r.tag=3;var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){null===ps?ps=new Set([this]):ps.add(this);var r=t.value,o=t.stack;Ir(e,t),this.componentDidCatch(r,{componentStack:null!==o?o:""})}),r}function Vr(e,t,r,o,n,i){r.effectTag|=512,r.firstEffect=r.lastEffect=null,o=or(o,r),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,o=Ur(e,o,i),void Qt(e,o,i);case 2:if(t=o,r=e.stateNode,0===(64&e.effectTag)&&null!==r&&"function"===typeof r.componentDidCatch&&(null===ps||!ps.has(r)))return e.effectTag|=1024,o=qr(e,t,i),void Qt(e,o,i)}e=e.return}while(null!==e)}function Wr(e){switch(e.tag){case 2:Mt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return cr(e),Tt(e),t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 5:return lr(e),null;case 16:return t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 4:return cr(e),null;case 13:return ir(e),null;default:return null}}function Hr(){if(null!==rs)for(var e=rs.return;null!==e;){var t=e;switch(t.tag){case 2:Mt(t);break;case 3:cr(t),Tt(t);break;case 5:lr(t);break;case 4:cr(t);break;case 13:ir(t)}e=e.return}os=null,ns=0,is=-1,as=!1,rs=null,ls=!1}function Gr(e){for(;;){var t=e.alternate,r=e.return,o=e.sibling;if(0===(512&e.effectTag)){t=Fr(t,e,ns);var n=e;if(1073741823===ns||1073741823!==n.expirationTime){var i=0;switch(n.tag){case 3:case 2:var a=n.updateQueue;null!==a&&(i=a.expirationTime)}for(a=n.child;null!==a;)0!==a.expirationTime&&(0===i||i>a.expirationTime)&&(i=a.expirationTime),a=a.sibling;n.expirationTime=i}if(null!==t)return t;if(null!==r&&0===(512&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e)),null!==o)return o;if(null===r){ls=!0;break}e=r}else{if(null!==(e=Wr(e,as,ns)))return e.effectTag&=511,e;if(null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=512),null!==o)return o;if(null===r)break;e=r}}return null}function Zr(e){var t=zr(e.alternate,e,ns);return null===t&&(t=Gr(e)),Ln.current=null,t}function Jr(e,t,r){ts&&o("243"),ts=!0,t===ns&&e===os&&null!==rs||(Hr(),os=e,ns=t,is=-1,rs=Bt(os.current,null,ns),e.pendingCommitExpirationTime=0);var n=!1;for(as=!r||ns<=Qa;;){try{if(r)for(;null!==rs&&!ho();)rs=Zr(rs);else for(;null!==rs;)rs=Zr(rs)}catch(t){if(null===rs)n=!0,mo(t);else{null===rs&&o("271"),r=rs;var i=r.return;if(null===i){n=!0,mo(t);break}Vr(e,i,r,t,as,ns,Ya),rs=Gr(r)}}break}if(ts=!1,n)return null;if(null===rs){if(ls)return e.pendingCommitExpirationTime=t,e.current.alternate;as&&o("262"),0<=is&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&oo(e,t)},is),yo(e.current.expirationTime)}return null}function Xr(e,t){var r;e:{for(ts&&!cs&&o("263"),r=e.return;null!==r;){switch(r.tag){case 2:var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof n.componentDidCatch&&(null===ps||!ps.has(n))){e=or(t,e),e=qr(r,e,1),Kt(r,e,1),Yr(r,1),r=void 0;break e}break;case 3:e=or(t,e),e=Ur(r,e,1),Kt(r,e,1),Yr(r,1),r=void 0;break e}r=r.return}3===e.tag&&(r=or(t,e),r=Ur(e,r,1),Kt(e,r,1),Yr(e,1)),r=void 0}return r}function Kr(){var e=2+25*(1+(($r()-2+500)/25|0));return e<=$a&&(e=$a+1),$a=e}function Qr(e,t){return e=0!==es?es:ts?cs?1:ns:1&t.mode?Ps?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ps&&(0===gs||e>gs)&&(gs=e),e}function Yr(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var r=e.stateNode;!ts&&0!==ns&&t<ns&&Hr();var n=r.current.expirationTime;ts&&!cs&&os===r||oo(r,n),As>Cs&&o("185")}e=e.return}}function $r(){return Ya=xa()-Ka,Qa=2+(Ya/10|0)}function eo(e){var t=es;es=2+25*(1+(($r()-2+500)/25|0));try{return e()}finally{es=t}}function to(e,t,r,o,n){var i=es;es=1;try{return e(t,r,o,n)}finally{es=i}}function ro(e){if(0!==hs){if(e>hs)return;null!==ms&&ka(ms)}var t=xa()-Ka;hs=e,ms=Sa(io,{timeout:10*(e-2)-t})}function oo(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ds?(us=ds=e,e.nextScheduledRoot=e):(ds=ds.nextScheduledRoot=e,ds.nextScheduledRoot=us);else{var r=e.remainingExpirationTime;(0===r||t<r)&&(e.remainingExpirationTime=t)}ys||(Ss?ks&&(fs=e,vs=1,po(e,1,!1)):1===t?ao():ro(t))}function no(){var e=0,t=null;if(null!==ds)for(var r=ds,n=us;null!==n;){var i=n.remainingExpirationTime;if(0===i){if((null===r||null===ds)&&o("244"),n===n.nextScheduledRoot){us=ds=n.nextScheduledRoot=null;break}if(n===us)us=i=n.nextScheduledRoot,ds.nextScheduledRoot=i,n.nextScheduledRoot=null;else{if(n===ds){ds=r,ds.nextScheduledRoot=us,n.nextScheduledRoot=null;break}r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=r.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=n),n===ds)break;r=n,n=n.nextScheduledRoot}}r=fs,null!==r&&r===t&&1===e?As++:As=0,fs=t,vs=e}function io(e){so(0,!0,e)}function ao(){so(1,!1,null)}function so(e,t,r){if(xs=r,no(),t)for(;null!==fs&&0!==vs&&(0===e||e>=vs)&&(!_s||$r()>=vs);)$r(),po(fs,vs,!_s),no();else for(;null!==fs&&0!==vs&&(0===e||e>=vs);)po(fs,vs,!1),no();null!==xs&&(hs=0,ms=null),0!==vs&&ro(vs),xs=null,_s=!1,lo()}function co(e,t){ys&&o("253"),fs=e,vs=t,po(e,t,!1),ao(),lo()}function lo(){if(As=0,null!==Es){var e=Es;Es=null;for(var t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(e){ws||(ws=!0,bs=e)}}}if(ws)throw e=bs,bs=null,ws=!1,e}function po(e,t,r){ys&&o("245"),ys=!0,r?(r=e.finishedWork,null!==r?uo(e,r,t):null!==(r=Jr(e,t,!0))&&(ho()?e.finishedWork=r:uo(e,r,t))):(r=e.finishedWork,null!==r?uo(e,r,t):null!==(r=Jr(e,t,!1))&&uo(e,r,t)),ys=!1}function uo(e,t,r){var n=e.firstBatch;if(null!==n&&n._expirationTime<=r&&(null===Es?Es=[n]:Es.push(n),n._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,cs=ts=!0,r=t.stateNode,r.current===t&&o("177"),n=r.pendingCommitExpirationTime,0===n&&o("261"),r.pendingCommitExpirationTime=0,$r(),Ln.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;wa=Ri;var a=Do();if(Xe(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{var c=window.getSelection&&window.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{s.nodeType,p.nodeType}catch(e){s=null;break e}var u=0,d=-1,h=-1,m=0,y=0,f=a,v=null;t:for(;;){for(var g;f!==s||0!==l&&3!==f.nodeType||(d=u+l),f!==p||0!==c&&3!==f.nodeType||(h=u+c),3===f.nodeType&&(u+=f.nodeValue.length),null!==(g=f.firstChild);)v=f,f=g;for(;;){if(f===a)break t;if(v===s&&++m===l&&(d=u),v===p&&++y===c&&(h=u),null!==(g=f.nextSibling))break;f=v,v=f.parentNode}f=g}s=-1===d||-1===h?null:{start:d,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;for(ba={focusedElem:a,selectionRange:s},Ue(!1),ss=i;null!==ss;){a=!1,s=void 0;try{for(;null!==ss;){if(256&ss.effectTag){var _=ss.alternate;switch(l=ss,l.tag){case 2:if(256&l.effectTag&&null!==_){var w=_.memoizedProps,b=_.memoizedState,x=l.stateNode;x.props=l.memoizedProps,x.state=l.memoizedState;var S=x.getSnapshotBeforeUpdate(w,b);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:case 5:case 6:case 4:break;default:o("163")}}ss=ss.nextEffect}}catch(e){a=!0,s=e}a&&(null===ss&&o("178"),Xr(ss,s),null!==ss&&(ss=ss.nextEffect))}for(ss=i;null!==ss;){_=!1,w=void 0;try{for(;null!==ss;){var k=ss.effectTag;if(16&k&&st(ss.stateNode,""),128&k){var P=ss.alternate;if(null!==P){var E=P.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(14&k){case 2:jr(ss),ss.effectTag&=-3;break;case 6:jr(ss),ss.effectTag&=-3,Lr(ss.alternate,ss);break;case 4:Lr(ss.alternate,ss);break;case 8:b=ss,Dr(b),b.return=null,b.child=null,b.alternate&&(b.alternate.child=null,b.alternate.return=null)}ss=ss.nextEffect}}catch(e){_=!0,w=e}_&&(null===ss&&o("178"),Xr(ss,w),null!==ss&&(ss=ss.nextEffect))}if(E=ba,P=Do(),k=E.focusedElem,_=E.selectionRange,P!==k&&Uo(document.documentElement,k)){null!==_&&Xe(k)&&(P=_.start,E=_.end,void 0===E&&(E=P),"selectionStart"in k?(k.selectionStart=P,k.selectionEnd=Math.min(E,k.value.length)):window.getSelection&&(P=window.getSelection(),w=k[F()].length,E=Math.min(_.start,w),_=void 0===_.end?E:Math.min(_.end,w),!P.extend&&E>_&&(w=_,_=E,E=w),w=Je(k,E),b=Je(k,_),w&&b&&(1!==P.rangeCount||P.anchorNode!==w.node||P.anchorOffset!==w.offset||P.focusNode!==b.node||P.focusOffset!==b.offset)&&(x=document.createRange(),x.setStart(w.node,w.offset),P.removeAllRanges(),E>_?(P.addRange(x),P.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),P.addRange(x))))),P=[];for(E=k;E=E.parentNode;)1===E.nodeType&&P.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<P.length;k++)E=P[k],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}for(ba=null,Ue(wa),wa=null,r.current=t,ss=i;null!==ss;){i=!1,k=void 0;try{for(P=n;null!==ss;){var C=ss.effectTag;if(36&C){var A=ss.alternate;switch(E=ss,_=P,E.tag){case 2:var M=E.stateNode;if(4&E.effectTag)if(null===A)M.props=E.memoizedProps,M.state=E.memoizedState,M.componentDidMount();else{var T=A.memoizedProps,z=A.memoizedState;M.props=E.memoizedProps,M.state=E.memoizedState,M.componentDidUpdate(T,z,M.__reactInternalSnapshotBeforeUpdate)}var R=E.updateQueue;null!==R&&(M.props=E.memoizedProps,M.state=E.memoizedState,rr(E,R,M,_));break;case 3:var I=E.updateQueue;if(null!==I){if(w=null,null!==E.child)switch(E.child.tag){case 5:w=E.child.stateNode;break;case 2:w=E.child.stateNode}rr(E,I,w,_)}break;case 5:var N=E.stateNode;null===A&&4&E.effectTag&&_t(E.type,E.memoizedProps)&&N.focus();break;case 6:case 4:case 15:case 16:break;default:o("163")}}if(128&C){E=void 0;var B=ss.ref;if(null!==B){var O=ss.stateNode;switch(ss.tag){case 5:E=O;break;default:E=O}"function"===typeof B?B(E):B.current=E}}var j=ss.nextEffect;ss.nextEffect=null,ss=j}}catch(e){i=!0,k=e}i&&(null===ss&&o("178"),Xr(ss,k),null!==ss&&(ss=ss.nextEffect))}ts=cs=!1,"function"===typeof Wt&&Wt(t.stateNode),t=r.current.expirationTime,0===t&&(ps=null),e.remainingExpirationTime=t}function ho(){return!(null===xs||xs.timeRemaining()>Ms)&&(_s=!0)}function mo(e){null===fs&&o("246"),fs.remainingExpirationTime=0,ws||(ws=!0,bs=e)}function yo(e){null===fs&&o("246"),fs.remainingExpirationTime=e}function fo(e,t){var r=Ss;Ss=!0;try{return e(t)}finally{(Ss=r)||ys||ao()}}function vo(e,t){if(Ss&&!ks){ks=!0;try{return e(t)}finally{ks=!1}}return e(t)}function go(e,t){ys&&o("187");var r=Ss;Ss=!0;try{return to(e,t)}finally{Ss=r,ao()}}function _o(e,t,r){if(Ps)return e(t,r);Ss||ys||0===gs||(so(gs,!1,null),gs=0);var o=Ps,n=Ss;Ss=Ps=!0;try{return e(t,r)}finally{Ps=o,(Ss=n)||ys||ao()}}function wo(e){var t=Ss;Ss=!0;try{to(e)}finally{(Ss=t)||ys||so(1,!1,null)}}function bo(e,t,r,n,i){var a=t.current;if(r){r=r._reactInternalFiber;var s;e:{for(2===Fe(r)&&2===r.tag||o("170"),s=r;3!==s.tag;){if(At(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}(s=s.return)||o("171")}s=s.stateNode.context}r=At(r)?Rt(r,s):s}else r=qo;return null===t.context?t.context=r:t.pendingContext=r,t=i,i=Jt(n),i.payload={element:e},t=void 0===t?null:t,null!==t&&(i.callback=t),Kt(a,i,n),Yr(a,n),n}function xo(e){var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?o("188"):o("268",Object.keys(e))),e=Be(t),null===e?null:e.stateNode}function So(e,t,r,o){var n=t.current;return n=Qr($r(),n),bo(e,t,r,n,o)}function ko(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Po(e){var t=e.findFiberByHostInstance;return Vt(Oo({},e,{findHostInstanceByFiber:function(e){return e=Be(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Eo(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Vn,key:null==o?null:""+o,children:e,containerInfo:t,implementation:r}}function Co(e){this._expirationTime=Kr(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ao(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Mo(e,t,r){this._internalRoot=Ut(e,t,r)}function To(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zo(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Mo(e,!1,t)}function Ro(e,t,r,n,i){To(r)||o("200");var a=r._reactRootContainer;if(a){if("function"===typeof i){var s=i;i=function(){var e=ko(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=r._reactRootContainer=zo(r,n),"function"===typeof i){var c=i;i=function(){var e=ko(a._internalRoot);c.call(e)}}vo(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return ko(a._internalRoot)}function Fo(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return To(t)||o("200"),Eo(e,t,null,r)}var Io=r(18),No=r(0),Bo=r(54),Oo=r(8),jo=r(20),Do=r(55),Lo=r(56),Uo=r(57),qo=r(19);No||o("227");var Vo={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,r,o,i,a,s,c,l){n.apply(Vo,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,r,o,n,i,a,s,c){if(Vo.invokeGuardedCallback.apply(this,arguments),Vo.hasCaughtError()){var l=Vo.clearCaughtError();Vo._hasRethrowError||(Vo._hasRethrowError=!0,Vo._rethrowError=l)}},rethrowCaughtError:function(){return i.apply(Vo,arguments)},hasCaughtError:function(){return Vo._hasCaughtError},clearCaughtError:function(){if(Vo._hasCaughtError){var e=Vo._caughtError;return Vo._caughtError=null,Vo._hasCaughtError=!1,e}o("198")}},Wo=null,Ho={},Go=[],Zo={},Jo={},Xo={},Ko={plugins:Go,eventNameDispatchConfigs:Zo,registrationNameModules:Jo,registrationNameDependencies:Xo,possibleRegistrationNames:null,injectEventPluginOrder:c,injectEventPluginsByName:l},Qo=null,Yo=null,$o=null,en=null,tn={injectEventPluginOrder:c,injectEventPluginsByName:l},rn={injection:tn,getListener:f,runEventsInBatch:v,runExtractedEventsInBatch:g},on=Math.random().toString(36).slice(2),nn="__reactInternalInstance$"+on,an="__reactEventHandlers$"+on,sn={precacheFiberNode:function(e,t){t[nn]=e},getClosestInstanceFromNode:_,getInstanceFromNode:function(e){return e=e[nn],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:w,getFiberCurrentPropsFromNode:b,updateFiberProps:function(e,t){e[an]=t}},cn={accumulateTwoPhaseDispatches:M,accumulateTwoPhaseDispatchesSkipTarget:function(e){d(e,E)},accumulateEnterLeaveDispatches:T,accumulateDirectDispatches:function(e){d(e,A)}},ln={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionend:z("Transition","TransitionEnd")},pn={},un={};Bo.canUseDOM&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var dn=R("animationend"),hn=R("animationiteration"),mn=R("animationstart"),yn=R("transitionend"),fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vn=null,gn={_root:null,_startText:null,_fallbackText:null},_n="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),wn={type:null,target:null,currentTarget:jo.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Oo(B.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=jo.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=jo.thatReturnsTrue)},persist:function(){this.isPersistent=jo.thatReturnsTrue},isPersistent:jo.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<_n.length;t++)this[_n[t]]=null}}),B.Interface=wn,B.extend=function(e){function t(){}function r(){return o.apply(this,arguments)}var o=this;t.prototype=o.prototype;var n=new t;return Oo(n,r.prototype),r.prototype=n,r.prototype.constructor=r,r.Interface=Oo({},o.Interface,e),r.extend=o.extend,D(r),r},D(B);var bn=B.extend({data:null}),xn=B.extend({data:null}),Sn=[9,13,27,32],kn=Bo.canUseDOM&&"CompositionEvent"in window,Pn=null;Bo.canUseDOM&&"documentMode"in document&&(Pn=document.documentMode);var En=Bo.canUseDOM&&"TextEvent"in window&&!Pn,Cn=Bo.canUseDOM&&(!kn||Pn&&8<Pn&&11>=Pn),An=String.fromCharCode(32),Mn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tn=!1,zn=!1,Rn={eventTypes:Mn,extractEvents:function(e,t,r,o){var n=void 0,i=void 0;if(kn)e:{switch(e){case"compositionstart":n=Mn.compositionStart;break e;case"compositionend":n=Mn.compositionEnd;break e;case"compositionupdate":n=Mn.compositionUpdate;break e}n=void 0}else zn?L(e,r)&&(n=Mn.compositionEnd):"keydown"===e&&229===r.keyCode&&(n=Mn.compositionStart);return n?(Cn&&(zn||n!==Mn.compositionStart?n===Mn.compositionEnd&&zn&&(i=I()):(gn._root=o,gn._startText=N(),zn=!0)),n=bn.getPooled(n,t,r,o),i?n.data=i:null!==(i=U(r))&&(n.data=i),M(n),i=n):i=null,(e=En?q(e,r):V(e,r))?(t=xn.getPooled(Mn.beforeInput,t,r,o),t.data=e,M(t)):t=null,null===i?t:null===t?i:[i,t]}},Fn=null,In={injectFiberControlledHostComponent:function(e){Fn=e}},Nn=null,Bn=null,On={injection:In,enqueueStateRestore:H,needsStateRestore:G,restoreStateIfNeeded:Z},jn=!1,Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ln=No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Un="function"===typeof Symbol&&Symbol.for,qn=Un?Symbol.for("react.element"):60103,Vn=Un?Symbol.for("react.portal"):60106,Wn=Un?Symbol.for("react.fragment"):60107,Hn=Un?Symbol.for("react.strict_mode"):60108,Gn=Un?Symbol.for("react.profiler"):60114,Zn=Un?Symbol.for("react.provider"):60109,Jn=Un?Symbol.for("react.context"):60110,Xn=Un?Symbol.for("react.async_mode"):60111,Kn=Un?Symbol.for("react.forward_ref"):60112,Qn=Un?Symbol.for("react.timeout"):60113,Yn="function"===typeof Symbol&&Symbol.iterator,$n=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ei=Object.prototype.hasOwnProperty,ti={},ri={},oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oi[e]=new ue(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oi[t]=new ue(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){oi[e]=new ue(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){oi[e]=new ue(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oi[e]=new ue(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){oi[e]=new ue(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){oi[e]=new ue(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){oi[e]=new ue(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){oi[e]=new ue(e,5,!1,e.toLowerCase(),null)});var ni=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ni,de);oi[t]=new ue(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ni,de);oi[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ni,de);oi[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),oi.tabIndex=new ue("tabIndex",1,!1,"tabindex",null);var ii={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},ai=null,si=null,ci=!1;Bo.canUseDOM&&(ci=ee("input")&&(!document.documentMode||9<document.documentMode));var li={eventTypes:ii,_isInputEventSupported:ci,extractEvents:function(e,t,r,o){var n=t?w(t):window,i=void 0,a=void 0,s=n.nodeName&&n.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===n.type?i=ke:Y(n)?ci?i=Te:(i=Ae,a=Ce):(s=n.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===n.type||"radio"===n.type)&&(i=Me),i&&(i=i(e,t)))return be(i,r,o);a&&a(e,n,t),"blur"===e&&(e=n._wrapperState)&&e.controlled&&"number"===n.type&&_e(n,"number",n.value)}},pi=B.extend({view:null,detail:null}),ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},di=pi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Re,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),hi=di.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),mi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},yi={eventTypes:mi,extractEvents:function(e,t,r,o){var n="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(n&&(r.relatedTarget||r.fromElement)||!i&&!n)return null;if(n=o.window===o?o:(n=o.ownerDocument)?n.defaultView||n.parentWindow:window,i?(i=t,t=(t=r.relatedTarget||r.toElement)?_(t):null):i=null,i===t)return null;var a=void 0,s=void 0,c=void 0,l=void 0;return"mouseout"===e||"mouseover"===e?(a=di,s=mi.mouseLeave,c=mi.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=hi,s=mi.pointerLeave,c=mi.pointerEnter,l="pointer"),e=null==i?n:w(i),n=null==t?n:w(t),s=a.getPooled(s,i,r,o),s.type=l+"leave",s.target=e,s.relatedTarget=n,r=a.getPooled(c,t,r,o),r.type=l+"enter",r.target=n,r.relatedTarget=e,T(s,r,i,t),[s,r]}},fi=B.extend({animationName:null,elapsedTime:null,pseudoElement:null}),vi=B.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gi=pi.extend({relatedTarget:null}),_i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bi=pi.extend({key:function(e){if(e.key){var t=_i[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=je(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?wi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Re,charCode:function(e){return"keypress"===e.type?je(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?je(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xi=di.extend({dataTransfer:null}),Si=pi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Re}),ki=B.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Pi=di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ei=[["abort","abort"],[dn,"animationEnd"],[hn,"animationIteration"],[mn,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[yn,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Ci={},Ai={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){De(e,!0)}),Ei.forEach(function(e){De(e,!1)});var Mi={eventTypes:Ci,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Ai[e])&&!0===e.isInteractive},extractEvents:function(e,t,r,o){var n=Ai[e];if(!n)return null;switch(e){case"keypress":if(0===je(r))return null;case"keydown":case"keyup":e=bi;break;case"blur":case"focus":e=gi;break;case"click":if(2===r.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=xi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Si;break;case dn:case hn:case mn:e=fi;break;case yn:e=ki;break;case"scroll":e=pi;break;case"wheel":e=Pi;break;case"copy":case"cut":case"paste":e=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=hi;break;default:e=B}return t=e.getPooled(n,t,r,o),M(t),t}},Ti=Mi.isInteractiveTopLevelEventType,zi=[],Ri=!0,Fi={get _enabled(){return Ri},setEnabled:Ue,isEnabled:function(){return Ri},trapBubbledEvent:qe,trapCapturedEvent:Ve,dispatchEvent:He},Ii={},Ni=0,Bi="_reactListenersID"+(""+Math.random()).slice(2),Oi=Bo.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ji={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Di=null,Li=null,Ui=null,qi=!1,Vi={eventTypes:ji,extractEvents:function(e,t,r,o){var n,i=o.window===o?o.document:9===o.nodeType?o:o.ownerDocument;if(!(n=!i)){e:{i=Ge(i),n=Xo.onSelect;for(var a=0;a<n.length;a++){var s=n[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}n=!i}if(n)return null;switch(i=t?w(t):window,e){case"focus":(Y(i)||"true"===i.contentEditable)&&(Di=i,Li=t,Ui=null);break;case"blur":Ui=Li=Di=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":return qi=!1,Ke(r,o);case"selectionchange":if(Oi)break;case"keydown":case"keyup":return Ke(r,o)}return null}};tn.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Qo=sn.getFiberCurrentPropsFromNode,Yo=sn.getInstanceFromNode,$o=sn.getNodeFromInstance,tn.injectEventPluginsByName({SimpleEventPlugin:Mi,EnterLeaveEventPlugin:yi,ChangeEventPlugin:li,SelectEventPlugin:Vi,BeforeInputEventPlugin:Rn});var Wi="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,Hi=Date,Gi=setTimeout,Zi=clearTimeout,Ji=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var Xi=performance;Ji=function(){return Xi.now()}}else Ji=function(){return Hi.now()};var Ki=void 0,Qi=void 0;if(Bo.canUseDOM){var Yi="function"===typeof Wi?Wi:function(){o("276")},$i=null,ea=null,ta=-1,ra=!1,oa=!1,na=0,ia=33,aa=33,sa={didTimeout:!1,timeRemaining:function(){var e=na-Ji();return 0<e?e:0}},ca=function(e,t){var r=e.scheduledCallback,o=!1;try{r(t),o=!0}finally{Qi(e),o||(ra=!0,window.postMessage(la,"*"))}},la="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===la&&(ra=!1,null!==$i)){if(null!==$i){var t=Ji();if(!(-1===ta||ta>t)){e=-1;for(var r=[],o=$i;null!==o;){var n=o.timeoutTime;-1!==n&&n<=t?r.push(o):-1!==n&&(-1===e||n<e)&&(e=n),o=o.next}if(0<r.length)for(sa.didTimeout=!0,t=0,o=r.length;t<o;t++)ca(r[t],sa);ta=e}}for(e=Ji();0<na-e&&null!==$i;)e=$i,sa.didTimeout=!1,ca(e,sa),e=Ji();null===$i||oa||(oa=!0,Yi(pa))}},!1);var pa=function(e){oa=!1;var t=e-na+aa;t<aa&&ia<aa?(8>t&&(t=8),aa=t<ia?ia:t):ia=t,na=e+aa,ra||(ra=!0,window.postMessage(la,"*"))};Ki=function(e,t){var r=-1;return null!=t&&"number"===typeof t.timeout&&(r=Ji()+t.timeout),(-1===ta||-1!==r&&r<ta)&&(ta=r),e={scheduledCallback:e,timeoutTime:r,prev:null,next:null},null===$i?$i=e:null!==(t=e.prev=ea)&&(t.next=e),ea=e,oa||(oa=!0,Yi(pa)),e},Qi=function(e){if(null!==e.prev||$i===e){var t=e.next,r=e.prev;e.next=null,e.prev=null,null!==t?null!==r?(r.next=t,t.prev=r):(t.prev=null,$i=t):null!==r?(r.next=null,ea=r):ea=$i=null}}}else{var ua=new Map;Ki=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},r=Gi(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return ua.set(e,r),t},Qi=function(e){var t=ua.get(e.scheduledCallback);ua.delete(e),Zi(t)}}var da={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},ha=void 0,ma=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,o,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if(e.namespaceURI!==da.svg||"innerHTML"in e)e.innerHTML=t;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+t+"</svg>",t=ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),ya={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fa=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){fa.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});var va=Oo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ga=jo.thatReturns(""),_a={createElement:dt,createTextNode:ht,setInitialProperties:mt,diffProperties:yt,updateProperties:ft,diffHydratedProperties:vt,diffHydratedText:gt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,r){switch(t){case"input":if(ve(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=b(n);i||o("90"),ne(n),ve(n,i)}}}break;case"textarea":ot(e,r);break;case"select":null!=(t=r.value)&&$e(e,!!r.multiple,t,!1)}}},wa=null,ba=null,xa=Ji,Sa=Ki,ka=Qi;new Set;var Pa=[],Ea=-1,Ca=St(qo),Aa=St(!1),Ma=qo,Ta=null,za=null,Ra=!1,Fa=St(null),Ia=St(null),Na=St(0),Ba={},Oa=St(Ba),ja=St(Ba),Da=St(Ba),La={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Fe(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var o=$r();o=Qr(o,e);var n=Jt(o);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),Kt(e,n,o),Yr(e,o)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var o=$r();o=Qr(o,e);var n=Jt(o);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),Kt(e,n,o),Yr(e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=$r();r=Qr(r,e);var o=Jt(r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),Kt(e,o,r),Yr(e,r)}},Ua=Array.isArray,qa=fr(!0),Va=fr(!1),Wa=null,Ha=null,Ga=!1,Za=void 0,Ja=void 0,Xa=void 0;Za=function(){},Ja=function(e,t,r){(t.updateQueue=r)&&Rr(t)},Xa=function(e,t,r,o){r!==o&&Rr(t)};var Ka=xa(),Qa=2,Ya=Ka,$a=0,es=0,ts=!1,rs=null,os=null,ns=0,is=-1,as=!1,ss=null,cs=!1,ls=!1,ps=null,us=null,ds=null,hs=0,ms=void 0,ys=!1,fs=null,vs=0,gs=0,_s=!1,ws=!1,bs=null,xs=null,Ss=!1,ks=!1,Ps=!1,Es=null,Cs=1e3,As=0,Ms=1,Ts={updateContainerAtExpirationTime:bo,createContainer:function(e,t,r){return Ut(e,t,r)},updateContainer:So,flushRoot:co,requestWork:oo,computeUniqueAsyncExpiration:Kr,batchedUpdates:fo,unbatchedUpdates:vo,deferredUpdates:eo,syncUpdates:to,interactiveUpdates:_o,flushInteractiveUpdates:function(){ys||0===gs||(so(gs,!1,null),gs=0)},flushControlled:wo,flushSync:go,getPublicRootInstance:ko,findHostInstance:xo,findHostInstanceWithNoPortals:function(e){return e=Oe(e),null===e?null:e.stateNode},injectIntoDevTools:Po};In.injectFiberControlledHostComponent(_a),Co.prototype.render=function(e){this._defer||o("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,r=this._expirationTime,n=new Ao;return bo(e,t,null,r,n._onCommit),n},Co.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Co.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||o("251"),this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,i=t;i!==this;)n=i,i=i._next;null===n&&o("251"),n._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,co(e,r),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Co.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ao.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ao.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!==typeof r&&o("191",r),r()}}},Mo.prototype.render=function(e,t){var r=this._internalRoot,o=new Ao;return t=void 0===t?null:t,null!==t&&o.then(t),So(e,r,null,o._onCommit),o},Mo.prototype.unmount=function(e){var t=this._internalRoot,r=new Ao;return e=void 0===e?null:e,null!==e&&r.then(e),So(null,t,null,r._onCommit),r},Mo.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var o=this._internalRoot,n=new Ao;return r=void 0===r?null:r,null!==r&&n.then(r),So(t,o,e,n._onCommit),n},Mo.prototype.createBatch=function(){var e=new Co(this),t=e._expirationTime,r=this._internalRoot,o=r.firstBatch;if(null===o)r.firstBatch=e,e._next=null;else{for(r=null;null!==o&&o._expirationTime<=t;)r=o,o=o._next;e._next=o,null!==r&&(r._next=e)}return e},J=Ts.batchedUpdates,X=Ts.interactiveUpdates,K=Ts.flushInteractiveUpdates;var zs={createPortal:Fo,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:xo(e)},hydrate:function(e,t,r){return Ro(null,e,t,!0,r)},render:function(e,t,r){return Ro(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){return(null==e||void 0===e._reactInternalFiber)&&o("38"),Ro(e,t,r,!1,n)},unmountComponentAtNode:function(e){return To(e)||o("40"),!!e._reactRootContainer&&(vo(function(){Ro(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Fo.apply(void 0,arguments)},unstable_batchedUpdates:fo,unstable_deferredUpdates:eo,unstable_interactiveUpdates:_o,flushSync:go,unstable_flushControlled:wo,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rn,EventPluginRegistry:Ko,EventPropagators:cn,ReactControlledComponent:On,ReactDOMComponentTree:sn,ReactDOMEventListener:Fi},unstable_createRoot:function(e,t){return new Mo(e,!0,null!=t&&!0===t.hydrate)}};Po({findFiberByHostInstance:_,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var Rs={default:zs},Fs=Rs&&zs||Rs;e.exports=Fs.default?Fs.default:Fs},function(e,t,r){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};e.exports=n},function(e,t,r){"use strict";function o(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=o},function(e,t,r){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,r){"use strict";function o(e,t){return!(!e||!t)&&(e===t||!n(e)&&(n(t)?o(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var n=r(58);e.exports=o},function(e,t,r){"use strict";function o(e){return n(e)&&3==e.nodeType}var n=r(59);e.exports=o},function(e,t,r){"use strict";function o(e){var t=e?e.ownerDocument||e:document,r=t.defaultView||window;return!(!e||!("function"===typeof r.Node?e instanceof r.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=o},function(e,t){},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(21),s=r.n(a),c=r(0),l=r.n(c),p=r(5),u=r(6),d=r(105),h=r(113),m=r(114),y=r(115),f=r(119),v=r(120),g=r(121),_=r(123),w=r(124),b=r(125),x=r(126),S=r(131),k=r(2),P=r(11),E=r.n(P),C=r(34),A=r.n(C),M=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();r(138).config(),x.a.plugin(S.a);var T=Object(u.c)(d.a),z="wss://ollisim.mybluemix.net",R="https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/ollilocation",F="https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/rule_event_transitions",I=Object({NODE_ENV:"production",PUBLIC_URL:"/ces-stop-arrivals",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_REMOTE_TELEMETRY_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/ollilocation",REACT_APP_REMOTE_EVENT_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/rule_event_transitions",REACT_APP_OLLI_STOP_IDX:"3"}).REACT_APP_REMOTE_DB||"https://0fdf5a9b-8632-4315-b020-91e60e1bbd2b-bluemix.cloudant.com/ollilocation",N=parseInt("3",10)||0,B=Object({NODE_ENV:"production",PUBLIC_URL:"/ces-stop-arrivals",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_REMOTE_TELEMETRY_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/ollilocation",REACT_APP_REMOTE_EVENT_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/rule_event_transitions",REACT_APP_OLLI_STOP_IDX:"3"}).REACT_APP_WEATHER_URL||(z?z.replace("ws","http")+"/weather/{lat}/{lon}":""),O=function(e){function t(){o(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={stop:E.a.features[N]},T.dispatch(Object(k.m)(A.a)),R&&F?e.startPouchDBAOSim():z?e.startWebsocket():e.startPouchDBOlliSim(),e}return i(t,e),M(t,[{key:"connectWebsocket",value:function(){var e=this;this.websocketConnected?console.log("Websocket already connected..."):(console.log("Trying to connect to websocket..."),this.websocketConnected=!0,this.websocket=new WebSocket(z),this.websocket.onopen=function(){e.websocketConnected=!0,console.log("Socket opened")},this.websocket.onclose=function(){console.log("Socket closed"),e.websocket=null,e.websocketConnected=!1,setTimeout(function(){e.connectWebsocket()},5e3)},this.websocket.onerror=function(t){console.log("Socket error",t),e.websocket=null,e.websocketConnected=!1,setTimeout(function(){e.connectWebsocket()},5e3)},this.websocket.onmessage=function(e){try{var t=JSON.parse(e.data);"route_info"===t.type?T.dispatch(Object(k.m)(t)):"trip_start"===t.type?T.dispatch(Object(k.n)(t)):"trip_end"===t.type?T.dispatch(Object(k.i)(t)):"geo_position"===t.type&&T.dispatch(Object(k.l)(t))}catch(t){console.log(e.data)}})}},{key:"startWebsocket",value:function(){var e=this,t=z.replace("ws","http");s.a.get(t+"/info").then(function(e){return console.log(e),e.data.started?(console.log("Simulator already running..."),T.dispatch(Object(k.m)(e.data.route)),Promise.resolve(e)):(console.log("Starting simulator..."),s.a.get(t+"/start"))}).then(function(e){return s.a.get(t+"/info")}).then(function(t){T.dispatch(Object(k.m)(t.data.route)),e.connectWebsocket()}).catch(function(){setTimeout(function(){e.startWebsocket()},5e3)})}},{key:"startPouchDBOlliSim",value:function(){var e=this;this.db=new x.a(I,{}),this.db.changes({since:"now",live:!0,include_docs:!0}).on("change",function(t){T.getState().mapReady&&t&&t.doc&&t.doc.type&&("route_info"===t.doc.type?T.dispatch(Object(k.m)(t.doc)):"trip_start"===t.doc.type?T.dispatch(Object(k.n)(t.doc)):"trip_end"===t.doc.type?T.dispatch(Object(k.i)(t.doc)):"geo_position"===t.doc.type&&(T.getState().olliRoute?T.dispatch(Object(k.l)(t.doc)):e.db.createIndex({index:{fields:[{type:"desc"},{ts:"desc"}]}}).then(function(){return e.db.find({selector:{type:"route_info"},sort:[{type:"desc"},{ts:"desc"}],limit:1})}).then(function(e){e.docs&&e.docs.length>0&&(T.dispatch(Object(k.m)(e.docs[0])),T.dispatch(Object(k.l)(t.doc)))}).catch(function(e){console.log(e)})))}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)})}},{key:"startPouchDBAOSim",value:function(){this.db=new x.a(R,{}),this.db.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){if(T.getState().mapReady&&e&&e.doc&&"telemetry_transition"===e.doc._id){for(var t=[];;){var r=t.length,o="olli_"+(r+1);if(!e.doc.transport_data.olli_vehicles.hasOwnProperty(o))break;t.push(e.doc.transport_data.olli_vehicles[o])}for(var n=0;n<t.length;n++){var i={olliId:"olli_"+(n+1),coordinates:t[n].geometry.coordinates,distance_travelled:.14278461869690082,distance_remaining:.05605209177030407,properties:t[n].properties,offset:t[n].offset,ts:e.doc.timestamp};T.getState().olliRoute?T.dispatch(Object(k.l)(i)):console.log("No olli route. Cannot update olli position.")}}}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)}),this.db2=new x.a(F,{}),this.db2.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){T.getState().mapReady&&e&&e.doc&&(e.doc._id.startsWith("Trip Start")?(console.log("Trip Start - TBD"),console.log(e.doc)):e.doc._id.startsWith("Trip Stop")&&(console.log("Trip Stop - TBD"),console.log(e.doc)))}).on("complete",function(e){}).on("paused",function(){}).on("error",function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement(p.a,{store:T},l.a.createElement("div",{className:"cssgrid"},l.a.createElement(f.a,null),l.a.createElement(v.a,{stop:this.state.stop}),l.a.createElement("div",{id:"col1"},l.a.createElement(g.a,{stop:this.state.stop}),l.a.createElement(w.a,{stop:this.state.stop}),l.a.createElement(_.a,null)),l.a.createElement("div",{id:"col2"},l.a.createElement("div",{className:"clock-weather-wrapper"},l.a.createElement("div",{className:"clock-weather"},l.a.createElement("h2",null,l.a.createElement(h.a,null)),l.a.createElement(b.a,{serviceurl:B,refreshrate:10}))),l.a.createElement(m.a,{stop:this.state.stop}),l.a.createElement(y.a,{stop:this.state.stop}))))}}]),t}(c.Component);t.a=O},function(e,t,r){"use strict";function o(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var n=r(1),i=r(22),a=r(64),s=r(9),c=o(s);c.Axios=a,c.create=function(e){return o(n.merge(s,e))},c.Cancel=r(27),c.CancelToken=r(78),c.isCancel=r(26),c.all=function(e){return Promise.all(e)},c.spread=r(79),e.exports=c,e.exports.default=c},function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}e.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},function(e,t,r){"use strict";function o(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var n=r(9),i=r(1),a=r(73),s=r(74);o.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(n,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,r,o){return this.request(i.merge(o||{},{method:e,url:t,data:r}))}}),e.exports=o},function(e,t,r){"use strict";var o=r(1);e.exports=function(e,t){o.forEach(e,function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])})}},function(e,t,r){"use strict";var o=r(25);e.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(o("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,o,n){return e.config=t,r&&(e.code=r),e.request=o,e.response=n,e}},function(e,t,r){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var n=r(1);e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var o=r(1),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(o.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),r=o.trim(e.substr(i+1)),t){if(a[t]&&n.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var o=r(1);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");return t=e(window.location.href),function(r){var n=o.isString(r)?e(r):r;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},function(e,t,r){"use strict";function o(){this.message="String contains an invalid character"}function n(e){for(var t,r,n=String(e),a="",s=0,c=i;n.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&t>>8-s%1*8)){if((r=n.charCodeAt(s+=.75))>255)throw new o;t=t<<8|r}return a}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=n},function(e,t,r){"use strict";var o=r(1);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,r,n,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),o.isString(n)&&s.push("path="+n),o.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,r){"use strict";function o(){this.handlers=[]}var n=r(1);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var n=r(1),i=r(75),a=r(26),s=r(9),c=r(76),l=r(77);e.exports=function(e){return o(e),e.baseURL&&!c(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var o=r(1);e.exports=function(e,t,r){return o.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}var n=r(27);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=(r.n(a),r(28)),c=r.n(s),l=r(29);r(10);t.a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",r=arguments[1],s=r||t+"Subscription",p=function(e){function r(i,a){o(this,r);var s=n(this,e.call(this,i,a));return s[t]=i.store,s}return i(r,e),r.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[s]=null,e},r.prototype.render=function(){return a.Children.only(this.props.children)},r}(a.Component);return p.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},p.childContextTypes=(e={},e[t]=l.a.isRequired,e[s]=l.b,e),p}()},function(e,t,r){"use strict";function o(){}var n=r(82);e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";function o(e,t,r){if("string"!==typeof t){if(u){var d=p(t);d&&d!==u&&o(e,d,r)}var h=s(t);c&&(h=h.concat(c(t)));for(var m=0;m<h.length;++m){var y=h[m];if(!n[y]&&!i[y]&&(!r||!r[y])){var f=l(t,y);try{a(e,y,f)}catch(e){}}}return e}return e}var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,u=p&&p(Object);e.exports=o},function(e,t,r){"use strict";var o=function(e,t,r,o,n,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,n,i,a,s],p=0;c=new Error(t.replace(/%s/g,function(){return l[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=o},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var r=e=t,o=0;o<r.length;o++)r[o]()},get:function(){return t},subscribe:function(r){var o=!0;return t===e&&(t=e.slice()),t.push(r),function(){o&&e!==i&&(o=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}r.d(t,"a",function(){return s});var i=null,a={notify:function(){}},s=function(){function e(t,r,n){o(this,e),this.store=t,this.parentSub=r,this.onStateChange=n,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=n())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,r){"use strict";function o(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function n(e,t,r){for(var o=t.length-1;o>=0;o--){var n=t[o](e);if(n)return n}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function i(e,t){return e===t}var a=r(30),s=r(87),c=r(88),l=r(101),p=r(102),u=r(103),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,r=void 0===t?a.a:t,h=e.mapStateToPropsFactories,m=void 0===h?l.a:h,y=e.mapDispatchToPropsFactories,f=void 0===y?c.a:y,v=e.mergePropsFactories,g=void 0===v?p.a:v,_=e.selectorFactory,w=void 0===_?u.a:_;return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.pure,p=void 0===l||l,u=c.areStatesEqual,h=void 0===u?i:u,y=c.areOwnPropsEqual,v=void 0===y?s.a:y,_=c.areStatePropsEqual,b=void 0===_?s.a:_,x=c.areMergedPropsEqual,S=void 0===x?s.a:x,k=o(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=n(e,m,"mapStateToProps"),E=n(t,f,"mapDispatchToProps"),C=n(a,g,"mergeProps");return r(w,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:E,initMergeProps:C,pure:p,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:S},k))}}()},function(e,t,r){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function n(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}t.a=n;var i=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";function o(e){return"function"===typeof e?Object(s.b)(e,"mapDispatchToProps"):void 0}function n(e){return e?void 0:Object(s.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"===typeof e?Object(s.a)(function(t){return Object(a.a)(e,t)}):void 0}var a=r(6),s=r(31);t.a=[o,n,i]},function(e,t,r){"use strict";(function(e,o){var n,i=r(91);n="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:o;var a=Object(i.a)(n);t.a=a}).call(t,r(3),r(90)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";function o(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.a=o},function(e,t,r){"use strict";function o(e){if(!Object(a.a)(e)||Object(n.a)(e)!=s)return!1;var t=Object(i.a)(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&p.call(r)==d}var n=r(93),i=r(98),a=r(100),s="[object Object]",c=Function.prototype,l=Object.prototype,p=c.toString,u=l.hasOwnProperty,d=p.call(Object);t.a=o},function(e,t,r){"use strict";function o(e){return null==e?void 0===e?c:s:l&&l in Object(e)?Object(i.a)(e):Object(a.a)(e)}var n=r(33),i=r(96),a=r(97),s="[object Null]",c="[object Undefined]",l=n.a?n.a.toStringTag:void 0;t.a=o},function(e,t,r){"use strict";var o=r(95),n="object"==typeof self&&self&&self.Object===Object&&self,i=o.a||n||Function("return this")();t.a=i},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(t,r(3))},function(e,t,r){"use strict";function o(e){var t=a.call(e,c),r=e[c];try{e[c]=void 0;var o=!0}catch(e){}var n=s.call(e);return o&&(t?e[c]=r:delete e[c]),n}var n=r(33),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,c=n.a?n.a.toStringTag:void 0;t.a=o},function(e,t,r){"use strict";function o(e){return i.call(e)}var n=Object.prototype,i=n.toString;t.a=o},function(e,t,r){"use strict";var o=r(99),n=Object(o.a)(Object.getPrototypeOf,Object);t.a=n},function(e,t,r){"use strict";function o(e,t){return function(r){return e(t(r))}}t.a=o},function(e,t,r){"use strict";function o(e){return null!=e&&"object"==typeof e}t.a=o},function(e,t,r){"use strict";function o(e){return"function"===typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function n(e){return e?void 0:Object(i.a)(function(){return{}})}var i=r(31);t.a=[o,n]},function(e,t,r){"use strict";function o(e,t,r){return s({},r,e,t)}function n(e){return function(t,r){var o=(r.displayName,r.pure),n=r.areMergedPropsEqual,i=!1,a=void 0;return function(t,r,s){var c=e(t,r,s);return i?o&&n(c,a)||(a=c):(i=!0,a=c),a}}}function i(e){return"function"===typeof e?n(e):void 0}function a(e){return e?void 0:function(){return o}}var s=(r(32),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e});t.a=[i,a]},function(e,t,r){"use strict";function o(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function n(e,t,r,o){return function(n,i){return r(e(n,i),t(o,i),i)}}function i(e,t,r,o,n){function i(n,i){return m=n,y=i,f=e(m,y),v=t(o,y),g=r(f,v,y),h=!0,g}function a(){return f=e(m,y),t.dependsOnOwnProps&&(v=t(o,y)),g=r(f,v,y)}function s(){return e.dependsOnOwnProps&&(f=e(m,y)),t.dependsOnOwnProps&&(v=t(o,y)),g=r(f,v,y)}function c(){var t=e(m,y),o=!d(t,f);return f=t,o&&(g=r(f,v,y)),g}function l(e,t){var r=!u(t,y),o=!p(e,m);return m=e,y=t,r&&o?a():r?s():o?c():g}var p=n.areStatesEqual,u=n.areOwnPropsEqual,d=n.areStatePropsEqual,h=!1,m=void 0,y=void 0,f=void 0,v=void 0,g=void 0;return function(e,t){return h?l(e,t):i(e,t)}}function a(e,t){var r=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,c=o(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=r(e,c),p=a(e,c),u=s(e,c);return(c.pure?i:n)(l,p,u,e,c)}t.a=a;r(104)},function(e,t,r){"use strict";r(10)},function(e,t,r){"use strict";var o=r(6),n=r(106),i=r(107),a=r(108),s=r(109),c=r(110),l=r(111),p=r(112),u=Object(o.b)({mapReady:n.a,olliPosition:i.a,olliPositions:a.a,olliRoute:s.a,olliRouteVisibility:c.a,poiCategory:l.a,mapMsg:p.a});t.a=u},function(e,t,r){"use strict";var o=r(2);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.c:e=t.ready}return e}},function(e,t,r){"use strict";var o=r(2),n=null;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t)switch(t.type){case o.e:n=t.route;break;case o.h:n&&(e={coordinates:t.coordinates,currentStop:null,previousStop:t.fromStop,nextStop:t.toStop,nextStopProgress:0});break;case o.a:n&&(e={coordinates:t.coordinates,currentStop:t.toStop,previousStop:t.fromStop,nextStop:null,nextStopProgress:1});break;case o.d:if(n){var r=void 0,i=void 0,a=void 0;e&&(r=e.currentStop,i=e.previousStop,a=e.nextStop),e={position:t.position,coordinates:t.coordinates,currentStop:r,previousStop:i,nextStop:a,nextStopProgress:t.progress}}}return e}},function(e,t,r){"use strict";var o=r(2);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t)switch(t.type){case o.d:for(var r=-1,n=0;n<e.length;n++)if(e[n].olliId===t.position.olliId){r=n;break}var i=e.slice(0);r>=0&&i.splice(r,1),i.push({olliId:t.position.olliId,coordinates:t.coordinates,offset:t.position.offset}),e=i}return e}},function(e,t,r){"use strict";var o=r(2);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(t)switch(t.type){case o.e:e=t.route}return e}},function(e,t,r){"use strict";var o=r(2);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",t=arguments[1];if(t)switch(t.type){case o.f:e=t.visibility}return e}},function(e,t,r){"use strict";var o=r(2);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.g:e=t.category}return e}},function(e,t,r){"use strict";var o=r(2);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t)switch(t.type){case o.b:e={messageHtml:t.messageHtml,poiNames:t.poiNames}}return e}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={date:new Date},r}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval(function(){return e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return s.a.createElement("span",{className:"clock"},this.state.date.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))}}]),t}(a.Component);t.a=l},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"kintrans-wrapper kintrans-fake"},s.a.createElement("div",{className:"kintrans"},s.a.createElement("img",{src:"./img/signing.png",alt:"hands signing"})))}}]),t}(a.Component);t.a=l},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=r(116),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),p=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"mapWrapper"},s.a.createElement(c.a,{stop:this.props.stop}))}}]),t}(a.Component);t.a=p},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Object(h.a)({setMapReady:m.k,mapMessage:m.j},e)}function s(e){return{olliPositions:e.olliPositions,olliRoute:e.olliRoute,olliRouteVisibility:e.olliRouteVisibility,poiCategory:e.poiCategory}}var c=r(0),l=r.n(c),p=r(117),u=r.n(p),d=r(5),h=r(6),m=r(2),y=r(11),f=r.n(y),v=r(118),g=r.n(v),_=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();u.a.accessToken="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA";var w=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={stopSelected:!1},r}return i(t,e),_(t,[{key:"updateMapBounds",value:function(e){var t=e.reduce(function(e,t){return e.extend(t)},new u.a.LngLatBounds(e[0],e[0]));this.map.fitBounds(t,{padding:100})}},{key:"updateOlliRouteVisibility",value:function(e){this.map.setLayoutProperty("olli-route","visibility",e)}},{key:"calculatePosition",value:function(e,t,r){var o=e[1],n=e[0];return[o+(t[1]-o)*r,n+(t[0]-n)*r].reverse()}},{key:"updateOlliPositionsAoSimNoSmooth",value:function(e){var t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value,s=[a.coordinates[0],a.coordinates[1]],c={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:s}}]},l="olli-bus-"+a.olliId,p=this.map.getSource(l);p?p.setData(c):this.map.addLayer({id:l,source:{type:"geojson",data:c},type:"symbol",paint:{"text-color":"#046b99","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:{"icon-image":"olli","icon-size":.75,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-field":"line84","text-size":12,"text-offset":[0,2]}})}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}}},{key:"updateOlliPositionsAOSim",value:function(e){var t=!1;this.olliPositions||(t=!0,this.olliPositions={},this.olliPositionTimes={});var r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(!s.processed){s.processed=!0;var c=s.olliId,l=[s.coordinates[0],s.coordinates[1]];c in this.olliPositions||(this.olliPositions[c]=[],this.olliPositionTimes[c]=[]),this.olliPositions[c].push(l),this.olliPositionTimes[c].push((new Date).getTime())}}}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}t&&requestAnimationFrame(this.animateOlliPositions.bind(this))}},{key:"animateOlliPositions",value:function(e){var t=this;Object.keys(this.olliPositions).forEach(function(r){t.animateOlliPositionsForOlli(r,e)}),requestAnimationFrame(this.animateOlliPositions.bind(this))}},{key:"animateOlliPositionsForOlli",value:function(e,t){if(this.olliPositions[e].length>1){this.olliPositionTimestamps||(this.olliPositionTimestamps={}),e in this.olliPositionTimestamps||(this.olliPositionTimestamps[e]=[],this.olliPositionTimestamps[e].push(t));for(var r=1;r<this.olliPositionTimes[e].length;r++)if(this.olliPositionTimestamps[e].length<r+1){var o=this.olliPositionTimes[e][r]-this.olliPositionTimes[e][r-1];this.olliPositionTimestamps[e].push(this.olliPositionTimestamps[e][r-1]+o)}var n=(t-this.olliPositionTimestamps[e][0])/(this.olliPositionTimestamps[e][1]-this.olliPositionTimestamps[e][0]);if(n>=1)this.olliPositions[e].splice(0,1),this.olliPositionTimes[e].splice(0,1),this.olliPositionTimestamps[e].splice(0,1);else{var i=this.olliPositions[e][0],a=this.olliPositions[e][1],s=i;n>0&&(s=this.calculatePosition(i,a,n));var c={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[]}}]};c.features[0].geometry.coordinates=s;var l="olli-bus-"+e,p=this.map.getSource(l);p?p.setData(c):this.map.addLayer({id:l,source:{type:"geojson",data:c},type:"symbol",paint:{"text-color":"#046b99","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:{"icon-image":"olli","icon-size":.75,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-field":""+e,"text-size":12,"text-offset":[0,3]}})}}}},{key:"updateOlliPositionForOlliSim",value:function(e){var t=null;t=e.position?e.position.coordinates:e.coordinates;var r=[t[0],t[1]];this.olliPositions?this.totalOlliPositions++:(this.olliPositions=[],this.olliPositionTimes=[],this.totalOlliPositions=1),2===this.totalOlliPositions&&this.olliPositions[0][0]===r[0]&&this.olliPositions[0][1]===r[1]?(this.totalOlliPositions=1,this.olliPositionTimes[0]=(new Date).getTime()):(this.olliPositions.push(r),this.olliPositionTimes.push((new Date).getTime())),2===this.totalOlliPositions&&requestAnimationFrame(this.animateOlliPosition.bind(this))}},{key:"animateOlliPosition",value:function(e){if(this.olliPositions.length>1){this.olliPositionTimestamps||(this.olliPositionTimestamps=[],this.olliPositionTimestamps.push(e));for(var t=1;t<this.olliPositionTimes.length;t++)if(this.olliPositionTimestamps.length<t+1){var r=this.olliPositionTimes[t]-this.olliPositionTimes[t-1];this.olliPositionTimestamps.push(this.olliPositionTimestamps[t-1]+r)}var o=(e-this.olliPositionTimestamps[0])/(this.olliPositionTimestamps[1]-this.olliPositionTimestamps[0]);if(o>=1)this.olliPositions.splice(0,1),this.olliPositionTimes.splice(0,1),this.olliPositionTimestamps.splice(0,1);else{var n=this.olliPositions[0],i=this.olliPositions[1],a=n;o>0&&(a=this.calculatePosition(n,i,o));var s={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[]}}]};s.features[0].geometry.coordinates=a;var c=this.map.getSource("olli-bus");c?c.setData(s):this.map.addLayer({id:"olli-bus",source:{type:"geojson",data:null},type:"symbol",layout:{"icon-image":"olli","icon-size":.75}})}}requestAnimationFrame(this.animateOlliPosition.bind(this))}},{key:"getNearbyPOIs",value:function(e){["Mayo Guggenheim","Mayo Gonda","Peace Plaza"].includes(e.properties.name)&&this.props.mapMessage({__html:"<h2>&#8220;Your destination is near a medical facility. If you need to go to one of these places after, I can give you directions.&#8221;<h2>"},[]),this.map.setLayoutProperty("olli-pois","visibility","visible")}},{key:"updatePOICategory",value:function(e){var t=this,r=g.a;if(e){var o=[e.toLowerCase()];switch("attractions"===o[0]&&(o=o.concat(["arts","publicservicesgovt"])),r={type:"FeatureCollection",features:[]},g.a.features.forEach(function(e){e.properties.category.forEach(function(t){o.includes(t.term)&&r.features.push(e)},t)},this),e){case"food":this.map.setLayoutProperty("olli-pois","icon-image","restaurant-noun");break;case"health":this.map.setLayoutProperty("olli-pois","icon-image","medical-noun");break;default:this.map.setLayoutProperty("olli-pois","icon-image","circle-15")}}this.map.getSource("olli-pois").setData(r),this.map.setLayoutProperty("olli-pois","visibility","visible")}},{key:"componentWillReceiveProps",value:function(e){if(e.olliRoute!==this.props.olliRoute){var t=e.olliRoute.coordinates.map(function(e){return[e.coordinates[0],e.coordinates[1]]});this.updateMapBounds(t)}e.olliRouteVisibility!==this.props.olliRouteVisibility&&this.updateOlliRouteVisibility(e.olliRouteVisibility),e.olliPosition!==this.props.olliPosition&&this.updateOlliPositionOlliSim(e.olliPosition),e.olliPositions!==this.props.olliPositions&&this.updateOlliPositionsAOSim(e.olliPositions),e.poiCategory!==this.props.poiCategory&&this.updatePOICategory(e.poiCategory),e.destinationStopName&&e.destinationStopName!==this.props.destinationStopName&&this.setNewDestination(e.destinationStopName),e.pois!==this.props.pois&&this.updatePOIs(e.pois)}},{key:"loadImage",value:function(e,t){var r=this;this.map.loadImage("./img/"+e,function(e,o){if(e)throw e;r.map.addImage(t,o)})}},{key:"componentWillUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){var e=this;this.map=new u.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v9",center:[-92.466,44.0205],zoom:16});for(var t=["olli-icon-svg.png","olli-stop-color.png","noun_1012350_cc.png","noun_854071_cc.png","noun_1015675_cc.png","youarehere.png","yourdest.png"],r=["olli","olli-stop","restaurant-noun","medical-noun","museum-noun","youarehere","yourdest"],o=0;o<t.length;o++)this.loadImage(t[o],r[o]);this.map.on("load",function(){e.addBasicMapLayers(),e.props.setMapReady(!0)})}},{key:"addBasicMapLayers",value:function(){var e=this.props.olliRoute;"FeatureCollection"!==e.type&&(e={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e.coordinates}}]}),this.map.addLayer({id:"olli-route",type:"line",source:{type:"geojson",data:e},layout:{"line-cap":"round","line-join":"round",visibility:this.props.olliRouteVisibility},paint:{"line-color":"#0087bd","line-width":10,"line-opacity":.4}}),this.map.addLayer({id:"olli-stops-w3w",source:{type:"geojson",data:f.a},type:"symbol",paint:{"text-color":"#444444","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:{"icon-image":"olli-stop","icon-optional":!0,"icon-size":.15,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-field":"{what3words}","text-size":12,"text-offset":[6,0]}}),this.map.addLayer({id:"olli-stops",source:{type:"geojson",data:f.a},type:"symbol",paint:{"text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1},layout:{"icon-image":"olli-stop","icon-size":.35,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-field":"{name}","text-size":14,"text-offset":[0,-2]}}),this.map.addLayer({id:"olli-current-stop",source:{type:"geojson",data:this.props.stop},type:"symbol",layout:{"icon-image":"youarehere","icon-size":.35,"icon-anchor":"top","icon-offset":[-212,0]}}),this.map.addLayer({id:"olli-destination",source:{type:"geojson",data:null},type:"symbol",layout:{"icon-image":"yourdest","icon-size":.35,"icon-anchor":"top","icon-offset":[-212,0]}}),this.map.addLayer({id:"olli-pois",source:{type:"geojson",data:g.a},type:"symbol",paint:{"text-color":"#0087bd","text-halo-color":"#fff","text-halo-width":4,"text-halo-blur":1,"icon-halo-color":"#fff","icon-halo-width":4,"icon-halo-blur":1},layout:{visibility:"none","icon-image":"circle-15","icon-size":.5,"text-font":["Open Sans Semibold","Open Sans Regular","Arial Unicode MS Regular"],"text-size":12,"text-field":"{name}"}})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{ref:function(t){return e.mapContainer=t}})}}]),t}(l.a.Component);t.a=Object(d.b)(s,a)(w)},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e,n){if(t)if(r){var i="var sharedChunk = {}; ("+t+")(sharedChunk); ("+r+")(sharedChunk);",a={};t(a),o=n(a),o.workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else r=n;else t=n}var t,r,o;return e(["exports"],function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e,t,r,o){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(o-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=o,this.p2x=r,this.p2y=o}function o(e,t){this.x=e,this.y=t}function n(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(!n(e[o],t[o]))return!1;return!0}return e===t}function i(e,t,r,o){var n=new eo(e,t,r,o);return function(e){return n.solve(e)}}function a(e,t,r){return Math.min(r,Math.max(t,e))}function s(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var o=0,n=t;o<n.length;o+=1){var i=n[o];for(var a in i)e[a]=i[a]}return e}function c(){return no++}function l(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})}function p(e,t){return-1!==e.indexOf(t,e.length-t.length)}function u(e,t,r){var o={};for(var n in e)o[n]=t.call(r||this,e[n],n,e);return o}function d(e,t,r){var o={};for(var n in e)t.call(r||this,e[n],n,e)&&(o[n]=e[n]);return o}function h(e){return Array.isArray(e)?e.map(h):"object"==typeof e&&e?u(e,h):e}function m(e){io[e]||("undefined"!=typeof console&&console.warn(e),io[e]=!0)}function y(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function f(e){for(var t=0,r=0,o=e.length,n=o-1,i=void 0,a=void 0;r<o;n=r++)i=e[r],t+=((a=e[n]).x-i.x)*(i.y+a.y);return t}function v(e){var t=new self.XMLHttpRequest;for(var r in t.open(e.method||"GET",e.url,!0),e.headers)t.setRequestHeader(r,e.headers[r]);return t.withCredentials="include"===e.credentials,t}function g(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function _(e,t,r){if(r&&r[e]){var o=r[e].indexOf(t);-1!==o&&r[e].splice(o,1)}}function w(e){var t=e.key,r=e.value;return r?[new _o(t,r,"constants have been deprecated as of v8")]:[]}function b(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var o=0,n=t;o<n.length;o+=1){var i=n[o];for(var a in i)e[a]=i[a]}return e}function x(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function S(e){return Array.isArray(e)?e.map(S):x(e)}function k(e,t){return{kind:"array",itemType:e,N:t}}function P(e){if("array"===e.kind){var t=P(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}function E(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&!E(e.itemType,t.itemType)&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,o=zo;r<o.length;r+=1)if(!E(o[r],t))return null}return"Expected "+P(e)+" but found "+P(t)+" instead."}function C(e,t,r,o){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===o||"number"==typeof o&&o>=0&&o<=1?null:"Invalid rgba value ["+[e,t,r,o].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof o?[e,t,r,o]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function A(e){if(null===e)return xo;if("string"==typeof e)return ko;if("boolean"==typeof e)return Po;if("number"==typeof e)return So;if(e instanceof Fo)return Eo;if(e instanceof Io)return Mo;if(Array.isArray(e)){for(var t,r=e.length,o=0,n=e;o<n.length;o+=1){var i=A(n[o]);if(t){if(t===i)continue;t=Ao;break}t=i}return k(t||Ao,r)}return Co}function M(e){if(e instanceof Zo){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild(function(e){t&&!M(e)&&(t=!1)}),t}function T(e){if(e instanceof Zo&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(e){t&&!T(e)&&(t=!1)}),t}function z(e,t){if(e instanceof Zo&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild(function(e){r&&!z(e,t)&&(r=!1)}),r}function R(e,t){for(var r,o,n=0,i=e.length-1,a=0;n<=i;){if(r=e[a=Math.floor((n+i)/2)],o=e[a+1],t===r||t>r&&t<o)return a;if(r<t)n=a+1;else{if(!(r>t))throw new Lo("Input is not a number.");i=a-1}}return Math.max(a-1,0)}function F(e,t,r){return e*(1-r)+t*r}function I(e){return e>nn?Math.pow(e,1/3):e/on+tn}function N(e){return e>rn?e*e*e:on*(e-tn)}function B(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function O(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function j(e){var t=O(e.r),r=O(e.g),o=O(e.b),n=I((.4124564*t+.3575761*r+.1804375*o)/Yo),i=I((.2126729*t+.7151522*r+.072175*o)/$o);return{l:116*i-16,a:500*(n-i),b:200*(i-I((.0193339*t+.119192*r+.9503041*o)/en)),alpha:e.a}}function D(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,o=isNaN(e.b)?t:t-e.b/200;return t=$o*N(t),r=Yo*N(r),o=en*N(o),new Fo(B(3.2404542*r-1.5371385*t-.4985314*o),B(-.969266*r+1.8760108*t+.041556*o),B(.0556434*r-.2040259*t+1.0572252*o),e.alpha)}function L(e,t,r,o){var n=o-r,i=e-r;return 0===n?0:1===t?i/n:(Math.pow(t,i)-1)/(Math.pow(t,n)-1)}function U(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function q(e,t,r,o){return 0===o.compare(t,r)}function V(e,t,r){var o="=="!==e&&"!="!==e;return function(){function n(e,t,r){this.type=Po,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return n.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],i=t.parse(e[1],1,Ao);if(!i)return null;if(!U(r,i.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+P(i.type)+"'.");var a=t.parse(e[2],2,Ao);if(!a)return null;if(!U(r,a.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+P(a.type)+"'.");if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+P(i.type)+"' and '"+P(a.type)+"'.");o&&("value"===i.type.kind&&"value"!==a.type.kind?i=new qo(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new qo(i.type,[a])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Mo)))return null}return new n(i,a,s)},n.prototype.evaluate=function(n){var i=this.lhs.evaluate(n),a=this.rhs.evaluate(n);if(o&&this.hasUntypedArgument){var s=A(i),c=A(a);if(s.kind!==c.kind||"string"!==s.kind&&"number"!==s.kind)throw new Lo('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+c.kind+") instead.")}if(this.collator&&!o&&this.hasUntypedArgument){var l=A(i),p=A(a);if("string"!==l.kind||"string"!==p.kind)return t(n,i,a)}return this.collator?r(n,i,a,this.collator.evaluate(n)):t(n,i,a)},n.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},n.prototype.possibleOutputs=function(){return[!0,!1]},n.prototype.serialize=function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t},n}()}function W(e,t){var r=t[0],o=t[1],n=t[2],i=t[3];r=r.evaluate(e),o=o.evaluate(e),n=n.evaluate(e);var a=i?i.evaluate(e):1,s=C(r,o,n,a);if(s)throw new Lo(s);return new Fo(r/255*a,o/255*a,n/255*a,a)}function H(e,t){return e in t}function G(e,t){var r=t[e];return void 0===r?null:r}function Z(e){return{type:e}}function J(e){return{result:"success",value:e}}function X(e){return{result:"error",value:e}}function K(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Q(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Y(e){return!!e.expression&&e.expression.interpolated}function $(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function ee(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function te(e){return e}function re(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function oe(e,t,r,o,n){return re(typeof r===n?o[r]:void 0,e.default,t.default)}function ne(e,t,r){if("number"!==$(r))return re(e.default,t.default);var o=e.stops.length;if(1===o)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[o-1][0])return e.stops[o-1][1];var n=se(e.stops,r);return e.stops[n][1]}function ie(e,t,r){var o=void 0!==e.base?e.base:1;if("number"!==$(r))return re(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=se(e.stops,r),a=function(e,t,r,o){var n=o-r,i=e-r;return 0===n?0:1===t?i/n:(Math.pow(t,i)-1)/(Math.pow(t,n)-1)}(r,o,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],c=e.stops[i+1][1],l=Qo[t.type]||te;if(e.colorSpace&&"rgb"!==e.colorSpace){var p=pn[e.colorSpace];l=function(e,t){return p.reverse(p.interpolate(p.forward(e),p.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),o=c.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==o)return l(r,o,a)}}:l(s,c,a)}function ae(e,t,r){return"color"===t.type?r=Fo.parse(r):$(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),re(r,e.default,t.default)}function se(e,t){for(var r,o,n=0,i=e.length-1,a=0;n<=i;){if(r=e[a=Math.floor((n+i)/2)][0],o=e[a+1][0],t===r||t>r&&t<o)return a;r<t?n=a+1:r>t&&(i=a-1)}return Math.max(a-1,0)}function ce(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in kn}function le(e,t){var r=new Xo(kn,[],function(e){var t={color:Eo,string:ko,number:So,enum:ko,boolean:Po};return"array"===e.type?k(t[e.value]||Ao,e.length):t[e.type]||null}(t)),o=r.parse(e);return o?J(new Pn(o,t)):X(r.errors)}function pe(e,t){if("error"===(e=le(e,t)).result)return e;var r=e.value.expression,o=M(r);if(!o&&!K(t))return X([new wo("","data expressions not supported")]);var n=z(r,["zoom"]);if(!n&&!Q(t))return X([new wo("","zoom expressions not supported")]);var i=function e(t){var r=null;if(t instanceof hn)r=e(t.result);else if(t instanceof dn)for(var o=0,n=t.args;o<n.length;o+=1){var i=n[o];if(r=e(i))break}else(t instanceof Ko||t instanceof un)&&t.input instanceof Zo&&"zoom"===t.input.name&&(r=t);return r instanceof wo?r:(t.eachChild(function(t){var o=e(t);o instanceof wo?r=o:!r&&o?r=new wo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&o&&r!==o&&(r=new wo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r)}(r);return i||n?i instanceof wo?X([i]):i instanceof un&&!Y(t)?X([new wo("",'"interpolate" expressions cannot be used with this property')]):J(i?new Cn(o?"camera":"composite",e.value,i):new En(o?"constant":"source",e.value)):X([new wo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function ue(e,t){if(ee(e))return new An(e,t);if(ce(e)){var r=pe(e,t);if("error"===r.result)throw new Error(r.value.map(function(e){return e.key+": "+e.message}).join(", "));return r.value}var o=e;return"string"==typeof e&&"color"===t.type&&(o=Fo.parse(e)),{kind:"constant",evaluate:function(){return o}}}function de(e){var t=e.key,r=e.value,o=e.valueSpec||{},n=e.objectElementValidators||{},i=e.style,a=e.styleSpec,s=[],c=$(r);if("object"!==c)return[new _o(t,r,"object expected, "+c+" found")];for(var l in r){var p=l.split(".")[0],u=o[p]||o["*"],d=void 0;if(n[p])d=n[p];else if(o[p])d=Ie;else if(n["*"])d=n["*"];else{if(!o["*"]){s.push(new _o(t,r[l],'unknown property "'+l+'"'));continue}d=Ie}s=s.concat(d({key:(t?t+".":t)+l,value:r[l],valueSpec:u,style:i,styleSpec:a,object:r,objectKey:l},r))}for(var h in o)n[h]||o[h].required&&void 0===o[h].default&&void 0===r[h]&&s.push(new _o(t,r,'missing required property "'+h+'"'));return s}function he(e){var t=e.value,r=e.valueSpec,o=e.style,n=e.styleSpec,i=e.key,a=e.arrayElementValidator||Ie;if("array"!==$(t))return[new _o(i,t,"array expected, "+$(t)+" found")];if(r.length&&t.length!==r.length)return[new _o(i,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new _o(i,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value};n.$version<7&&(s.function=r.function),"object"===$(r.value)&&(s=r.value);for(var c=[],l=0;l<t.length;l++)c=c.concat(a({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:o,styleSpec:n,key:i+"["+l+"]"}));return c}function me(e){var t=e.key,r=e.value,o=e.valueSpec,n=$(r);return"number"!==n?[new _o(t,r,"number expected, "+n+" found")]:"minimum"in o&&r<o.minimum?[new _o(t,r,r+" is less than the minimum value "+o.minimum)]:"maximum"in o&&r>o.maximum?[new _o(t,r,r+" is greater than the maximum value "+o.maximum)]:[]}function ye(e){function t(e){var t=[],o=e.value,s=e.key;if("array"!==$(o))return[new _o(s,o,"array expected, "+$(o)+" found")];if(2!==o.length)return[new _o(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==$(o[0]))return[new _o(s,o,"object expected, "+$(o[0])+" found")];if(void 0===o[0].zoom)return[new _o(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new _o(s,o,"object stop key must have value")];if(i&&i>x(o[0].zoom))return[new _o(s,o[0].zoom,"stop zoom values must appear in ascending order")];x(o[0].zoom)!==i&&(i=x(o[0].zoom),n=void 0,c={}),t=t.concat(de({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:me,value:r}}))}else t=t.concat(r({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return t.concat(Ie({key:s+"[1]",value:o[1],valueSpec:a,style:e.style,styleSpec:e.styleSpec}))}function r(e,t){var r=$(e.value),i=x(e.value),l=null!==e.value?e.value:t;if(o){if(r!==o)return[new _o(e.key,l,r+" stop domain type must match previous stop domain type "+o)]}else o=r;if("number"!==r&&"string"!==r&&"boolean"!==r)return[new _o(e.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==r&&"categorical"!==s){var p="number expected, "+r+" found";return K(a)&&void 0===s&&(p+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new _o(e.key,l,p)]}return"categorical"!==s||"number"!==r||isFinite(i)&&Math.floor(i)===i?"categorical"!==s&&"number"===r&&void 0!==n&&i<n?[new _o(e.key,l,"stop domain values must appear in ascending order")]:(n=i,"categorical"===s&&i in c?[new _o(e.key,l,"stop domain values must be unique")]:(c[i]=!0,[])):[new _o(e.key,l,"integer expected, found "+i)]}var o,n,i,a=e.valueSpec,s=x(e.value.type),c={},l="categorical"!==s&&void 0===e.value.property,p=!l,u="array"===$(e.value.stops)&&"array"===$(e.value.stops[0])&&"object"===$(e.value.stops[0][0]),d=de({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===s)return[new _o(e.key,e.value,'identity function may not have a "stops" property')];var r=[],o=e.value;return r=r.concat(he({key:e.key,value:o,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:t})),"array"===$(o)&&0===o.length&&r.push(new _o(e.key,o,"array must have at least one stop")),r},default:function(e){return Ie({key:e.key,value:e.value,valueSpec:a,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===s&&l&&d.push(new _o(e.key,e.value,'missing required property "property"')),"identity"===s||e.value.stops||d.push(new _o(e.key,e.value,'missing required property "stops"')),"exponential"===s&&e.valueSpec.expression&&!Y(e.valueSpec)&&d.push(new _o(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(p&&!K(e.valueSpec)?d.push(new _o(e.key,e.value,"property functions not supported")):l&&!Q(e.valueSpec)&&d.push(new _o(e.key,e.value,"zoom functions not supported"))),"categorical"!==s&&!u||void 0!==e.value.property||d.push(new _o(e.key,e.value,'"property" property is required')),d}function fe(e){var t=("property"===e.expressionContext?pe:le)(S(e.value),e.valueSpec);return"error"===t.result?t.value.map(function(t){return new _o(""+e.key+t.key,e.value,t.message)}):"property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==t.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new _o(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')]:"property"!==e.expressionContext||"layout"!==e.propertyType||T(t.value._styleExpression.expression)?[]:[new _o(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')]}function ve(e){var t=e.key,r=e.value,o=e.valueSpec,n=[];return Array.isArray(o.values)?-1===o.values.indexOf(x(r))&&n.push(new _o(t,r,"expected one of ["+o.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(o.values).indexOf(x(r))&&n.push(new _o(t,r,"expected one of ["+Object.keys(o.values).join(", ")+"], "+JSON.stringify(r)+" found")),n}function ge(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var o=r[t];if(!ge(o)&&"boolean"!=typeof o)return!1}return!0;default:return!0}}function _e(e){if(null==e)return function(){return!0};ge(e)||(e=be(e));var t=le(e,Mn);if("error"===t.result)throw new Error(t.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,r){return t.value.evaluate(e,r)}}function we(e,t){return e<t?-1:e>t?1:0}function be(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?xe(e[1],e[2],"=="):"!="===r?Pe(xe(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?xe(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(be))):"all"===r?["all"].concat(e.slice(1).map(be)):"none"===r?["all"].concat(e.slice(1).map(be).map(Pe)):"in"===r?Se(e[1],e.slice(2)):"!in"===r?Pe(Se(e[1],e.slice(2))):"has"===r?ke(e[1]):"!has"!==r||Pe(ke(e[1]))}function xe(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Se(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(we)]]:["filter-in-small",e,["literal",t]]}}function ke(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Pe(e){return["!",e]}function Ee(e){return ge(S(e.value))?fe(b({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,o=t.key;if("array"!==$(r))return[new _o(o,r,"array expected, "+$(r)+" found")];var n,i=t.styleSpec,a=[];if(r.length<1)return[new _o(o,r,"filter array must have at least 1 element")];switch(a=a.concat(ve({key:o+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),x(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===x(r[1])&&a.push(new _o(o,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new _o(o,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(n=$(r[1]))&&a.push(new _o(o+"[1]",r[1],"string expected, "+n+" found"));for(var s=2;s<r.length;s++)n=$(r[s]),"$type"===x(r[1])?a=a.concat(ve({key:o+"["+s+"]",value:r[s],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&a.push(new _o(o+"["+s+"]",r[s],"string, number, or boolean expected, "+n+" found"));break;case"any":case"all":case"none":for(var c=1;c<r.length;c++)a=a.concat(e({key:o+"["+c+"]",value:r[c],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":n=$(r[1]),2!==r.length?a.push(new _o(o,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==n&&a.push(new _o(o+"[1]",r[1],"string expected, "+n+" found"))}return a}(e)}function Ce(e,t){var r=e.key,o=e.style,n=e.styleSpec,i=e.value,a=e.objectKey,s=n[t+"_"+e.layerType];if(!s)return[];var c=a.match(/^(.*)-transition$/);if("paint"===t&&c&&s[c[1]]&&s[c[1]].transition)return Ie({key:r,value:i,valueSpec:n.transition,style:o,styleSpec:n});var l,p=e.valueSpec||s[a];if(!p)return[new _o(r,i,'unknown property "'+a+'"')];if("string"===$(i)&&K(p)&&!p.tokens&&(l=/^{([^}]+)}$/.exec(i)))return[new _o(r,i,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var u=[];return"symbol"===e.layerType&&("text-field"===a&&o&&!o.glyphs&&u.push(new _o(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ee(S(i))&&"identity"===x(i.type)&&u.push(new _o(r,i,'"text-font" does not support identity functions'))),u.concat(Ie({key:e.key,value:i,valueSpec:p,style:o,styleSpec:n,expressionContext:"property",propertyType:t,propertyKey:a}))}function Ae(e){return Ce(e,"paint")}function Me(e){return Ce(e,"layout")}function Te(e){var t=[],r=e.value,o=e.key,n=e.style,i=e.styleSpec;r.type||r.ref||t.push(new _o(o,r,'either "type" or "ref" is required'));var a,s=x(r.type),c=x(r.ref);if(r.id)for(var l=x(r.id),p=0;p<e.arrayIndex;p++){var u=n.layers[p];x(u.id)===l&&t.push(new _o(o,r.id,'duplicate layer id "'+r.id+'", previously used at line '+u.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach(function(e){e in r&&t.push(new _o(o,r[e],'"'+e+'" is prohibited for ref layers'))}),n.layers.forEach(function(e){x(e.id)===c&&(a=e)}),a?a.ref?t.push(new _o(o,r.ref,"ref cannot reference another ref layer")):s=x(a.type):t.push(new _o(o,r.ref,'ref layer "'+c+'" not found'));else if("background"!==s)if(r.source){var d=n.sources&&n.sources[r.source],h=d&&x(d.type);d?"vector"===h&&"raster"===s?t.push(new _o(o,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new _o(o,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==h||r["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new _o(o,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===h&&d.lineMetrics||t.push(new _o(o,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new _o(o,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new _o(o,r.source,'source "'+r.source+'" not found'))}else t.push(new _o(o,r,'missing required property "source"'));return t=t.concat(de({key:o,value:r,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ie({key:o+".type",value:r.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:Ee,layout:function(e){return de({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Me(b({layerType:s},e))}}})},paint:function(e){return de({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Ae(b({layerType:s},e))}}})}}}))}function ze(e){var t=e.value,r=e.key,o=e.styleSpec,n=e.style;if(!t.type)return[new _o(r,t,'"type" is required')];var i=x(t.type),a=[];switch(i){case"vector":case"raster":case"raster-dem":if(a=a.concat(de({key:r,value:t,valueSpec:o["source_"+i.replace("-","_")],style:e.style,styleSpec:o})),"url"in t)for(var s in t)["type","url","tileSize"].indexOf(s)<0&&a.push(new _o(r+"."+s,t[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return de({key:r,value:t,valueSpec:o.source_geojson,style:n,styleSpec:o});case"video":return de({key:r,value:t,valueSpec:o.source_video,style:n,styleSpec:o});case"image":return de({key:r,value:t,valueSpec:o.source_image,style:n,styleSpec:o});case"canvas":return a.push(new _o(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return ve({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:n,styleSpec:o})}}function Re(e){var t=e.value,r=e.styleSpec,o=r.light,n=e.style,i=[],a=$(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new _o("light",t,"object expected, "+a+" found")]);for(var s in t){var c=s.match(/^(.*)-transition$/);i=c&&o[c[1]]&&o[c[1]].transition?i.concat(Ie({key:s,value:t[s],valueSpec:r.transition,style:n,styleSpec:r})):o[s]?i.concat(Ie({key:s,value:t[s],valueSpec:o[s],style:n,styleSpec:r})):i.concat([new _o(s,t[s],'unknown property "'+s+'"')])}return i}function Fe(e){var t=e.value,r=e.key,o=$(t);return"string"!==o?[new _o(r,t,"string expected, "+o+" found")]:[]}function Ie(e){var t=e.value,r=e.valueSpec,o=e.styleSpec;return r.expression&&ee(x(t))?ye(e):r.expression&&ce(S(t))?fe(e):r.type&&Tn[r.type]?Tn[r.type](e):de(b({},e,{valueSpec:r.type?o[r.type]:r}))}function Ne(e){var t=e.value,r=e.key,o=Fe(e);return o.length?o:(-1===t.indexOf("{fontstack}")&&o.push(new _o(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&o.push(new _o(r,t,'"glyphs" url must include a "{range}" token')),o)}function Be(e,t){t=t||go;var r=[];return r=r.concat(Ie({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Ne,"*":function(){return[]}}})),e.constants&&(r=r.concat(w({key:"constants",value:e.constants,style:e,styleSpec:t}))),Oe(r)}function Oe(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function je(e){return function(){return Oe(e.apply(this,arguments))}}function De(e,t){var r=!1;if(t&&t.length)for(var o=0,n=t;o<n.length;o+=1){var i=n[o];e.fire(new fo(new Error(i.message))),r=!0}return r}function Le(e,t,r){var o=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var n=new Int32Array(this.arrayBuffer);e=n[0],t=n[1],r=n[2],this.d=t+2*r;for(var i=0;i<this.d*this.d;i++){var a=n[Bn+i],s=n[Bn+i+1];o.push(a===s?null:n.subarray(a,s))}var c=n[Bn+o.length],l=n[Bn+o.length+1];this.keys=n.subarray(c,l),this.bboxes=n.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var p=0;p<this.d*this.d;p++)o.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var u=r/t*e;this.min=-u,this.max=e+u}function Ue(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),jn[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}function qe(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof On)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var o=[],n=0,i=e;n<i.length;n+=1){var a=i[n];o.push(qe(a,t))}return o}if("object"==typeof e){var s=e.constructor,c=s._classRegistryKey;if(!c)throw new Error("can't serialize object of unregistered class");var l=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var p in e)if(e.hasOwnProperty(p)&&!(jn[c].omit.indexOf(p)>=0)){var u=e[p];l[p]=jn[c].shallow.indexOf(p)>=0?u:qe(u,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==c&&(l.$name=c),l}throw new Error("can't serialize object of type "+typeof e)}function Ve(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof On)return e;if(Array.isArray(e))return e.map(Ve);if("object"==typeof e){var t=e.$name||"Object",r=jn[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var o=Object.create(r.prototype),n=0,i=Object.keys(e);n<i.length;n+=1){var a=i[n];if("$name"!==a){var s=e[a];o[a]=jn[t].shallow.indexOf(a)>=0?s:Ve(s)}}return o}throw new Error("can't deserialize object of type "+typeof e)}function We(e){for(var t=0,r=e;t<r.length;t+=1)if(Ge(r[t].charCodeAt(0)))return!0;return!1}function He(e){return!qn.Arabic(e)&&!qn["Arabic Supplement"](e)&&!qn["Arabic Extended-A"](e)&&!qn["Arabic Presentation Forms-A"](e)&&!qn["Arabic Presentation Forms-B"](e)}function Ge(e){return 746===e||747===e||!(e<4352)&&(!!qn["Bopomofo Extended"](e)||!!qn.Bopomofo(e)||!(!qn["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||!!qn["CJK Compatibility Ideographs"](e)||!!qn["CJK Compatibility"](e)||!!qn["CJK Radicals Supplement"](e)||!!qn["CJK Strokes"](e)||!(!qn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||!!qn["CJK Unified Ideographs Extension A"](e)||!!qn["CJK Unified Ideographs"](e)||!!qn["Enclosed CJK Letters and Months"](e)||!!qn["Hangul Compatibility Jamo"](e)||!!qn["Hangul Jamo Extended-A"](e)||!!qn["Hangul Jamo Extended-B"](e)||!!qn["Hangul Jamo"](e)||!!qn["Hangul Syllables"](e)||!!qn.Hiragana(e)||!!qn["Ideographic Description Characters"](e)||!!qn.Kanbun(e)||!!qn["Kangxi Radicals"](e)||!!qn["Katakana Phonetic Extensions"](e)||!(!qn.Katakana(e)||12540===e)||!(!qn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!qn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||!!qn["Unified Canadian Aboriginal Syllabics"](e)||!!qn["Unified Canadian Aboriginal Syllabics Extended"](e)||!!qn["Vertical Forms"](e)||!!qn["Yijing Hexagram Symbols"](e)||!!qn["Yi Syllables"](e)||!!qn["Yi Radicals"](e))}function Ze(e){return!(Ge(e)||function(e){return!!(qn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||qn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||qn["Letterlike Symbols"](e)||qn["Number Forms"](e)||qn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||qn["Control Pictures"](e)&&9251!==e||qn["Optical Character Recognition"](e)||qn["Enclosed Alphanumerics"](e)||qn["Geometric Shapes"](e)||qn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||qn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||qn["CJK Symbols and Punctuation"](e)||qn.Katakana(e)||qn["Private Use Area"](e)||qn["CJK Compatibility Forms"](e)||qn["Small Form Variants"](e)||qn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Je(e,t){return!(!t&&(e>=1424&&e<=2303||qn["Arabic Presentation Forms-A"](e)||qn["Arabic Presentation Forms-B"](e)))&&!(e>=2304&&e<=3583||e>=3840&&e<=4255||qn.Khmer(e))}function Xe(e,t){void 0===t&&(t=1);var r=0,o=0;return{members:e.map(function(e){var n,i=(n=e.type,pi[n].BYTES_PER_ELEMENT),a=r=Ke(r,Math.max(t,i)),s=e.components||1;return o=Math.max(o,i),r+=i*s,{name:e.name,type:e.type,components:s,offset:a}}),size:Ke(r,Math.max(o,t)),alignment:t}}function Ke(e,t){return Math.ceil(e/t)*t}function Qe(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function Ye(e){return[Xi(255*e.r,255*e.g),Xi(255*e.b,255*e.a)]}function $e(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function et(e,t,r){var o={color:{source:Ri,composite:Fi},number:{source:Ei,composite:Ri}},n=function(e){return{"line-pattern":{source:vi,composite:vi},"fill-pattern":{source:vi,composite:vi},"fill-extrusion-pattern":{source:vi,composite:vi}}[e]}(e);return n&&n[r]||o[t][r]}function tt(e){for(var t=ma/e.extent,r=e.loadGeometry(),o=0;o<r.length;o++)for(var n=r[o],i=0;i<n.length;i++){var a=n[i];a.x=Math.round(a.x*t),a.y=Math.round(a.y*t),(a.x<ya.min||a.x>ya.max||a.y<ya.min||a.y>ya.max)&&m("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function rt(e,t,r,o,n){e.emplaceBack(2*t+(o+1)/2,2*r+(n+1)/2)}function ot(e,t,r){for(var o=0;o<e.length;o++){var n=e[o];if(dt(n,t))return!0;if(lt(t,n,r))return!0}return!1}function nt(e,t){if(1===e.length&&1===e[0].length)return ut(t,e[0][0]);for(var r=0;r<t.length;r++)for(var o=t[r],n=0;n<o.length;n++)if(ut(e,o[n]))return!0;for(var i=0;i<e.length;i++){for(var a=e[i],s=0;s<a.length;s++)if(ut(t,a[s]))return!0;for(var c=0;c<t.length;c++)if(st(a,t[c]))return!0}return!1}function it(e,t,r){for(var o=0;o<t.length;o++)for(var n=t[o],i=0;i<e.length;i++){var a=e[i];if(a.length>=3)for(var s=0;s<n.length;s++)if(dt(a,n[s]))return!0;if(at(a,n,r))return!0}return!1}function at(e,t,r){if(e.length>1){if(st(e,t))return!0;for(var o=0;o<t.length;o++)if(lt(t[o],e,r))return!0}for(var n=0;n<e.length;n++)if(lt(e[n],t,r))return!0;return!1}function st(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var o=e[r],n=e[r+1],i=0;i<t.length-1;i++)if(ct(o,n,t[i],t[i+1]))return!0;return!1}function ct(e,t,r,o){return y(e,r,o)!==y(t,r,o)&&y(e,t,r)!==y(e,t,o)}function lt(e,t,r){var o=r*r;if(1===t.length)return e.distSqr(t[0])<o;for(var n=1;n<t.length;n++)if(pt(e,t[n-1],t[n])<o)return!0;return!1}function pt(e,t,r){var o=t.distSqr(r);if(0===o)return e.distSqr(t);var n=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/o;return n<0?e.distSqr(t):n>1?e.distSqr(r):e.distSqr(r.sub(t)._mult(n)._add(t))}function ut(e,t){for(var r,o,n,i=!1,a=0;a<e.length;a++)for(var s=0,c=(r=e[a]).length-1;s<r.length;c=s++)o=r[s],n=r[c],o.y>t.y!=n.y>t.y&&t.x<(n.x-o.x)*(t.y-o.y)/(n.y-o.y)+o.x&&(i=!i);return i}function dt(e,t){for(var r=!1,o=0,n=e.length-1;o<e.length;n=o++){var i=e[o],a=e[n];i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}function ht(e,t,r){var o=t.paint.get(e).value;return"constant"===o.kind?o.value:r.programConfigurations.get(t.id).binders[e].maxValue}function mt(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function yt(e,t,r,o,n){if(!t[0]&&!t[1])return e;var i=ro.convert(t);"viewport"===r&&i._rotate(-o);for(var a=[],s=0;s<e.length;s++){for(var c=e[s],l=[],p=0;p<c.length;p++)l.push(c[p].sub(i._mult(n)));a.push(l)}return a}function ft(){var e=new ga(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function vt(){var e=new ga(3);return e[0]=0,e[1]=0,e[2]=0,e}function gt(e){var t=e[0],r=e[1],o=e[2];return Math.sqrt(t*t+r*r+o*o)}function _t(e,t,r){var o=new ga(3);return o[0]=e,o[1]=t,o[2]=r,o}function wt(e,t){var r=t[0],o=t[1],n=t[2],i=r*r+o*o+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function bt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xt(e,t,r){var o=t[0],n=t[1],i=t[2],a=r[0],s=r[1],c=r[2];return e[0]=n*c-i*s,e[1]=i*a-o*c,e[2]=o*s-n*a,e}function St(){var e=new ga(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function kt(e,t){var r=t[0],o=t[1],n=t[2],i=t[3],a=r*r+o*o+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=o*a,e[2]=n*a,e[3]=i*a),e}function Pt(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3];return e[0]=r[0]*o+r[4]*n+r[8]*i+r[12]*a,e[1]=r[1]*o+r[5]*n+r[9]*i+r[13]*a,e[2]=r[2]*o+r[6]*n+r[10]*i+r[14]*a,e[3]=r[3]*o+r[7]*n+r[11]*i+r[15]*a,e}function Et(){var e=new ga(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Ct(e,t,r){var o=Pt([],[e.x,e.y,0,1],t);return new ro((o[0]/o[3]+1)*r.width*.5,(o[1]/o[3]+1)*r.height*.5)}function At(e,t,r,o){var n=t.width,i=t.height;if(o){if(o.length!==n*i*r)throw new RangeError("mismatched image size")}else o=new Uint8Array(n*i*r);return e.width=n,e.height=i,e.data=o,e}function Mt(e,t,r){var o=t.width,n=t.height;if(o!==e.width||n!==e.height){var i=At({},{width:o,height:n},r);Tt(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,o),height:Math.min(e.height,n)},r),e.width=o,e.height=n,e.data=i.data}}function Tt(e,t,r,o,n,i){if(0===n.width||0===n.height)return t;if(n.width>e.width||n.height>e.height||r.x>e.width-n.width||r.y>e.height-n.height)throw new RangeError("out of range source coordinates for image copy");if(n.width>t.width||n.height>t.height||o.x>t.width-n.width||o.y>t.height-n.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,c=0;c<n.height;c++)for(var l=((r.y+c)*e.width+r.x)*i,p=((o.y+c)*t.width+o.x)*i,u=0;u<n.width*i;u++)s[p+u]=a[l+u];return t}function zt(e,t){for(var r=new Uint8Array(1024),o={},n=0,i=0;n<256;n++,i+=4){o[t]=n/255;var a=e.evaluate(o);r[i+0]=Math.floor(255*a.r/a.a),r[i+1]=Math.floor(255*a.g/a.a),r[i+2]=Math.floor(255*a.b/a.a),r[i+3]=Math.floor(255*a.a)}return new Ea({width:256,height:1},r)}function Rt(e,t,r){r=r||2;var o,n,i,a,s,c,l,p=t&&t.length,u=p?t[0]*r:e.length,d=Ft(e,0,u,r,!0),h=[];if(!d)return h;if(p&&(d=function(e,t,r,o){var n,i,a,s,c,l=[];for(n=0,i=t.length;n<i;n++)a=t[n]*o,s=n<i-1?t[n+1]*o:e.length,(c=Ft(e,a,s,o,!1))===c.next&&(c.steiner=!0),l.push(Vt(c));for(l.sort(Lt),n=0;n<l.length;n++)Ut(l[n],r),r=It(r,r.next);return r}(e,t,d,r)),e.length>80*r){o=i=e[0],n=a=e[1];for(var m=r;m<u;m+=r)(s=e[m])<o&&(o=s),(c=e[m+1])<n&&(n=c),s>i&&(i=s),c>a&&(a=c);l=0!==(l=Math.max(i-o,a-n))?1/l:0}return Nt(d,h,r,o,n,l),h}function Ft(e,t,r,o,n){var i,a;if(n===er(e,t,r,o)>0)for(i=t;i<r;i+=o)a=Qt(i,e[i],e[i+1],a);else for(i=r-o;i>=t;i-=o)a=Qt(i,e[i],e[i+1],a);return a&&Zt(a,a.next)&&(Yt(a),a=a.next),a}function It(e,t){if(!e)return e;t||(t=e);var r,o=e;do{if(r=!1,o.steiner||!Zt(o,o.next)&&0!==Gt(o.prev,o,o.next))o=o.next;else{if(Yt(o),(o=t=o.prev)===o.next)break;r=!0}}while(r||o!==t);return t}function Nt(e,t,r,o,n,i,a){if(e){!a&&i&&function(e,t,r,o){var n=e;do{null===n.z&&(n.z=qt(n.x,n.y,t,r,o)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,r,o,n,i,a,s,c,l=1;do{for(r=e,e=null,i=null,a=0;r;){for(a++,o=r,s=0,t=0;t<l&&(s++,o=o.nextZ);t++);for(c=l;s>0||c>0&&o;)0!==s&&(0===c||!o||r.z<=o.z)?(n=r,r=r.nextZ,s--):(n=o,o=o.nextZ,c--),i?i.nextZ=n:e=n,n.prevZ=i,i=n;r=o}i.nextZ=null,l*=2}while(a>1)}(n)}(e,o,n,i);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,i?Ot(e,o,n,i):Bt(e))t.push(s.i/r),t.push(e.i/r),t.push(c.i/r),Yt(e),e=c.next,l=c.next;else if((e=c)===l){a?1===a?Nt(e=jt(e,t,r),t,r,o,n,i,2):2===a&&Dt(e,t,r,o,n,i):Nt(It(e),t,r,o,n,i,1);break}}}function Bt(e){var t=e.prev,r=e,o=e.next;if(Gt(t,r,o)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(Wt(t.x,t.y,r.x,r.y,o.x,o.y,n.x,n.y)&&Gt(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function Ot(e,t,r,o){var n=e.prev,i=e,a=e.next;if(Gt(n,i,a)>=0)return!1;for(var s=n.x<i.x?n.x<a.x?n.x:a.x:i.x<a.x?i.x:a.x,c=n.y<i.y?n.y<a.y?n.y:a.y:i.y<a.y?i.y:a.y,l=n.x>i.x?n.x>a.x?n.x:a.x:i.x>a.x?i.x:a.x,p=n.y>i.y?n.y>a.y?n.y:a.y:i.y>a.y?i.y:a.y,u=qt(s,c,t,r,o),d=qt(l,p,t,r,o),h=e.prevZ,m=e.nextZ;h&&h.z>=u&&m&&m.z<=d;){if(h!==e.prev&&h!==e.next&&Wt(n.x,n.y,i.x,i.y,a.x,a.y,h.x,h.y)&&Gt(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,m!==e.prev&&m!==e.next&&Wt(n.x,n.y,i.x,i.y,a.x,a.y,m.x,m.y)&&Gt(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&Wt(n.x,n.y,i.x,i.y,a.x,a.y,h.x,h.y)&&Gt(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&Wt(n.x,n.y,i.x,i.y,a.x,a.y,m.x,m.y)&&Gt(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function jt(e,t,r){var o=e;do{var n=o.prev,i=o.next.next;!Zt(n,i)&&Jt(n,o,o.next,i)&&Xt(n,i)&&Xt(i,n)&&(t.push(n.i/r),t.push(o.i/r),t.push(i.i/r),Yt(o),Yt(o.next),o=e=i),o=o.next}while(o!==e);return o}function Dt(e,t,r,o,n,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ht(a,s)){var c=Kt(a,s);return a=It(a,a.next),c=It(c,c.next),Nt(a,t,r,o,n,i),void Nt(c,t,r,o,n,i)}s=s.next}a=a.next}while(a!==e)}function Lt(e,t){return e.x-t.x}function Ut(e,t){if(t=function(e,t){var r,o=t,n=e.x,i=e.y,a=-1/0;do{if(i<=o.y&&i>=o.next.y&&o.next.y!==o.y){var s=o.x+(i-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(s<=n&&s>a){if(a=s,s===n){if(i===o.y)return o;if(i===o.next.y)return o.next}r=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!r)return null;if(n===a)return r.prev;var c,l=r,p=r.x,u=r.y,d=1/0;for(o=r.next;o!==l;)n>=o.x&&o.x>=p&&n!==o.x&&Wt(i<u?n:a,i,p,u,i<u?a:n,i,o.x,o.y)&&((c=Math.abs(i-o.y)/(n-o.x))<d||c===d&&o.x>r.x)&&Xt(o,e)&&(r=o,d=c),o=o.next;return r}(e,t)){var r=Kt(t,e);It(r,r.next)}}function qt(e,t,r,o,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-o)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Vt(e){var t=e,r=e;do{t.x<r.x&&(r=t),t=t.next}while(t!==e);return r}function Wt(e,t,r,o,n,i,a,s){return(n-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(o-s)-(r-a)*(t-s)>=0&&(r-a)*(i-s)-(n-a)*(o-s)>=0}function Ht(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Jt(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&Xt(e,t)&&Xt(t,e)&&function(e,t){var r=e,o=!1,n=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&n<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(o=!o),r=r.next}while(r!==e);return o}(e,t)}function Gt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Zt(e,t){return e.x===t.x&&e.y===t.y}function Jt(e,t,r,o){return!!(Zt(e,t)&&Zt(r,o)||Zt(e,o)&&Zt(r,t))||Gt(e,t,r)>0!=Gt(e,t,o)>0&&Gt(r,o,e)>0!=Gt(r,o,t)>0}function Xt(e,t){return Gt(e.prev,e,e.next)<0?Gt(e,t,e.next)>=0&&Gt(e,e.prev,t)>=0:Gt(e,t,e.prev)<0||Gt(e,e.next,t)<0}function Kt(e,t){var r=new $t(e.i,e.x,e.y),o=new $t(t.i,t.x,t.y),n=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,o.next=r,r.prev=o,i.next=o,o.prev=i,o}function Qt(e,t,r,o){var n=new $t(e,t,r);return o?(n.next=o.next,n.prev=o,o.next.prev=n,o.next=n):(n.prev=n,n.next=n),n}function Yt(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $t(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function er(e,t,r,o){for(var n=0,i=t,a=r-o;i<r;i+=o)n+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return n}function tr(e,t,r,o,n){!function e(t,r,o,n,i){for(;n>o;){if(n-o>600){var a=n-o+1,s=r-o+1,c=Math.log(a),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(a-l)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(o,Math.floor(r-s*l/a+p)),Math.min(n,Math.floor(r+(a-s)*l/a+p)),i)}var u=t[r],d=o,h=n;for(rr(t,o,r),i(t[n],u)>0&&rr(t,o,n);d<h;){for(rr(t,d,h),d++,h--;i(t[d],u)<0;)d++;for(;i(t[h],u)>0;)h--}0===i(t[o],u)?rr(t,o,h):rr(t,++h,n),h<=r&&(o=h+1),r<=h&&(n=h-1)}}(e,t,r||0,o||e.length-1,n||or)}function rr(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function or(e,t){return e<t?-1:e>t?1:0}function nr(e,t){var r=e.length;if(r<=1)return[e];for(var o,n,i=[],a=0;a<r;a++){var s=f(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===n&&(n=s<0),n===s<0?(o&&i.push(o),o=[e[a]]):o.push(e[a]))}if(o&&i.push(o),t>1)for(var c=0;c<i.length;c++)i[c].length<=t||(Na(i[c],t,1,i[c].length-1,ir),i[c]=i[c].slice(0,t));return i}function ir(e,t){return t.area-e.area}function ar(e,t,r){for(var o=r.patternDependencies,n=!1,i=0,a=t;i<a.length;i+=1){var s=a[i].paint.get(e+"-pattern");s.isConstant()||(n=!0);var c=s.constantOr(null);c&&(n=!0,o[c.to]=!0,o[c.from]=!0)}return n}function sr(e,t,r,o,n){for(var i=n.patternDependencies,a=0,s=t;a<s.length;a+=1){var c=s[a],l=c.paint.get(e+"-pattern").value;if("constant"!==l.kind){var p=l.evaluate({zoom:o-1},r,{}),u=l.evaluate({zoom:o},r,{}),d=l.evaluate({zoom:o+1},r,{});i[p]=!0,i[u]=!0,i[d]=!0,r.patterns[c.id]={min:p,mid:u,max:d}}}return r}function cr(e,t,r,o,n,i,a,s){e.emplaceBack(t,r,2*Math.floor(o*qa)+a,n*qa*2,i*qa*2,Math.round(s))}function lr(e,t){return e.x===t.x&&(e.x<0||e.x>ma)||e.y===t.y&&(e.y<0||e.y>ma)}function pr(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>ma})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>ma})}function ur(e,t,r,o,n){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=o,this._values=n,e.readFields(dr,this,t)}function dr(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var o=t._keys[e.readVarint()],n=t._values[e.readVarint()];t.properties[o]=n}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function hr(e){for(var t,r,o=0,n=0,i=e.length,a=i-1;n<i;a=n++)t=e[n],o+=((r=e[a]).x-t.x)*(t.y+r.y);return o}function mr(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(yr,this,t),this.length=this._features.length}function yr(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var o=e.readVarint()>>3;t=1===o?e.readString():2===o?e.readFloat():3===o?e.readDouble():4===o?e.readVarint64():5===o?e.readVarint():6===o?e.readSVarint():7===o?e.readBoolean():null}return t}(r))}function fr(e,t,r){if(3===e){var o=new Xa(r,r.readVarint()+r.pos);o.length&&(t[o.name]=o)}}function vr(e,t,r,o,n,i,a){e.emplaceBack(t.x,t.y,o?1:0,n?1:-1,Math.round(Ya*r.x)+128,Math.round(Ya*r.y)+128,1+(0===i?0:i<0?-1:1)|(a*es&63)<<2,a*es>>6)}function gr(e,t){return(e/t.tileTotal*(t.end-t.start)+t.start)*(ts-1)}function _r(e,t){return t>0?t+2*e:e}function wr(e,t,r){var o=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===o?e=e.toLocaleUpperCase():"lowercase"===o&&(e=e.toLocaleLowerCase()),Zn.applyArabicShaping&&(e=Zn.applyArabicShaping(e)),e}function br(e,t,r){return e instanceof Oo?(e.sections.forEach(function(e){e.text=wr(e.text,t,r)}),e):wr(e,t,r)}function xr(e,t){var r=t.expression;if("constant"===r.kind)return{functionType:"constant",layoutSize:r.evaluate(new Jn(e+1))};if("source"===r.kind)return{functionType:"source"};for(var o=r.zoomStops,n=0;n<o.length&&o[n]<=e;)n++;for(var i=n=Math.max(0,n-1);i<o.length&&o[i]<e+1;)i++;i=Math.min(o.length-1,i);var a={min:o[n],max:o[i]};return"composite"===r.kind?{functionType:"composite",zoomRange:a,propertyValue:t.value}:{functionType:"camera",layoutSize:r.evaluate(new Jn(e+1)),zoomRange:a,sizeRange:{min:r.evaluate(new Jn(a.min)),max:r.evaluate(new Jn(a.max))},propertyValue:t.value}}function Sr(e,t,r,o,n,i,a,s){e.emplaceBack(t,r,Math.round(32*o),Math.round(32*n),i,a,s?s[0]:0,s?s[1]:0)}function kr(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function Pr(e){for(var t=0,r=0,o=0,n=e;o<n.length;o+=1){var i=n[o];t+=i.w*i.h,r=Math.max(r,i.w)}e.sort(function(e,t){return t.h-e.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,c=0,l=0,p=e;l<p.length;l+=1)for(var u=p[l],d=a.length-1;d>=0;d--){var h=a[d];if(!(u.w>h.w||u.h>h.h)){if(u.x=h.x,u.y=h.y,c=Math.max(c,u.y+u.h),s=Math.max(s,u.x+u.w),u.w===h.w&&u.h===h.h){var m=a.pop();d<a.length&&(a[d]=m)}else u.h===h.h?(h.x+=u.w,h.w-=u.w):u.w===h.w?(h.y+=u.h,h.h-=u.h):(a.push({x:h.x+u.w,y:h.y,w:h.w-u.w,h:u.h}),h.y+=u.h,h.h-=u.h);break}}return{w:s,h:c,fill:t/(s*c)||0}}function Er(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function Cr(e){return e.type===Er.Bytes?e.readVarint()+e.pos:e.pos+1}function Ar(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Mr(e,t,r){var o=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));r.realloc(o);for(var n=r.pos-1;n>=e;n--)r.buf[n+o]=r.buf[n]}function Tr(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function zr(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Rr(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Fr(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Ir(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Nr(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Br(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Or(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function jr(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function Dr(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Lr(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function Ur(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function qr(e,t,r){1===e&&r.readMessage(Vr,t)}function Vr(e,t,r){if(3===e){var o=r.readMessage(Wr,{}),n=o.id,i=o.bitmap,a=o.width,s=o.height,c=o.left,l=o.top,p=o.advance;t.push({id:n,bitmap:new Pa({width:a+2*Os,height:s+2*Os},i),metrics:{width:a,height:s,left:c,top:l,advance:p}})}}function Wr(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function Hr(e,t,r){var o=2*Math.PI*6378137/256/Math.pow(2,r);return[e*o-2*Math.PI*6378137/2,t*o-2*Math.PI*6378137/2]}function Gr(e,t,r,o){(e*=2)<0&&(e=-1*e-1);var n=1<<t;return 32*(n*n*e+n*o+r)+t}function Zr(e,t){return t-e}function Jr(e,t,r,o){var n=Math.pow(e-t,2);return o?e<t?n/2:2*n:n+Math.abs(r)*r}function Xr(e,t){var r=0;return 10===e&&(r-=1e4),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Kr(e,t,r,o,n,i){for(var a=null,s=Jr(t,r,n,i),c=0,l=o;c<l.length;c+=1){var p=l[c],u=Jr(t-p.x,r,n,i)+p.badness;u<=s&&(a=p,s=u)}return{index:e,x:t,priorBreak:a,badness:s}}function Qr(e,t,r,o){if(!r)return[];if(!e)return[];for(var n,i=[],a=function(e,t,r,o){for(var n=0,i=0;i<e.length();i++){var a=e.getSection(i),s=o[a.fontStack],c=s&&s[e.getCharCode(i)];c&&(n+=c.metrics.advance*a.scale+t)}return n/Math.max(1,Math.ceil(n/r))}(e,t,r,o),s=0,c=0;c<e.length();c++){var l=e.getSection(c),p=e.getCharCode(c),u=o[l.fontStack],d=u&&u[p];d&&!$s[p]&&(s+=d.metrics.advance*l.scale+t),c<e.length()-1&&(ec[p]||!((n=p)<11904)&&(qn["Bopomofo Extended"](n)||qn.Bopomofo(n)||qn["CJK Compatibility Forms"](n)||qn["CJK Compatibility Ideographs"](n)||qn["CJK Compatibility"](n)||qn["CJK Radicals Supplement"](n)||qn["CJK Strokes"](n)||qn["CJK Symbols and Punctuation"](n)||qn["CJK Unified Ideographs Extension A"](n)||qn["CJK Unified Ideographs"](n)||qn["Enclosed CJK Letters and Months"](n)||qn["Halfwidth and Fullwidth Forms"](n)||qn.Hiragana(n)||qn["Ideographic Description Characters"](n)||qn["Kangxi Radicals"](n)||qn["Katakana Phonetic Extensions"](n)||qn.Katakana(n)||qn["Vertical Forms"](n)||qn["Yi Radicals"](n)||qn["Yi Syllables"](n)))&&i.push(Kr(c+1,s,a,i,Xr(p,e.getCharCode(c+1)),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Kr(e.length(),s,a,i,0,!0))}function Yr(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function $r(e,t,r,o,n){if(n){var i=e[o],a=t[i.fontStack],s=a&&a[i.glyph];if(s)for(var c=s.metrics.advance*i.scale,l=(e[o].x+c)*n,p=r;p<=o;p++)e[p].x-=l}}var eo=r;r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var r,o,n,i,a;for(void 0===t&&(t=1e-6),n=e,a=0;a<8;a++){if(i=this.sampleCurveX(n)-e,Math.abs(i)<t)return n;var s=this.sampleCurveDerivativeX(n);if(Math.abs(s)<1e-6)break;n-=i/s}if((n=e)<(r=0))return r;if(n>(o=1))return o;for(;r<o;){if(i=this.sampleCurveX(n),Math.abs(i-e)<t)return n;e>i?r=n:o=n,n=.5*(o-r)+r}return n},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var to=function(e,t,r){this.column=e,this.row=t,this.zoom=r};to.prototype.clone=function(){return new to(this.column,this.row,this.zoom)},to.prototype.zoomTo=function(e){return this.clone()._zoomTo(e)},to.prototype.sub=function(e){return this.clone()._sub(e)},to.prototype._zoomTo=function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},to.prototype._sub=function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this};var ro=o;o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),o=t*this.x-r*this.y,n=r*this.x+t*this.y;return this.x=o,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),o=Math.sin(e),n=t.x+r*(this.x-t.x)-o*(this.y-t.y),i=t.y+o*(this.x-t.x)+r*(this.y-t.y);return this.x=n,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var oo=i(.25,.1,.25,1),no=1,io={},ao=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),so=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,co=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,lo={now:ao,frame:function(e){var t=so(e);return{cancel:function(){return co(t)}}},getImageData:function(e){var t=self.document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)},resolveURL:function(e){var t=self.document.createElement("a");return t.href=e,t.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var po=self.document.createElement("img");po.onload=function(){lo.supportsWebp=!0},po.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var uo={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(uo);var ho=function(e){function t(t,r,o){e.call(this,t),this.status=r,this.url=o,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),mo=function(e,t){var r=v(e);return r.responseType="arraybuffer",r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){var o=r.response;if(0===o.byteLength&&200===r.status)return t(new Error("http status 200 returned without content."));(r.status>=200&&r.status<300||0===r.status)&&r.response?t(null,{data:o,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):t(new ho(r.statusText,r.status,e.url))},r.send(),{cancel:function(){return r.abort()}}},yo=function(e,t){void 0===t&&(t={}),s(this,t),this.type=e},fo=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",s({error:t},r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(yo),vo=function(){};vo.prototype.on=function(e,t){return this._listeners=this._listeners||{},g(e,t,this._listeners),this},vo.prototype.off=function(e,t){return _(e,t,this._listeners),_(e,t,this._oneTimeListeners),this},vo.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},g(e,t,this._oneTimeListeners),this},vo.prototype.fire=function(e){"string"==typeof e&&(e=new yo(e,arguments[1]||{}));var t=e.type;if(this.listens(t)){e.target=this;for(var r=0,o=this._listeners&&this._listeners[t]?this._listeners[t].slice():[];r<o.length;r+=1)o[r].call(this,e);for(var n=0,i=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[];n<i.length;n+=1){var a=i[n];_(t,a,this._oneTimeListeners),a.call(this,e)}var c=this._eventedParent;c&&(s(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(e))}else e instanceof fo&&console.error(e.error);return this},vo.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},vo.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var go={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-z-order":{type:"enum",values:{"viewport-y":{},source:{}},default:"viewport-y",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},_o=function(e,t,r,o){this.message=(e?e+": ":"")+r,o&&(this.identifier=o),null!=t&&t.__line__&&(this.line=t.__line__)},wo=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),bo=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,o=t;r<o.length;r+=1){var n=o[r],i=n[0],a=n[1];this.bindings[i]=a}};bo.prototype.concat=function(e){return new bo(this,e)},bo.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},bo.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var xo={kind:"null"},So={kind:"number"},ko={kind:"string"},Po={kind:"boolean"},Eo={kind:"color"},Co={kind:"object"},Ao={kind:"value"},Mo={kind:"collator"},To={kind:"formatted"},zo=[xo,So,ko,Po,Eo,To,Co,k(Ao)],Ro=t(function(e,t){function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function o(e){return e<0?0:e>1?1:e}function n(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function i(e){return o("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function a(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}var s={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{t.parseCSSColor=function(e){var t,o=e.replace(/ /g,"").toLowerCase();if(o in s)return s[o].slice();if("#"===o[0])return 4===o.length?(t=parseInt(o.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===o.length&&(t=parseInt(o.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var c=o.indexOf("("),l=o.indexOf(")");if(-1!==c&&l+1===o.length){var p=o.substr(0,c),u=o.substr(c+1,l-(c+1)).split(","),d=1;switch(p){case"rgba":if(4!==u.length)return null;d=i(u.pop());case"rgb":return 3!==u.length?null:[n(u[0]),n(u[1]),n(u[2]),d];case"hsla":if(4!==u.length)return null;d=i(u.pop());case"hsl":if(3!==u.length)return null;var h=(parseFloat(u[0])%360+360)%360/360,m=i(u[1]),y=i(u[2]),f=y<=.5?y*(m+1):y+m-y*m,v=2*y-f;return[r(255*a(v,f,h+1/3)),r(255*a(v,f,h)),r(255*a(v,f,h-1/3)),d];default:return null}}return null}}catch(e){}}).parseCSSColor,Fo=function(e,t,r,o){void 0===o&&(o=1),this.r=e,this.g=t,this.b=r,this.a=o};Fo.parse=function(e){if(e){if(e instanceof Fo)return e;if("string"==typeof e){var t=Ro(e);if(t)return new Fo(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},Fo.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],o=e[2],n=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(o)+","+n+")"},Fo.prototype.toArray=function(){var e=this.r,t=this.g,r=this.b,o=this.a;return 0===o?[0,0,0,0]:[255*e/o,255*t/o,255*r/o,o]},Fo.black=new Fo(0,0,0,1),Fo.white=new Fo(1,1,1,1),Fo.transparent=new Fo(0,0,0,0),Fo.red=new Fo(1,0,0,1);var Io=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Io.prototype.compare=function(e,t){return this.collator.compare(e,t)},Io.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var No=function(e,t,r){this.type=Mo,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};No.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var o=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Po);if(!o)return null;var n=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Po);if(!n)return null;var i=null;return r.locale&&!(i=t.parse(r.locale,1,ko))?null:new No(o,n,i)},No.prototype.evaluate=function(e){return new Io(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},No.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},No.prototype.possibleOutputs=function(){return[void 0]},No.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Bo=function(e,t,r){this.text=e,this.scale=t,this.fontStack=r},Oo=function(e){this.sections=e};Oo.prototype.toString=function(){return this.sections.map(function(e){return e.text}).join("")},Oo.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var o=r[t];e.push(o.text);var n=o.fontStack?["literal",o.fontStack.split(",")]:null;e.push({"text-font":n,"font-scale":o.scale})}return e};var jo=function(e){this.type=To,this.sections=e};jo.parse=function(e,t){if(e.length<3)return t.error("Expected at least two arguments.");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");for(var r=[],o=1;o<e.length-1;o+=2){var n=t.parse(e[o],1,Ao);if(!n)return null;var i=n.type.kind;if("string"!==i&&"value"!==i&&"null"!==i)return t.error("Formatted text type must be 'string', 'value', or 'null'.");var a=e[o+1];if("object"!=typeof a||Array.isArray(a))return t.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,So)))return null;var c=null;if(a["text-font"]&&!(c=t.parse(a["text-font"],1,k(ko))))return null;r.push({text:n,scale:s,font:c})}return new jo(r)},jo.prototype.evaluate=function(e){return new Oo(this.sections.map(function(t){return new Bo(t.text.evaluate(e)||"",t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null)}))},jo.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var o=r[t];e(o.text),o.scale&&e(o.scale),o.font&&e(o.font)}},jo.prototype.possibleOutputs=function(){return[void 0]},jo.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var o=r[t];e.push(o.text.serialize());var n={};o.scale&&(n["font-scale"]=o.scale.serialize()),o.font&&(n["text-font"]=o.font.serialize()),e.push(n)}return e};var Do=function(e,t){this.type=e,this.value=t};Do.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Fo)return!0;if(t instanceof Io)return!0;if(Array.isArray(t)){for(var r=0,o=t;r<o.length;r+=1)if(!e(o[r]))return!1;return!0}if("object"==typeof t){for(var n in t)if(!e(t[n]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var r=e[1],o=A(r),n=t.expectedType;return"array"!==o.kind||0!==o.N||!n||"array"!==n.kind||"number"==typeof n.N&&0!==n.N||(o=n),new Do(o,r)},Do.prototype.evaluate=function(){return this.value},Do.prototype.eachChild=function(){},Do.prototype.possibleOutputs=function(){return[this.value]},Do.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Fo?["rgba"].concat(this.value.toArray()):this.value instanceof Oo?this.value.serialize():this.value};var Lo=function(e){this.name="ExpressionEvaluationError",this.message=e};Lo.prototype.toJSON=function(){return this.message};var Uo={string:ko,number:So,boolean:Po,object:Co},qo=function(e,t){this.type=e,this.args=t};qo.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,o=1,n=e[0];if("array"===n){var i,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in Uo)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Uo[s],o++}else i=Ao;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],o++}r=k(i,a)}else r=Uo[n];for(var c=[];o<e.length;o++){var l=t.parse(e[o],o,Ao);if(!l)return null;c.push(l)}return new qo(r,c)},qo.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!E(this.type,A(r)))return r;if(t===this.args.length-1)throw new Lo("Expected value to be of type "+P(this.type)+", but found "+P(A(r))+" instead.")}return null},qo.prototype.eachChild=function(e){this.args.forEach(e)},qo.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},qo.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var o=e.N;("number"==typeof o||this.args.length>1)&&t.push(o)}}return t.concat(this.args.map(function(e){return e.serialize()}))};var Vo={"to-number":So,"to-color":Eo},Wo=function(e,t){this.type=e,this.args=t};Wo.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");for(var r=e[0],o=Vo[r],n=[],i=1;i<e.length;i++){var a=t.parse(e[i],i,Ao);if(!a)return null;n.push(a)}return new Wo(o,n)},Wo.prototype.evaluate=function(e){if("color"===this.type.kind){for(var t,r,o=0,n=this.args;o<n.length;o+=1)if(r=null,"string"==typeof(t=n[o].evaluate(e))){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":C(t[0],t[1],t[2],t[3])))return new Fo(t[0]/255,t[1]/255,t[2]/255,t[3]);throw new Lo(r||"Could not parse color from value '"+("string"==typeof t?t:JSON.stringify(t))+"'")}if("formatted"===this.type.kind){for(var a,s=0,c=this.args;s<c.length;s+=1)if("string"==typeof(a=c[s].evaluate(e)))return new Oo([new Bo(a,null,null)]);throw new Lo("Could not parse formatted text from value '"+("string"==typeof a?a:JSON.stringify(a))+"'")}for(var l=null,p=0,u=this.args;p<u.length;p+=1)if(null!==(l=u[p].evaluate(e))){var d=Number(l);if(!isNaN(d))return d}throw new Lo("Could not convert "+JSON.stringify(l)+" to number.")},Wo.prototype.eachChild=function(e){this.args.forEach(e)},Wo.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},Wo.prototype.serialize=function(){var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var Ho=["Unknown","Point","LineString","Polygon"],Go=function(){this._parseColorCache={}};Go.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Go.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Ho[this.feature.type]:this.feature.type:null},Go.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Go.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Fo.parse(e)),t};var Zo=function(e,t,r,o){this.name=e,this.type=t,this._evaluate=r,this.args=o};Zo.prototype.evaluate=function(e){return this._evaluate(e,this.args)},Zo.prototype.eachChild=function(e){this.args.forEach(e)},Zo.prototype.possibleOutputs=function(){return[void 0]},Zo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},Zo.parse=function(e,t){var r=e[0],o=Zo.definitions[r];if(!o)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var n=Array.isArray(o)?o[0]:o.type,i=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,a=i.filter(function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1}),s=null,c=0,l=a;c<l.length;c+=1){var p=l[c],u=p[0],d=p[1];s=new Xo(t.registry,t.path,null,t.scope);for(var h=[],m=!1,y=1;y<e.length;y++){var f=e[y],v=Array.isArray(u)?u[y-1]:u.type,g=s.parse(f,1+h.length,v);if(!g){m=!0;break}h.push(g)}if(!m)if(Array.isArray(u)&&u.length!==h.length)s.error("Expected "+u.length+" arguments, but found "+h.length+" instead.");else{for(var _=0;_<h.length;_++){var w=Array.isArray(u)?u[_]:u.type,b=h[_];s.concat(_+1).checkSubtype(w,b.type)}if(0===s.errors.length)return new Zo(r,n,d,h)}}if(1===a.length)t.errors.push.apply(t.errors,s.errors);else{for(var x=(a.length?a:i).map(function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(P).join(", ")+")":"("+P(t.type)+"...)"}).join(" | "),S=[],k=1;k<e.length;k++){var E=t.parse(e[k],1+S.length);if(!E)return null;S.push(P(E.type))}t.error("Expected arguments of type "+x+", but found ("+S.join(", ")+") instead.")}return null},Zo.register=function(e,t){for(var r in Zo.definitions=t,t)e[r]=Zo};var Jo=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Jo.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new Jo(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Jo.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Jo.prototype.eachChild=function(){},Jo.prototype.possibleOutputs=function(){return[void 0]},Jo.prototype.serialize=function(){return["var",this.name]};var Xo=function(e,t,r,o,n){void 0===t&&(t=[]),void 0===o&&(o=new bo),void 0===n&&(n=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=o,this.errors=n,this.expectedType=r};Xo.prototype.parse=function(e,t,r,o,n){return void 0===n&&(n={}),t?this.concat(t,r,o)._parse(e,n):this._parse(e,n)},Xo.prototype._parse=function(e,t){if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var o=this.registry[r];if(o){var n=o.parse(e,this);if(!n)return null;if(this.expectedType){var i=this.expectedType,a=n.type;if("string"!==i.kind&&"number"!==i.kind&&"boolean"!==i.kind&&"object"!==i.kind&&"array"!==i.kind||"value"!==a.kind)if("color"!==i.kind||"value"!==a.kind&&"string"!==a.kind)if("formatted"!==i.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(this.expectedType,n.type))return null}else t.omitTypeAnnotations||(n=new Wo(i,[n]));else t.omitTypeAnnotations||(n=new Wo(i,[n]));else t.omitTypeAnnotations||(n=new qo(i,[n]))}if(!(n instanceof Do)&&function e(t){if(t instanceof Jo)return e(t.boundExpression);if(t instanceof Zo&&"error"===t.name)return!1;if(t instanceof No)return!1;var r=t instanceof Wo||t instanceof qo,o=!0;return t.eachChild(function(t){o=r?o&&e(t):o&&t instanceof Do}),!!o&&(M(t)&&z(t,["zoom","heatmap-density","line-progress","is-supported-script"]))}(n)){var s=new Go;try{n=new Do(n.type,n.evaluate(s))}catch(e){return this.error(e.message),null}}return n}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},Xo.prototype.concat=function(e,t,r){var o="number"==typeof e?this.path.concat(e):this.path,n=r?this.scope.concat(r):this.scope;return new Xo(this.registry,o,t||null,n,this.errors)},Xo.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var o=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new wo(o,e))},Xo.prototype.checkSubtype=function(e,t){var r=E(e,t);return r&&this.error(r),r};var Ko=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var o=0,n=r;o<n.length;o+=1){var i=n[o],a=i[0],s=i[1];this.labels.push(a),this.outputs.push(s)}};Ko.parse=function(e,t){var r=e[1],o=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,1,So)))return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType),o.unshift(-1/0);for(var a=0;a<o.length;a+=2){var s=o[a],c=o[a+1],l=a+1,p=a+2;if("number"!=typeof s)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&&n[n.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var u=t.parse(c,p,i);if(!u)return null;i=i||u.type,n.push([s,u])}return new Ko(i,r,n)},Ko.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var o=this.input.evaluate(e);if(o<=t[0])return r[0].evaluate(e);var n=t.length;return o>=t[n-1]?r[n-1].evaluate(e):r[R(t,o)].evaluate(e)},Ko.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Ko.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},Ko.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Qo=Object.freeze({number:F,color:function(e,t,r){return new Fo(F(e.r,t.r,r),F(e.g,t.g,r),F(e.b,t.b,r),F(e.a,t.a,r))},array:function(e,t,r){return e.map(function(e,o){return F(e,t[o],r)})}}),Yo=.95047,$o=1,en=1.08883,tn=4/29,rn=6/29,on=3*rn*rn,nn=rn*rn*rn,an=Math.PI/180,sn=180/Math.PI,cn={forward:j,reverse:D,interpolate:function(e,t,r){return{l:F(e.l,t.l,r),a:F(e.a,t.a,r),b:F(e.b,t.b,r),alpha:F(e.alpha,t.alpha,r)}}},ln={forward:function(e){var t=j(e),r=t.l,o=t.a,n=t.b,i=Math.atan2(n,o)*sn;return{h:i<0?i+360:i,c:Math.sqrt(o*o+n*n),l:r,alpha:e.a}},reverse:function(e){var t=e.h*an,r=e.c;return D({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:function(e,t,r){var o=t-e;return e+r*(o>180||o<-180?o-360*Math.round(o/360):o)}(e.h,t.h,r),c:F(e.c,t.c,r),l:F(e.l,t.l,r),alpha:F(e.alpha,t.alpha,r)}}},pn=Object.freeze({lab:cn,hcl:ln}),un=function(e,t,r,o,n){this.type=e,this.operator=t,this.interpolation=r,this.input=o,this.labels=[],this.outputs=[];for(var i=0,a=n;i<a.length;i+=1){var s=a[i],c=s[0],l=s[1];this.labels.push(c),this.outputs.push(l)}};un.interpolationFactor=function(e,t,r,o){var n=0;if("exponential"===e.name)n=L(t,e.base,r,o);else if("linear"===e.name)n=L(t,1,r,o);else if("cubic-bezier"===e.name){var i=e.controlPoints;n=new eo(i[0],i[1],i[2],i[3]).solve(L(t,1,r,o))}return n},un.parse=function(e,t){var r=e[0],o=e[1],n=e[2],i=e.slice(3);if(!Array.isArray(o)||0===o.length)return t.error("Expected an interpolation type expression.",1);if("linear"===o[0])o={name:"linear"};else if("exponential"===o[0]){var a=o[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);o={name:"exponential",base:a}}else{if("cubic-bezier"!==o[0])return t.error("Unknown interpolation type "+String(o[0]),1,0);var s=o.slice(1);if(4!==s.length||s.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);o={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(n=t.parse(n,2,So)))return null;var c=[],l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=Eo:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var p=0;p<i.length;p+=2){var u=i[p],d=i[p+1],h=p+3,m=p+4;if("number"!=typeof u)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(c.length&&c[c.length-1][0]>=u)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var y=t.parse(d,m,l);if(!y)return null;l=l||y.type,c.push([u,y])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new un(l,r,o,n,c):t.error("Type "+P(l)+" is not interpolatable.")},un.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var o=this.input.evaluate(e);if(o<=t[0])return r[0].evaluate(e);var n=t.length;if(o>=t[n-1])return r[n-1].evaluate(e);var i=R(t,o),a=t[i],s=t[i+1],c=un.interpolationFactor(this.interpolation,o,a,s),l=r[i].evaluate(e),p=r[i+1].evaluate(e);return"interpolate"===this.operator?Qo[this.type.kind.toLowerCase()](l,p,c):"interpolate-hcl"===this.operator?ln.reverse(ln.interpolate(ln.forward(l),ln.forward(p),c)):cn.reverse(cn.interpolate(cn.forward(l),cn.forward(p),c))},un.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},un.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},un.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var dn=function(e,t){this.type=e,this.args=t};dn.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,o=t.expectedType;o&&"value"!==o.kind&&(r=o);for(var n=[],i=0,a=e.slice(1);i<a.length;i+=1){var s=a[i],c=t.parse(s,1+n.length,r,void 0,{omitTypeAnnotations:!0});if(!c)return null;r=r||c.type,n.push(c)}var l=o&&n.some(function(e){return E(o,e.type)});return new dn(l?Ao:r,n)},dn.prototype.evaluate=function(e){for(var t=null,r=0,o=this.args;r<o.length&&null===(t=o[r].evaluate(e));r+=1);return t},dn.prototype.eachChild=function(e){this.args.forEach(e)},dn.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},dn.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var hn=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};hn.prototype.evaluate=function(e){return this.result.evaluate(e)},hn.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},hn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],o=1;o<e.length-1;o+=2){var n=e[o];if("string"!=typeof n)return t.error("Expected string, but found "+typeof n+" instead.",o);if(/[^a-zA-Z0-9_]/.test(n))return t.error("Variable names must contain only alphanumeric characters or '_'.",o);var i=t.parse(e[o+1],o+1);if(!i)return null;r.push([n,i])}var a=t.parse(e[e.length-1],e.length-1,void 0,r);return a?new hn(r,a):null},hn.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},hn.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var o=r[t],n=o[0],i=o[1];e.push(n,i.serialize())}return e.push(this.result.serialize()),e};var mn=function(e,t,r){this.type=e,this.index=t,this.input=r};mn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,So),o=t.parse(e[2],2,k(t.expectedType||Ao));if(!r||!o)return null;var n=o.type;return new mn(n.itemType,r,o)},mn.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Lo("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new Lo("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new Lo("Array index must be an integer, but found "+t+" instead.");return r[t]},mn.prototype.eachChild=function(e){e(this.index),e(this.input)},mn.prototype.possibleOutputs=function(){return[void 0]},mn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var yn=function(e,t,r,o,n,i){this.inputType=e,this.type=t,this.input=r,this.cases=o,this.outputs=n,this.otherwise=i};yn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,o;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(var n={},i=[],a=2;a<e.length-1;a+=2){var s=e[a],c=e[a+1];Array.isArray(s)||(s=[s]);var l=t.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var p=0,u=s;p<u.length;p+=1){var d=u[p];if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,A(d)))return null}else r=A(d);if(void 0!==n[String(d)])return l.error("Branch labels must be unique.");n[String(d)]=i.length}var h=t.parse(c,a,o);if(!h)return null;o=o||h.type,i.push(h)}var m=t.parse(e[1],1,Ao);if(!m)return null;var y=t.parse(e[e.length-1],e.length-1,o);return y?"value"!==m.type.kind&&t.concat(1).checkSubtype(r,m.type)?null:new yn(r,o,m,n,i,y):null},yn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(A(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},yn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},yn.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},yn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],o={},n=0,i=Object.keys(this.cases).sort();n<i.length;n+=1){var a=i[n],s=o[e.cases[a]];void 0===s?(o[e.cases[a]]=r.length,r.push([e.cases[a],[a]])):r[s][1].push(a)}for(var c=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,p=r;l<p.length;l+=1){var u=p[l],d=u[0],h=u[1];1===h.length?t.push(c(h[0])):t.push(h.map(c)),t.push(e.outputs[d].serialize())}return t.push(this.otherwise.serialize()),t};var fn=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};fn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var o=[],n=1;n<e.length-1;n+=2){var i=t.parse(e[n],n,Po);if(!i)return null;var a=t.parse(e[n+1],n+1,r);if(!a)return null;o.push([i,a]),r=r||a.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new fn(r,o,s):null},fn.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var o=r[t],n=o[0],i=o[1];if(n.evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},fn.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var o=r[t],n=o[0],i=o[1];e(n),e(i)}e(this.otherwise)},fn.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.branches.map(function(e){return e[0],e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},fn.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var vn=V("==",function(e,t,r){return t===r},q),gn=V("!=",function(e,t,r){return t!==r},function(e,t,r,o){return!q(0,t,r,o)}),_n=V("<",function(e,t,r){return t<r},function(e,t,r,o){return o.compare(t,r)<0}),wn=V(">",function(e,t,r){return t>r},function(e,t,r,o){return o.compare(t,r)>0}),bn=V("<=",function(e,t,r){return t<=r},function(e,t,r,o){return o.compare(t,r)<=0}),xn=V(">=",function(e,t,r){return t>=r},function(e,t,r,o){return o.compare(t,r)>=0}),Sn=function(e){this.type=So,this.input=e};Sn.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+P(r.type)+" instead."):new Sn(r):null},Sn.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Lo("Expected value to be of type string or array, but found "+P(A(t))+" instead.")},Sn.prototype.eachChild=function(e){e(this.input)},Sn.prototype.possibleOutputs=function(){return[void 0]},Sn.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var kn={"==":vn,"!=":gn,">":wn,"<":_n,">=":xn,"<=":bn,array:qo,at:mn,boolean:qo,case:fn,coalesce:dn,collator:No,format:jo,interpolate:un,"interpolate-hcl":un,"interpolate-lab":un,length:Sn,let:hn,literal:Do,match:yn,number:qo,object:qo,step:Ko,string:qo,"to-color":Wo,"to-number":Wo,var:Jo};Zo.register(kn,{error:[{kind:"error"},[ko],function(e,t){var r=t[0];throw new Lo(r.evaluate(e))}],typeof:[ko,[Ao],function(e,t){return P(A(t[0].evaluate(e)))}],"to-string":[ko,[Ao],function(e,t){var r=t[0],o=typeof(r=r.evaluate(e));return null===r?"":"string"===o||"number"===o||"boolean"===o?String(r):r instanceof Fo||r instanceof Oo?r.toString():JSON.stringify(r)}],"to-boolean":[Po,[Ao],function(e,t){var r=t[0];return Boolean(r.evaluate(e))}],"to-rgba":[k(So,4),[Eo],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Eo,[So,So,So],W],rgba:[Eo,[So,So,So,So],W],has:{type:Po,overloads:[[[ko],function(e,t){return H(t[0].evaluate(e),e.properties())}],[[ko,Co],function(e,t){var r=t[0],o=t[1];return H(r.evaluate(e),o.evaluate(e))}]]},get:{type:Ao,overloads:[[[ko],function(e,t){return G(t[0].evaluate(e),e.properties())}],[[ko,Co],function(e,t){var r=t[0],o=t[1];return G(r.evaluate(e),o.evaluate(e))}]]},"feature-state":[Ao,[ko],function(e,t){return G(t[0].evaluate(e),e.featureState||{})}],properties:[Co,[],function(e){return e.properties()}],"geometry-type":[ko,[],function(e){return e.geometryType()}],id:[Ao,[],function(e){return e.id()}],zoom:[So,[],function(e){return e.globals.zoom}],"heatmap-density":[So,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[So,[],function(e){return e.globals.lineProgress||0}],"+":[So,Z(So),function(e,t){for(var r=0,o=0,n=t;o<n.length;o+=1)r+=n[o].evaluate(e);return r}],"*":[So,Z(So),function(e,t){for(var r=1,o=0,n=t;o<n.length;o+=1)r*=n[o].evaluate(e);return r}],"-":{type:So,overloads:[[[So,So],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)-o.evaluate(e)}],[[So],function(e,t){return-t[0].evaluate(e)}]]},"/":[So,[So,So],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)/o.evaluate(e)}],"%":[So,[So,So],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)%o.evaluate(e)}],ln2:[So,[],function(){return Math.LN2}],pi:[So,[],function(){return Math.PI}],e:[So,[],function(){return Math.E}],"^":[So,[So,So],function(e,t){var r=t[0],o=t[1];return Math.pow(r.evaluate(e),o.evaluate(e))}],sqrt:[So,[So],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[So,[So],function(e,t){var r=t[0];return Math.log10(r.evaluate(e))}],ln:[So,[So],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[So,[So],function(e,t){var r=t[0];return Math.log2(r.evaluate(e))}],sin:[So,[So],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[So,[So],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[So,[So],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[So,[So],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[So,[So],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[So,[So],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[So,Z(So),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[So,Z(So),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[So,[So],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[So,[So],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[So,[So],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[So,[So],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[Po,[ko,Ao],function(e,t){var r=t[0],o=t[1];return e.properties()[r.value]===o.value}],"filter-id-==":[Po,[Ao],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Po,[ko],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Po,[ko,Ao],function(e,t){var r=t[0],o=t[1],n=e.properties()[r.value],i=o.value;return typeof n==typeof i&&n<i}],"filter-id-<":[Po,[Ao],function(e,t){var r=t[0],o=e.id(),n=r.value;return typeof o==typeof n&&o<n}],"filter->":[Po,[ko,Ao],function(e,t){var r=t[0],o=t[1],n=e.properties()[r.value],i=o.value;return typeof n==typeof i&&n>i}],"filter-id->":[Po,[Ao],function(e,t){var r=t[0],o=e.id(),n=r.value;return typeof o==typeof n&&o>n}],"filter-<=":[Po,[ko,Ao],function(e,t){var r=t[0],o=t[1],n=e.properties()[r.value],i=o.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[Po,[Ao],function(e,t){var r=t[0],o=e.id(),n=r.value;return typeof o==typeof n&&o<=n}],"filter->=":[Po,[ko,Ao],function(e,t){var r=t[0],o=t[1],n=e.properties()[r.value],i=o.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[Po,[Ao],function(e,t){var r=t[0],o=e.id(),n=r.value;return typeof o==typeof n&&o>=n}],"filter-has":[Po,[Ao],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Po,[],function(e){return null!==e.id()}],"filter-type-in":[Po,[k(ko)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Po,[k(Ao)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Po,[ko,k(Ao)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Po,[ko,k(Ao)],function(e,t){var r=t[0],o=t[1];return function(e,t,r,o){for(;r<=o;){var n=r+o>>1;if(t[n]===e)return!0;t[n]>e?o=n-1:r=n+1}return!1}(e.properties()[r.value],o.value,0,o.value.length-1)}],all:{type:Po,overloads:[[[Po,Po],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)&&o.evaluate(e)}],[Z(Po),function(e,t){for(var r=0,o=t;r<o.length;r+=1)if(!o[r].evaluate(e))return!1;return!0}]]},any:{type:Po,overloads:[[[Po,Po],function(e,t){var r=t[0],o=t[1];return r.evaluate(e)||o.evaluate(e)}],[Z(Po),function(e,t){for(var r=0,o=t;r<o.length;r+=1)if(o[r].evaluate(e))return!0;return!1}]]},"!":[Po,[Po],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Po,[ko],function(e,t){var r=t[0],o=e.globals&&e.globals.isSupportedScript;return!o||o(r.evaluate(e))}],upcase:[ko,[ko],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[ko,[ko],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[ko,Z(ko),function(e,t){return t.map(function(t){return t.evaluate(e)}).join("")}],"resolved-locale":[ko,[Mo],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Pn=function(e,t){var r;this.expression=e,this._warningHistory={},this._defaultValue="color"===(r=t).type&&ee(r.default)?new Fo(0,0,0,0):"color"===r.type?Fo.parse(r.default)||null:void 0===r.default?null:r.default,"enum"===t.type&&(this._enumValues=t.values)};Pn.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._evaluator||(this._evaluator=new Go),this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this.expression.evaluate(this._evaluator)},Pn.prototype.evaluate=function(e,t,r){this._evaluator||(this._evaluator=new Go),this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r;try{var o=this.expression.evaluate(this._evaluator);if(null==o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new Lo("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var En=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!T(t.expression)};En.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r)},En.prototype.evaluate=function(e,t,r){return this._styleExpression.evaluate(e,t,r)};var Cn=function(e,t,r){this.kind=e,this.zoomStops=r.labels,this._styleExpression=t,this.isStateDependent="camera"!==e&&!T(t.expression),r instanceof un&&(this._interpolationType=r.interpolation)};Cn.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r)},Cn.prototype.evaluate=function(e,t,r){return this._styleExpression.evaluate(e,t,r)},Cn.prototype.interpolationFactor=function(e,t,r){return this._interpolationType?un.interpolationFactor(this._interpolationType,e,t,r):0};var An=function(e,t){this._parameters=e,this._specification=t,b(this,function e(t,r){var o,n,i,a="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],c=s||void 0!==t.property,l=s||!c,p=t.type||(Y(r)?"exponential":"interval");if(a&&((t=b({},t)).stops&&(t.stops=t.stops.map(function(e){return[e[0],Fo.parse(e[1])]})),t.default?t.default=Fo.parse(t.default):t.default=Fo.parse(r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!pn[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===p)o=ie;else if("interval"===p)o=ne;else if("categorical"===p){o=oe,n=Object.create(null);for(var u=0,d=t.stops;u<d.length;u+=1){var h=d[u];n[h[0]]=h[1]}i=typeof t.stops[0][0]}else{if("identity"!==p)throw new Error('Unknown function type "'+p+'"');o=ae}if(s){for(var m={},y=[],f=0;f<t.stops.length;f++){var v=t.stops[f],g=v[0].zoom;void 0===m[g]&&(m[g]={zoom:g,type:t.type,property:t.property,default:t.default,stops:[]},y.push(g)),m[g].stops.push([v[0].value,v[1]])}for(var _=[],w=0,x=y;w<x.length;w+=1){var S=x[w];_.push([m[S].zoom,e(m[S],r)])}return{kind:"composite",interpolationFactor:un.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map(function(e){return e[0]}),evaluate:function(e,o){var n=e.zoom;return ie({stops:_,base:t.base},r,n).evaluate(n,o)}}}return l?{kind:"camera",interpolationFactor:"exponential"===p?un.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(e){return e[0]}),evaluate:function(e){var a=e.zoom;return o(t,r,a,n,i)}}:{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?re(t.default,r.default):o(t,r,s,n,i)}}}(this._parameters,this._specification))};An.deserialize=function(e){return new An(e._parameters,e._specification)},An.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var Mn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Tn={"*":function(){return[]},array:he,boolean:function(e){var t=e.value,r=e.key,o=$(t);return"boolean"!==o?[new _o(r,t,"boolean expected, "+o+" found")]:[]},number:me,color:function(e){var t=e.key,r=e.value,o=$(r);return"string"!==o?[new _o(t,r,"color expected, "+o+" found")]:null===Ro(r)?[new _o(t,r,'color expected, "'+r+'" found')]:[]},constants:w,enum:ve,filter:Ee,function:ye,layer:Te,object:de,source:ze,light:Re,string:Fe,formatted:function(e){return 0===Fe(e).length?[]:fe(e)}};Be.source=je(ze),Be.light=je(Re),Be.layer=je(Te),Be.filter=je(Ee),Be.paintProperty=je(Ae),Be.layoutProperty=je(Me);var zn=Be,Rn=Be.light,Fn=Be.paintProperty,In=Be.layoutProperty,Nn=Le,Bn=3;Le.prototype.insert=function(e,t,r,o,n){this._forEachCell(t,r,o,n,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(n)},Le.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Le.prototype._insertCell=function(e,t,r,o,n,i){this.cells[n].push(i)},Le.prototype.query=function(e,t,r,o){var n=this.min,i=this.max;if(e<=n&&t<=n&&i<=r&&i<=o)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(e,t,r,o,this._queryCell,a,{}),a},Le.prototype._queryCell=function(e,t,r,o,n,i,a){var s=this.cells[n];if(null!==s)for(var c=this.keys,l=this.bboxes,p=0;p<s.length;p++){var u=s[p];if(void 0===a[u]){var d=4*u;e<=l[d+2]&&t<=l[d+3]&&r>=l[d+0]&&o>=l[d+1]?(a[u]=!0,i.push(c[u])):a[u]=!1}}},Le.prototype._forEachCell=function(e,t,r,o,n,i,a){for(var s=this._convertToCellCoord(e),c=this._convertToCellCoord(t),l=this._convertToCellCoord(r),p=this._convertToCellCoord(o),u=s;u<=l;u++)for(var d=c;d<=p;d++){var h=this.d*d+u;if(n.call(this,e,t,r,o,h,i,a))return}},Le.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Le.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=Bn+this.cells.length+1+1,r=0,o=0;o<this.cells.length;o++)r+=this.cells[o].length;var n=new Int32Array(t+r+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;for(var i=t,a=0;a<e.length;a++){var s=e[a];n[Bn+a]=i,n.set(s,i),i+=s.length}return n[Bn+e.length]=i,n.set(this.keys,i),i+=this.keys.length,n[Bn+e.length+1]=i,n.set(this.bboxes,i),i+=this.bboxes.length,n.buffer};var On=self.ImageData,jn={};for(var Dn in Ue("Object",Object),Nn.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Nn.deserialize=function(e){return new Nn(e.buffer)},Ue("Grid",Nn),Ue("Color",Fo),Ue("Error",Error),Ue("StylePropertyFunction",An),Ue("StyleExpression",Pn,{omit:["_evaluator"]}),Ue("ZoomDependentExpression",Cn),Ue("ZoomConstantExpression",En),Ue("CompoundExpression",Zo,{omit:["_evaluate"]}),kn)kn[Dn]._classRegistryKey||Ue("Expression_"+Dn,kn[Dn]);var Ln=function(){this.first=!0};Ln.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var Un,qn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}},Vn=!1,Wn=null,Hn=!1,Gn=new vo,Zn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Hn||null!=Zn.applyArabicShaping}},Jn=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ln,this.transition={})};Jn.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,o=e;r<o.length;r+=1)if(!Je(o[r].charCodeAt(0),t))return!1;return!0}(e,Zn.isLoaded())},Jn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Jn.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var Xn=function(e,t){this.property=e,this.value=t,this.expression=ue(void 0===t?e.specification.default:t,e.specification)};Xn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Xn.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var Kn=function(e){this.property=e,this.value=new Xn(e,void 0)};Kn.prototype.transitioned=function(e,t){return new Yn(this.property,this.value,t,s({},e.transition,this.transition),e.now)},Kn.prototype.untransitioned=function(){return new Yn(this.property,this.value,null,{},0)};var Qn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Qn.prototype.getValue=function(e){return h(this._values[e].value.value)},Qn.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Kn(this._values[e].property)),this._values[e].value=new Xn(this._values[e].property,null===t?void 0:h(t))},Qn.prototype.getTransition=function(e){return h(this._values[e].transition)},Qn.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Kn(this._values[e].property)),this._values[e].transition=h(t)||void 0},Qn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var o=r[t],n=this.getValue(o);void 0!==n&&(e[o]=n);var i=this.getTransition(o);void 0!==i&&(e[o+"-transition"]=i)}return e},Qn.prototype.transitioned=function(e,t){for(var r=new $n(this._properties),o=0,n=Object.keys(this._values);o<n.length;o+=1){var i=n[o];r._values[i]=this._values[i].transitioned(e,t._values[i])}return r},Qn.prototype.untransitioned=function(){for(var e=new $n(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var o=r[t];e._values[o]=this._values[o].untransitioned()}return e};var Yn=function(e,t,r,o,n){this.property=e,this.value=t,this.begin=n+o.delay||0,this.end=this.begin+o.duration||0,e.specification.transition&&(o.delay||o.duration)&&(this.prior=r)};Yn.prototype.possiblyEvaluate=function(e){var t=e.now||0,r=this.value.possiblyEvaluate(e),o=this.prior;if(o){if(t>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(t<this.begin)return o.possiblyEvaluate(e);var n=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e),r,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(n))}return r};var $n=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};$n.prototype.possiblyEvaluate=function(e){for(var t=new ri(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var n=o[r];t._values[n]=this._values[n].possiblyEvaluate(e)}return t},$n.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var r=t[e];if(this._values[r].prior)return!0}return!1};var ei=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};ei.prototype.getValue=function(e){return h(this._values[e].value)},ei.prototype.setValue=function(e,t){this._values[e]=new Xn(this._values[e].property,null===t?void 0:h(t))},ei.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var o=r[t],n=this.getValue(o);void 0!==n&&(e[o]=n)}return e},ei.prototype.possiblyEvaluate=function(e){for(var t=new ri(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var n=o[r];t._values[n]=this._values[n].possiblyEvaluate(e)}return t};var ti=function(e,t,r){this.property=e,this.value=t,this.parameters=r};ti.prototype.isConstant=function(){return"constant"===this.value.kind},ti.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},ti.prototype.evaluate=function(e,t){return this.property.evaluate(this.value,this.parameters,e,t)};var ri=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};ri.prototype.get=function(e){return this._values[e]};var oi=function(e){this.specification=e};oi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},oi.prototype.interpolate=function(e,t,r){var o=Qo[this.specification.type];return o?o(e,t,r):e};var ni=function(e){this.specification=e};ni.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new ti(this,{kind:"constant",value:e.expression.evaluate(t)},t):new ti(this,e.expression,t)},ni.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new ti(this,{kind:"constant",value:void 0},e.parameters);var o=Qo[this.specification.type];return o?new ti(this,{kind:"constant",value:o(e.value.value,t.value.value,r)},e.parameters):e},ni.prototype.evaluate=function(e,t,r,o){return"constant"===e.kind?e.value:e.evaluate(t,r,o)};var ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t){if(void 0===e.value)return new ti(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var r=e.expression.evaluate(t),o=this._calculate(r,r,r,t);return new ti(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new ti(this,{kind:"constant",value:n},t)}return new ti(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,o){if("source"===e.kind){var n=e.evaluate(t,r,o);return this._calculate(n,n,n,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,o),e.evaluate({zoom:Math.floor(t.zoom)},r,o),e.evaluate({zoom:Math.floor(t.zoom)+1},r,o),t):e.value},t.prototype._calculate=function(e,t,r,o){return o.zoom>o.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(ni),ai=function(e){this.specification=e};ai.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var r=e.expression.evaluate(t);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new Jn(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Jn(Math.floor(t.zoom),t)),e.expression.evaluate(new Jn(Math.floor(t.zoom+1),t)),t)}},ai.prototype._calculate=function(e,t,r,o){return o.zoom>o.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},ai.prototype.interpolate=function(e){return e};var si=function(e){this.specification=e};si.prototype.possiblyEvaluate=function(e,t){return!!e.expression.evaluate(t)},si.prototype.interpolate=function(){return!1};var ci=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var r=e[t],o=this.defaultPropertyValues[t]=new Xn(r,void 0),n=this.defaultTransitionablePropertyValues[t]=new Kn(r);this.defaultTransitioningPropertyValues[t]=n.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=o.possiblyEvaluate({})}};Ue("DataDrivenProperty",ni),Ue("DataConstantProperty",oi),Ue("CrossFadedDataDrivenProperty",ii),Ue("CrossFadedProperty",ai),Ue("ColorRampProperty",si);var li=function(e){function t(t,r){for(var o in e.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.visibility="visible","background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),this._featureFilter=function(){return!0},r.layout&&(this._unevaluatedLayout=new ei(r.layout)),this._transitionablePaint=new Qn(r.paint),t.paint)this.setPaintProperty(o,t.paint[o],{validate:!1});for(var n in t.layout)this.setLayoutProperty(n,t.layout[n],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){if(null!=t){var o="layers."+this.id+".layout."+e;if(this._validate(In,o,e,t,r))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility="none"===t?t:"visible"},t.prototype.getPaintProperty=function(e){return p(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(null!=t){var o="layers."+this.id+".paint."+e;if(this._validate(Fn,o,e,t,r))return!1}if(p(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var n=this._transitionablePaint._values[e],i="cross-faded-data-driven"===n.property.specification["property-type"]&&!n.value.value&&t,a=this._transitionablePaint._values[e].value.isDataDriven();this._transitionablePaint.setValue(e,t);var s=this._transitionablePaint._values[e].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(e),s||a||i},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(e.layout=e.layout||{},e.layout.visibility="none"),d(e,function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,r,o,n){return(!n||!1!==n.validate)&&De(this,e.call(zn,{key:t,layerType:this.type,objectKey:r,value:o,styleSpec:go,style:{glyphs:!0,sprite:!0}}))},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof ti&&K(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(vo),pi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ui=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},di=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};di.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},di.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},di.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},di.prototype.clear=function(){this.length=0},di.prototype.resize=function(e){this.reserve(e),this.length=e},di.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},di.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=2*r;return this.int16[o+0]=e,this.int16[o+1]=t,r},t.prototype.emplace=function(e,t,r){var o=2*e;return this.int16[o+0]=t,this.int16[o+1]=r,e},t}(di);hi.prototype.bytesPerElement=4,Ue("StructArrayLayout2i4",hi);var mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o){var n=this.length;this.resize(n+1);var i=4*n;return this.int16[i+0]=e,this.int16[i+1]=t,this.int16[i+2]=r,this.int16[i+3]=o,n},t.prototype.emplace=function(e,t,r,o,n){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=o,this.int16[i+3]=n,e},t}(di);mi.prototype.bytesPerElement=8,Ue("StructArrayLayout4i8",mi);var yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=e,this.int16[s+1]=t,this.int16[s+2]=r,this.int16[s+3]=o,this.int16[s+4]=n,this.int16[s+5]=i,a},t.prototype.emplace=function(e,t,r,o,n,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=o,this.int16[s+3]=n,this.int16[s+4]=i,this.int16[s+5]=a,e},t}(di);yi.prototype.bytesPerElement=12,Ue("StructArrayLayout2i4i12",yi);var fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s){var c=this.length;this.resize(c+1);var l=6*c,p=12*c;return this.int16[l+0]=e,this.int16[l+1]=t,this.int16[l+2]=r,this.int16[l+3]=o,this.uint8[p+8]=n,this.uint8[p+9]=i,this.uint8[p+10]=a,this.uint8[p+11]=s,c},t.prototype.emplace=function(e,t,r,o,n,i,a,s,c){var l=6*e,p=12*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=o,this.int16[l+3]=n,this.uint8[p+8]=i,this.uint8[p+9]=a,this.uint8[p+10]=s,this.uint8[p+11]=c,e},t}(di);fi.prototype.bytesPerElement=12,Ue("StructArrayLayout4i4ub12",fi);var vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s){var c=this.length;this.resize(c+1);var l=8*c;return this.uint16[l+0]=e,this.uint16[l+1]=t,this.uint16[l+2]=r,this.uint16[l+3]=o,this.uint16[l+4]=n,this.uint16[l+5]=i,this.uint16[l+6]=a,this.uint16[l+7]=s,c},t.prototype.emplace=function(e,t,r,o,n,i,a,s,c){var l=8*e;return this.uint16[l+0]=t,this.uint16[l+1]=r,this.uint16[l+2]=o,this.uint16[l+3]=n,this.uint16[l+4]=i,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=c,e},t}(di);vi.prototype.bytesPerElement=16,Ue("StructArrayLayout8ui16",vi);var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s){var c=this.length;this.resize(c+1);var l=8*c;return this.int16[l+0]=e,this.int16[l+1]=t,this.int16[l+2]=r,this.int16[l+3]=o,this.uint16[l+4]=n,this.uint16[l+5]=i,this.uint16[l+6]=a,this.uint16[l+7]=s,c},t.prototype.emplace=function(e,t,r,o,n,i,a,s,c){var l=8*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=o,this.int16[l+3]=n,this.uint16[l+4]=i,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=c,e},t}(di);gi.prototype.bytesPerElement=16,Ue("StructArrayLayout4i4ui16",gi);var _i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=3*o;return this.float32[n+0]=e,this.float32[n+1]=t,this.float32[n+2]=r,o},t.prototype.emplace=function(e,t,r,o){var n=3*e;return this.float32[n+0]=t,this.float32[n+1]=r,this.float32[n+2]=o,e},t}(di);_i.prototype.bytesPerElement=12,Ue("StructArrayLayout3f12",_i);var wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var r=1*t;return this.uint32[r+0]=e,t},t.prototype.emplace=function(e,t){var r=1*e;return this.uint32[r+0]=t,e},t}(di);wi.prototype.bytesPerElement=4,Ue("StructArrayLayout1ul4",wi);var bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s,c,l,p){var u=this.length;this.resize(u+1);var d=12*u,h=6*u;return this.int16[d+0]=e,this.int16[d+1]=t,this.int16[d+2]=r,this.int16[d+3]=o,this.int16[d+4]=n,this.int16[d+5]=i,this.uint32[h+3]=a,this.uint16[d+8]=s,this.uint16[d+9]=c,this.int16[d+10]=l,this.int16[d+11]=p,u},t.prototype.emplace=function(e,t,r,o,n,i,a,s,c,l,p,u){var d=12*e,h=6*e;return this.int16[d+0]=t,this.int16[d+1]=r,this.int16[d+2]=o,this.int16[d+3]=n,this.int16[d+4]=i,this.int16[d+5]=a,this.uint32[h+3]=s,this.uint16[d+8]=c,this.uint16[d+9]=l,this.int16[d+10]=p,this.int16[d+11]=u,e},t}(di);bi.prototype.bytesPerElement=24,Ue("StructArrayLayout6i1ul2ui2i24",bi);var xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=e,this.int16[s+1]=t,this.int16[s+2]=r,this.int16[s+3]=o,this.int16[s+4]=n,this.int16[s+5]=i,a},t.prototype.emplace=function(e,t,r,o,n,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=o,this.int16[s+3]=n,this.int16[s+4]=i,this.int16[s+5]=a,e},t}(di);xi.prototype.bytesPerElement=12,Ue("StructArrayLayout2i2i2i12",xi);var Si=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=4*r;return this.uint8[o+0]=e,this.uint8[o+1]=t,r},t.prototype.emplace=function(e,t,r){var o=4*e;return this.uint8[o+0]=t,this.uint8[o+1]=r,e},t}(di);Si.prototype.bytesPerElement=4,Ue("StructArrayLayout2ub4",Si);var ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s,c,l,p,u,d,h){var m=this.length;this.resize(m+1);var y=20*m,f=10*m,v=40*m;return this.int16[y+0]=e,this.int16[y+1]=t,this.uint16[y+2]=r,this.uint16[y+3]=o,this.uint32[f+2]=n,this.uint32[f+3]=i,this.uint32[f+4]=a,this.uint16[y+10]=s,this.uint16[y+11]=c,this.uint16[y+12]=l,this.float32[f+7]=p,this.float32[f+8]=u,this.uint8[v+36]=d,this.uint8[v+37]=h,m},t.prototype.emplace=function(e,t,r,o,n,i,a,s,c,l,p,u,d,h,m){var y=20*e,f=10*e,v=40*e;return this.int16[y+0]=t,this.int16[y+1]=r,this.uint16[y+2]=o,this.uint16[y+3]=n,this.uint32[f+2]=i,this.uint32[f+3]=a,this.uint32[f+4]=s,this.uint16[y+10]=c,this.uint16[y+11]=l,this.uint16[y+12]=p,this.float32[f+7]=u,this.float32[f+8]=d,this.uint8[v+36]=h,this.uint8[v+37]=m,e},t}(di);ki.prototype.bytesPerElement=40,Ue("StructArrayLayout2i2ui3ul3ui2f2ub40",ki);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o,n,i,a,s,c,l,p,u,d,h){var m=this.length;this.resize(m+1);var y=16*m,f=8*m;return this.int16[y+0]=e,this.int16[y+1]=t,this.int16[y+2]=r,this.int16[y+3]=o,this.uint16[y+4]=n,this.uint16[y+5]=i,this.uint16[y+6]=a,this.uint16[y+7]=s,this.uint16[y+8]=c,this.uint16[y+9]=l,this.uint16[y+10]=p,this.uint16[y+11]=u,this.uint16[y+12]=d,this.uint32[f+7]=h,m},t.prototype.emplace=function(e,t,r,o,n,i,a,s,c,l,p,u,d,h,m){var y=16*e,f=8*e;return this.int16[y+0]=t,this.int16[y+1]=r,this.int16[y+2]=o,this.int16[y+3]=n,this.uint16[y+4]=i,this.uint16[y+5]=a,this.uint16[y+6]=s,this.uint16[y+7]=c,this.uint16[y+8]=l,this.uint16[y+9]=p,this.uint16[y+10]=u,this.uint16[y+11]=d,this.uint16[y+12]=h,this.uint32[f+7]=m,e},t}(di);Pi.prototype.bytesPerElement=32,Ue("StructArrayLayout4i9ui1ul32",Pi);var Ei=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var r=1*t;return this.float32[r+0]=e,t},t.prototype.emplace=function(e,t){var r=1*e;return this.float32[r+0]=t,e},t}(di);Ei.prototype.bytesPerElement=4,Ue("StructArrayLayout1f4",Ei);var Ci=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=3*o;return this.int16[n+0]=e,this.int16[n+1]=t,this.int16[n+2]=r,o},t.prototype.emplace=function(e,t,r,o){var n=3*e;return this.int16[n+0]=t,this.int16[n+1]=r,this.int16[n+2]=o,e},t}(di);Ci.prototype.bytesPerElement=6,Ue("StructArrayLayout3i6",Ci);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=2*o,i=4*o;return this.uint32[n+0]=e,this.uint16[i+2]=t,this.uint16[i+3]=r,o},t.prototype.emplace=function(e,t,r,o){var n=2*e,i=4*e;return this.uint32[n+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=o,e},t}(di);Ai.prototype.bytesPerElement=8,Ue("StructArrayLayout1ul2ui8",Ai);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var o=this.length;this.resize(o+1);var n=3*o;return this.uint16[n+0]=e,this.uint16[n+1]=t,this.uint16[n+2]=r,o},t.prototype.emplace=function(e,t,r,o){var n=3*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,this.uint16[n+2]=o,e},t}(di);Mi.prototype.bytesPerElement=6,Ue("StructArrayLayout3ui6",Mi);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=2*r;return this.uint16[o+0]=e,this.uint16[o+1]=t,r},t.prototype.emplace=function(e,t,r){var o=2*e;return this.uint16[o+0]=t,this.uint16[o+1]=r,e},t}(di);Ti.prototype.bytesPerElement=4,Ue("StructArrayLayout2ui4",Ti);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var r=1*t;return this.uint16[r+0]=e,t},t.prototype.emplace=function(e,t){var r=1*e;return this.uint16[r+0]=t,e},t}(di);zi.prototype.bytesPerElement=2,Ue("StructArrayLayout1ui2",zi);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;this.resize(r+1);var o=2*r;return this.float32[o+0]=e,this.float32[o+1]=t,r},t.prototype.emplace=function(e,t,r){var o=2*e;return this.float32[o+0]=t,this.float32[o+1]=r,e},t}(di);Ri.prototype.bytesPerElement=8,Ue("StructArrayLayout2f8",Ri);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,o){var n=this.length;this.resize(n+1);var i=4*n;return this.float32[i+0]=e,this.float32[i+1]=t,this.float32[i+2]=r,this.float32[i+3]=o,n},t.prototype.emplace=function(e,t,r,o,n){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=o,this.float32[i+3]=n,e},t}(di);Fi.prototype.bytesPerElement=16,Ue("StructArrayLayout4f16",Fi);var Ii=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},r.anchorPoint.get=function(){return new ro(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(ui);Ii.prototype.size=24;var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ii(this,e)},t}(bi);Ue("CollisionBoxArray",Ni);var Bi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},Object.defineProperties(t.prototype,r),t}(ui);Bi.prototype.size=40;var Oi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Bi(this,e)},t}(ki);Ue("PlacedSymbolArray",Oi);var ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},horizontalPlacedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.horizontalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.horizontalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},r.key.get=function(){return this._structArray.uint16[this._pos2+4]},r.key.set=function(e){this._structArray.uint16[this._pos2+4]=e},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+5]},r.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+5]=e},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+6]},r.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+6]=e},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},r.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+7]=e},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.featureIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.numGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+10]},r.numGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+11]},r.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+12]},r.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+7]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+7]=e},Object.defineProperties(t.prototype,r),t}(ui);ji.prototype.size=32;var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new ji(this,e)},t}(Pi);Ue("SymbolInstanceArray",Di);var Li=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,r),t}(ui);Li.prototype.size=4;var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new Li(this,e)},t}(Ei);Ue("GlyphOffsetArray",Ui);var qi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(e){this._structArray.int16[this._pos2+0]=e},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(e){this._structArray.int16[this._pos2+1]=e},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,r),t}(ui);qi.prototype.size=6;var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new qi(this,e)},t}(Ci);Ue("SymbolLineVertexArray",Vi);var Wi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,r),t}(ui);Wi.prototype.size=8;var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Wi(this,e)},t}(Ai);Ue("FeatureIndexArray",Hi);var Gi=Xe([{name:"a_pos",components:2,type:"Int16"}],4),Zi=Gi.members,Ji=(Gi.size,Gi.alignment,function(e){void 0===e&&(e=[]),this.segments=e});Ji.prototype.prepareSegment=function(e,t,r){var o=this.segments[this.segments.length-1];return e>Ji.MAX_VERTEX_ARRAY_LENGTH&&m("Max vertices per segment is "+Ji.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!o||o.vertexLength+e>Ji.MAX_VERTEX_ARRAY_LENGTH)&&(o={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(o)),o},Ji.prototype.get=function(){return this.segments},Ji.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var o in r.vaos)r.vaos[o].destroy()}},Ji.simpleSegment=function(e,t,r,o){return new Ji([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:o,vaos:{}}])},Ji.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ue("SegmentVector",Ji);var Xi=function(e,t){return 256*(e=a(Math.floor(e),0,255))+(t=a(Math.floor(t),0,255))},Ki=function(){this.ids=[],this.positions=[],this.indexed=!1};Ki.prototype.add=function(e,t,r,o){this.ids.push(e),this.positions.push(t,r,o)},Ki.prototype.getPositions=function(e){for(var t=0,r=this.ids.length-1;t<r;){var o=t+r>>1;this.ids[o]>=e?r=o:t=o+1}for(var n=[];this.ids[t]===e;){var i=this.positions[3*t],a=this.positions[3*t+1],s=this.positions[3*t+2];n.push({index:i,start:a,end:s}),t++}return n},Ki.serialize=function(e,t){var r=new Float64Array(e.ids),o=new Uint32Array(e.positions);return function e(t,r,o,n){if(!(o>=n)){for(var i=t[o+n>>1],a=o-1,s=n+1;;){do{a++}while(t[a]<i);do{s--}while(t[s]>i);if(a>=s)break;Qe(t,a,s),Qe(r,3*a,3*s),Qe(r,3*a+1,3*s+1),Qe(r,3*a+2,3*s+2)}e(t,r,o,s),e(t,r,s+1,n)}}(r,o,0,r.length-1),t.push(r.buffer,o.buffer),{ids:r,positions:o}},Ki.deserialize=function(e){var t=new Ki;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},Ue("FeaturePositionMap",Ki);var Qi=function(e,t){this.gl=e.gl,this.location=t},Yi=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Qi),$i=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Qi),ea=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Qi),ta=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Qi),ra=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Qi),oa=function(e){function t(t,r){e.call(this,t,r),this.current=Fo.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Qi),na=new Float32Array(16),ia=function(e){function t(t,r){e.call(this,t,r),this.current=na}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Qi),aa=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=r,this.maxValue=-1/0};aa.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},aa.prototype.setConstantPatternPositions=function(){},aa.prototype.populatePaintArray=function(){},aa.prototype.updatePaintArray=function(){},aa.prototype.upload=function(){},aa.prototype.destroy=function(){},aa.prototype.setUniforms=function(e,t,r,o){t.set(o.constantOr(this.value))},aa.prototype.getBinding=function(e,t){return"color"===this.type?new oa(e,t):new $i(e,t)},aa.serialize=function(e){var t=e.value,r=e.names,o=e.type;return{value:qe(t),names:r,type:o}},aa.deserialize=function(e){var t=e.value,r=e.names,o=e.type;return new aa(Ve(t),r,o)};var sa=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};sa.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},sa.prototype.populatePaintArray=function(){},sa.prototype.updatePaintArray=function(){},sa.prototype.upload=function(){},sa.prototype.destroy=function(){},sa.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},sa.prototype.setUniforms=function(e,t,r,o,n){var i=this.patternPositions;"u_pattern_to"===n&&i.patternTo&&t.set(i.patternTo),"u_pattern_from"===n&&i.patternFrom&&t.set(i.patternFrom)},sa.prototype.getBinding=function(e,t){return new ra(e,t)};var ca=function(e,t,r,o){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map(function(e){return"a_"+e}),this.maxValue=-1/0,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}}),this.paintVertexArray=new o};ca.prototype.defines=function(){return[]},ca.prototype.setConstantPatternPositions=function(){},ca.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,o=r.length;r.reserve(e);var n=this.expression.evaluate(new Jn(0),t,{});if("color"===this.type)for(var i=Ye(n),a=o;a<e;a++)r.emplaceBack(i[0],i[1]);else{for(var s=o;s<e;s++)r.emplaceBack(n);this.maxValue=Math.max(this.maxValue,n)}},ca.prototype.updatePaintArray=function(e,t,r,o){var n=this.paintVertexArray,i=this.expression.evaluate({zoom:0},r,o);if("color"===this.type)for(var a=Ye(i),s=e;s<t;s++)n.emplace(s,a[0],a[1]);else{for(var c=e;c<t;c++)n.emplace(c,i);this.maxValue=Math.max(this.maxValue,i)}},ca.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ca.prototype.setUniforms=function(e,t){t.set(0)},ca.prototype.getBinding=function(e,t){return new $i(e,t)};var la=function(e,t,r,o,n,i){this.expression=e,this.names=t,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.type=r,this.useIntegerZoom=o,this.zoom=n,this.maxValue=-1/0;var a=i;this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}}),this.paintVertexArray=new a};la.prototype.defines=function(){return[]},la.prototype.setConstantPatternPositions=function(){},la.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,o=r.length;r.reserve(e);var n=this.expression.evaluate(new Jn(this.zoom),t,{}),i=this.expression.evaluate(new Jn(this.zoom+1),t,{});if("color"===this.type)for(var a=Ye(n),s=Ye(i),c=o;c<e;c++)r.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var l=o;l<e;l++)r.emplaceBack(n,i);this.maxValue=Math.max(this.maxValue,n,i)}},la.prototype.updatePaintArray=function(e,t,r,o){var n=this.paintVertexArray,i=this.expression.evaluate({zoom:this.zoom},r,o),a=this.expression.evaluate({zoom:this.zoom+1},r,o);if("color"===this.type)for(var s=Ye(i),c=Ye(a),l=e;l<t;l++)n.emplace(l,s[0],s[1],c[0],c[1]);else{for(var p=e;p<t;p++)n.emplace(p,i,a);this.maxValue=Math.max(this.maxValue,i,a)}},la.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},la.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},la.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},la.prototype.setUniforms=function(e,t,r){t.set(this.interpolationFactor(r.zoom))},la.prototype.getBinding=function(e,t){return new $i(e,t)};var pa=function(e,t,r,o,n,i,a){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.useIntegerZoom=o,this.zoom=n,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};pa.prototype.defines=function(){return[]},pa.prototype.setConstantPatternPositions=function(){},pa.prototype.populatePaintArray=function(e,t,r){var o=this.zoomInPaintVertexArray,n=this.zoomOutPaintVertexArray,i=this.layerId,a=o.length;if(o.reserve(e),n.reserve(e),r&&t.patterns&&t.patterns[i]){var s=t.patterns[i],c=s.min,l=s.mid,p=s.max,u=r[c],d=r[l],h=r[p];if(!u||!d||!h)return;for(var m=a;m<e;m++)o.emplaceBack(d.tl[0],d.tl[1],d.br[0],d.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1]),n.emplaceBack(d.tl[0],d.tl[1],d.br[0],d.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1])}},pa.prototype.updatePaintArray=function(e,t,r,o,n){var i=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(n&&r.patterns&&r.patterns[s]){var c=r.patterns[s],l=c.min,p=c.mid,u=c.max,d=n[l],h=n[p],m=n[u];if(!d||!h||!m)return;for(var y=e;y<t;y++)i.emplace(y,h.tl[0],h.tl[1],h.br[0],h.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1]),a.emplace(y,h.tl[0],h.tl[1],h.br[0],h.br[1],m.tl[0],m.tl[1],m.br[0],m.br[1])}},pa.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},pa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},pa.prototype.setUniforms=function(e,t){t.set(0)},pa.prototype.getBinding=function(e,t){return new $i(e,t)};var ua=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Ki,this._bufferOffset=0};ua.createDynamic=function(e,t,r){var o=new ua,n=[];for(var i in e.paint._values)if(r(i)){var a=e.paint.get(i);if(a instanceof ti&&K(a.property.specification)){var s=$e(i,e.type),c=a.property.specification.type,l=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)o.binders[i]=new sa(a.value.value,s,c),n.push("/u_"+i);else{var p=et(i,c,"source");o.binders[i]=new pa(a.value,s,c,l,t,p,e.id),n.push("/a_"+i)}else if("constant"===a.value.kind)o.binders[i]=new aa(a.value.value,s,c),n.push("/u_"+i);else if("source"===a.value.kind){var u=et(i,c,"source");o.binders[i]=new ca(a.value,s,c,u),n.push("/a_"+i)}else{var d=et(i,c,"composite");o.binders[i]=new la(a.value,s,c,l,t,d),n.push("/z_"+i)}}}return o.cacheKey=n.sort().join(""),o},ua.prototype.populatePaintArrays=function(e,t,r,o){for(var n in this.binders)this.binders[n].populatePaintArray(e,t,o);void 0!==t.id&&this._featureMap.add(+t.id,r,this._bufferOffset,e),this._bufferOffset=e},ua.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders)this.binders[r].setConstantPatternPositions(e,t)},ua.prototype.updatePaintArrays=function(e,t,r,o){var n=!1;for(var i in e)for(var a=0,s=this._featureMap.getPositions(+i);a<s.length;a+=1){var c=s[a],l=t.feature(c.index);for(var p in this.binders){var u=this.binders[p];if(!(u instanceof aa||u instanceof sa)&&!0===u.expression.isStateDependent){var d=r.paint.get(p);u.expression=d.value,u.updatePaintArray(c.start,c.end,l,e[i],o),n=!0}}}return n},ua.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},ua.prototype.getPaintVertexBuffers=function(){return this._buffers},ua.prototype.getUniforms=function(e,t){var r={};for(var o in this.binders)for(var n=this.binders[o],i=0,a=n.uniformNames;i<a.length;i+=1){var s=a[i];r[s]=n.getBinding(e,t[s])}return r},ua.prototype.setUniforms=function(e,t,r,o){for(var n in this.binders)for(var i=this.binders[n],a=0,s=i.uniformNames;a<s.length;a+=1){var c=s[a];i.setUniforms(e,t[c],o,r.get(n),c)}},ua.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var r in this.binders){var o=this.binders[r];if(o instanceof pa){var n=2===e.fromScale?o.zoomInPaintVertexBuffer:o.zoomOutPaintVertexBuffer;n&&t.push(n)}else(o instanceof ca||o instanceof la)&&o.paintVertexBuffer&&t.push(o.paintVertexBuffer)}this._buffers=t},ua.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var r=[];for(var o in this.binders){var n=this.binders[o];(n instanceof ca||n instanceof la)&&n.paintVertexBuffer&&r.push(n.paintVertexBuffer)}this._buffers=r},ua.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var da=function(e,t,r,o){void 0===o&&(o=function(){return!0}),this.programConfigurations={};for(var n=0,i=t;n<i.length;n+=1){var a=i[n];this.programConfigurations[a.id]=ua.createDynamic(a,r,o),this.programConfigurations[a.id].layoutAttributes=e}this.needsUpload=!1};da.prototype.populatePaintArrays=function(e,t,r,o){for(var n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,r,o);this.needsUpload=!0},da.prototype.updatePaintArrays=function(e,t,r,o){for(var n=0,i=r;n<i.length;n+=1){var a=i[n];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,t,a,o)||this.needsUpload}},da.prototype.get=function(e){return this.programConfigurations[e]},da.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},da.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Ue("ConstantBinder",aa),Ue("CrossFadedConstantBinder",sa),Ue("SourceExpressionBinder",ca),Ue("CrossFadedCompositeBinder",pa),Ue("CompositeExpressionBinder",la),Ue("ProgramConfiguration",ua,{omit:["_buffers"]}),Ue("ProgramConfigurationSet",da);var ha,ma=8192,ya=(ha=16,{min:-1*Math.pow(2,ha-1),max:Math.pow(2,ha-1)-1}),fa=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new hi,this.indexArray=new Mi,this.segments=new Ji,this.programConfigurations=new da(Zi,e.layers,e.zoom)};fa.prototype.populate=function(e,t){for(var r=0,o=e;r<o.length;r+=1){var n=o[r],i=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new Jn(this.zoom),i)){var c=tt(i);this.addFeature(i,c,a),t.featureIndex.insert(i,c,a,s,this.index)}}},fa.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},fa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},fa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fa.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zi),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},fa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},fa.prototype.addFeature=function(e,t,r){for(var o=0,n=t;o<n.length;o+=1)for(var i=0,a=n[o];i<a.length;i+=1){var s=a[i],c=s.x,l=s.y;if(!(c<0||c>=ma||l<0||l>=ma)){var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),u=p.vertexLength;rt(this.layoutVertexArray,c,l,-1,-1),rt(this.layoutVertexArray,c,l,1,-1),rt(this.layoutVertexArray,c,l,1,1),rt(this.layoutVertexArray,c,l,-1,1),this.indexArray.emplaceBack(u,u+1,u+2),this.indexArray.emplaceBack(u,u+3,u+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{})},Ue("CircleBucket",fa,{omit:["layers"]});var va={paint:new ci({"circle-radius":new ni(go.paint_circle["circle-radius"]),"circle-color":new ni(go.paint_circle["circle-color"]),"circle-blur":new ni(go.paint_circle["circle-blur"]),"circle-opacity":new ni(go.paint_circle["circle-opacity"]),"circle-translate":new oi(go.paint_circle["circle-translate"]),"circle-translate-anchor":new oi(go.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new oi(go.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new oi(go.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ni(go.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ni(go.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ni(go.paint_circle["circle-stroke-opacity"])})},ga="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;var _a,wa=gt,ba=(_a=vt(),function(e,t,r,o,n,i){var a,s;for(t||(t=3),r||(r=0),s=o?Math.min(o*t+r,e.length):e.length,a=r;a<s;a+=t)_a[0]=e[a],_a[1]=e[a+1],_a[2]=e[a+2],n(_a,_a,i),e[a]=_a[0],e[a+1]=_a[1],e[a+2]=_a[2];return e}),xa=function(){var e=St();return function(t,r,o,n,i,a){var s,c;for(r||(r=4),o||(o=0),c=n?Math.min(n*r+o,t.length):t.length,s=o;s<c;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();vt(),_t(1,0,0),_t(0,1,0),Et(),Et(),ft(),function(){var e;(e=new ga(2))[0]=0,e[1]=0}();var Sa=function(e){function t(t){e.call(this,t,va)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new fa(e)},t.prototype.queryRadius=function(e){var t=e;return ht("circle-radius",this,t)+ht("circle-stroke-width",this,t)+mt(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i,a,s){for(var c=yt(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,a),l=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),p="map"===this.paint.get("circle-pitch-alignment"),u=p?c:function(e,t,r){return e.map(function(e){return e.map(function(e){return Ct(e,t,r)})})}(c,s,i),d=p?l*a:l,h=0,m=o;h<m.length;h+=1)for(var y=0,f=m[h];y<f.length;y+=1){var v=f[y],g=p?v:Ct(v,s,i),_=d,w=Pt([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=w[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=i.cameraToCenterDistance/w[3]),ot(u,g,_))return!0}return!1},t}(li),ka=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(fa);Ue("HeatmapBucket",ka,{omit:["layers"]});var Pa=function(e,t){At(this,e,1,t)};Pa.prototype.resize=function(e){Mt(this,e,1)},Pa.prototype.clone=function(){return new Pa({width:this.width,height:this.height},new Uint8Array(this.data))},Pa.copy=function(e,t,r,o,n){Tt(e,t,r,o,n,1)};var Ea=function(e,t){At(this,e,4,t)};Ea.prototype.resize=function(e){Mt(this,e,4)},Ea.prototype.clone=function(){return new Ea({width:this.width,height:this.height},new Uint8Array(this.data))},Ea.copy=function(e,t,r,o,n){Tt(e,t,r,o,n,4)},Ue("AlphaImage",Pa),Ue("RGBAImage",Ea);var Ca={paint:new ci({"heatmap-radius":new ni(go.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ni(go.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new oi(go.paint_heatmap["heatmap-intensity"]),"heatmap-color":new si(go.paint_heatmap["heatmap-color"]),"heatmap-opacity":new oi(go.paint_heatmap["heatmap-opacity"])})},Aa=function(e){function t(t){e.call(this,t,Ca),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ka(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=zt(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(li),Ma={paint:new ci({"hillshade-illumination-direction":new oi(go.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new oi(go.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new oi(go.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new oi(go.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new oi(go.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new oi(go.paint_hillshade["hillshade-accent-color"])})},Ta=function(e){function t(t){e.call(this,t,Ma)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(li),za=Xe([{name:"a_pos",components:2,type:"Int16"}],4),Ra=za.members,Fa=(za.size,za.alignment,Rt),Ia=Rt;Rt.deviation=function(e,t,r,o){var n=t&&t.length,i=n?t[0]*r:e.length,a=Math.abs(er(e,0,i,r));if(n)for(var s=0,c=t.length;s<c;s++){var l=t[s]*r,p=s<c-1?t[s+1]*r:e.length;a-=Math.abs(er(e,l,p,r))}var u=0;for(s=0;s<o.length;s+=3){var d=o[s]*r,h=o[s+1]*r,m=o[s+2]*r;u+=Math.abs((e[d]-e[m])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[m+1]-e[d+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},Rt.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},o=0,n=0;n<e.length;n++){for(var i=0;i<e[n].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[n][i][a]);n>0&&(o+=e[n-1].length,r.holes.push(o))}return r},Fa.default=Ia;var Na=tr,Ba=tr;Na.default=Ba;var Oa=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new hi,this.indexArray=new Mi,this.indexArray2=new Ti,this.programConfigurations=new da(Ra,e.layers,e.zoom),this.segments=new Ji,this.segments2=new Ji};Oa.prototype.populate=function(e,t){this.features=[],this.hasPattern=ar("fill",this.layers,t);for(var r=0,o=e;r<o.length;r+=1){var n=o[r],i=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new Jn(this.zoom),i)){var c=tt(i),l={sourceLayerIndex:s,index:a,geometry:c,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(l.id=i.id),this.hasPattern?this.features.push(sr("fill",this.layers,l,this.zoom,t)):this.addFeature(l,c,a,{}),t.featureIndex.insert(i,c,a,s,this.index)}}},Oa.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Oa.prototype.addFeatures=function(e,t){for(var r=0,o=this.features;r<o.length;r+=1){var n=o[r],i=n.geometry;this.addFeature(n,i,n.index,t)}},Oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Oa.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ra),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},Oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Oa.prototype.addFeature=function(e,t,r,o){for(var n=0,i=nr(t,500);n<i.length;n+=1){for(var a=i[n],s=0,c=0,l=a;c<l.length;c+=1)s+=l[c].length;for(var p=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),u=p.vertexLength,d=[],h=[],m=0,y=a;m<y.length;m+=1){var f=y[m];if(0!==f.length){f!==a[0]&&h.push(d.length/2);var v=this.segments2.prepareSegment(f.length,this.layoutVertexArray,this.indexArray2),g=v.vertexLength;this.layoutVertexArray.emplaceBack(f[0].x,f[0].y),this.indexArray2.emplaceBack(g+f.length-1,g),d.push(f[0].x),d.push(f[0].y);for(var _=1;_<f.length;_++)this.layoutVertexArray.emplaceBack(f[_].x,f[_].y),this.indexArray2.emplaceBack(g+_-1,g+_),d.push(f[_].x),d.push(f[_].y);v.vertexLength+=f.length,v.primitiveLength+=f.length}}for(var w=Fa(d,h),b=0;b<w.length;b+=3)this.indexArray.emplaceBack(u+w[b],u+w[b+1],u+w[b+2]);p.vertexLength+=s,p.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,o)},Ue("FillBucket",Oa,{omit:["layers","features"]});var ja={paint:new ci({"fill-antialias":new oi(go.paint_fill["fill-antialias"]),"fill-opacity":new ni(go.paint_fill["fill-opacity"]),"fill-color":new ni(go.paint_fill["fill-color"]),"fill-outline-color":new ni(go.paint_fill["fill-outline-color"]),"fill-translate":new oi(go.paint_fill["fill-translate"]),"fill-translate-anchor":new oi(go.paint_fill["fill-translate-anchor"]),"fill-pattern":new ii(go.paint_fill["fill-pattern"])})},Da=function(e){function t(t){e.call(this,t,ja)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new Oa(e)},t.prototype.queryRadius=function(){return mt(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i,a){return nt(yt(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,a),o)},t}(li),La=Xe([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ua=La.members,qa=(La.size,La.alignment,Math.pow(2,13)),Va=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new yi,this.indexArray=new Mi,this.programConfigurations=new da(Ua,e.layers,e.zoom),this.segments=new Ji};Va.prototype.populate=function(e,t){this.features=[],this.hasPattern=ar("fill-extrusion",this.layers,t);for(var r=0,o=e;r<o.length;r+=1){var n=o[r],i=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new Jn(this.zoom),i)){var c=tt(i),l={sourceLayerIndex:s,index:a,geometry:c,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(l.id=i.id),this.hasPattern?this.features.push(sr("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,c,a,{}),t.featureIndex.insert(i,c,a,s,this.index)}}},Va.prototype.addFeatures=function(e,t){for(var r=0,o=this.features;r<o.length;r+=1){var n=o[r],i=n.geometry;this.addFeature(n,i,n.index,t)}},Va.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Va.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ua),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Va.prototype.addFeature=function(e,t,r,o){for(var n=0,i=nr(t,500);n<i.length;n+=1){for(var a=i[n],s=0,c=0,l=a;c<l.length;c+=1)s+=l[c].length;for(var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),u=0,d=a;u<d.length;u+=1){var h=d[u];if(0!==h.length&&!pr(h))for(var m=0,y=0;y<h.length;y++){var f=h[y];if(y>=1){var v=h[y-1];if(!lr(f,v)){p.vertexLength+4>Ji.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var g=f.sub(v)._perp()._unit(),_=v.dist(f);m+_>32768&&(m=0),cr(this.layoutVertexArray,f.x,f.y,g.x,g.y,0,0,m),cr(this.layoutVertexArray,f.x,f.y,g.x,g.y,0,1,m),m+=_,cr(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,0,m),cr(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,1,m);var w=p.vertexLength;this.indexArray.emplaceBack(w,w+1,w+2),this.indexArray.emplaceBack(w+1,w+2,w+3),p.vertexLength+=4,p.primitiveLength+=2}}}}p.vertexLength+s>Ji.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray));for(var b=[],x=[],S=p.vertexLength,k=0,P=a;k<P.length;k+=1){var E=P[k];if(0!==E.length){E!==a[0]&&x.push(b.length/2);for(var C=0;C<E.length;C++){var A=E[C];cr(this.layoutVertexArray,A.x,A.y,0,0,1,1,0),b.push(A.x),b.push(A.y)}}}for(var M=Fa(b,x),T=0;T<M.length;T+=3)this.indexArray.emplaceBack(S+M[T],S+M[T+1],S+M[T+2]);p.primitiveLength+=M.length/3,p.vertexLength+=s}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,o)},Ue("FillExtrusionBucket",Va,{omit:["layers","features"]});var Wa={paint:new ci({"fill-extrusion-opacity":new oi(go["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ni(go["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new oi(go["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new oi(go["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ii(go["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ni(go["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ni(go["paint_fill-extrusion"]["fill-extrusion-base"])})},Ha=function(e){function t(t){e.call(this,t,Wa)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Va(e)},t.prototype.queryRadius=function(){return mt(this.paint.get("fill-extrusion-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i,a){return nt(yt(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i.angle,a),o)},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},t.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},t}(li),Ga=Xe([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Za=Ga.members,Ja=(Ga.size,Ga.alignment,ur);ur.types=["Unknown","Point","LineString","Polygon"],ur.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,o=1,n=0,i=0,a=0,s=[];e.pos<r;){if(n<=0){var c=e.readVarint();o=7&c,n=c>>3}if(n--,1===o||2===o)i+=e.readSVarint(),a+=e.readSVarint(),1===o&&(t&&s.push(t),t=[]),t.push(new ro(i,a));else{if(7!==o)throw new Error("unknown command "+o);t&&t.push(t[0].clone())}}return t&&s.push(t),s},ur.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,o=0,n=0,i=0,a=1/0,s=-1/0,c=1/0,l=-1/0;e.pos<t;){if(o<=0){var p=e.readVarint();r=7&p,o=p>>3}if(o--,1===r||2===r)(n+=e.readSVarint())<a&&(a=n),n>s&&(s=n),(i+=e.readSVarint())<c&&(c=i),i>l&&(l=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,c,s,l]},ur.prototype.toGeoJSON=function(e,t,r){function o(e){for(var t=0;t<e.length;t++){var r=e[t],o=180-360*(r.y+c)/a;e[t]=[360*(r.x+s)/a-180,360/Math.PI*Math.atan(Math.exp(o*Math.PI/180))-90]}}var n,i,a=this.extent*Math.pow(2,r),s=this.extent*e,c=this.extent*t,l=this.loadGeometry(),p=ur.types[this.type];switch(this.type){case 1:var u=[];for(n=0;n<l.length;n++)u[n]=l[n][0];o(l=u);break;case 2:for(n=0;n<l.length;n++)o(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,o,n=[],i=0;i<t;i++){var a=hr(e[i]);0!==a&&(void 0===o&&(o=a<0),o===a<0?(r&&n.push(r),r=[e[i]]):r.push(e[i]))}return r&&n.push(r),n}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)o(l[n][i])}1===l.length?l=l[0]:p="Multi"+p;var d={type:"Feature",geometry:{type:p,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Xa=mr;mr.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Ja(this._pbf,t,this.extent,this._keys,this._values)};var Ka={VectorTile:function(e,t){this.layers=e.readFields(fr,{},t)},VectorTileFeature:Ja,VectorTileLayer:Xa},Qa=Ka.VectorTileFeature.types,Ya=63,$a=Math.cos(Math.PI/180*37.5),es=.5,ts=Math.pow(2,14)/es,rs=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new fi,this.indexArray=new Mi,this.programConfigurations=new da(Za,e.layers,e.zoom),this.segments=new Ji};rs.prototype.populate=function(e,t){this.features=[],this.hasPattern=ar("line",this.layers,t);for(var r=0,o=e;r<o.length;r+=1){var n=o[r],i=n.feature,a=n.index,s=n.sourceLayerIndex;if(this.layers[0]._featureFilter(new Jn(this.zoom),i)){var c=tt(i),l={sourceLayerIndex:s,index:a,geometry:c,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(l.id=i.id),this.hasPattern?this.features.push(sr("line",this.layers,l,this.zoom,t)):this.addFeature(l,c,a,{}),t.featureIndex.insert(i,c,a,s,this.index)}}},rs.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},rs.prototype.addFeatures=function(e,t){for(var r=0,o=this.features;r<o.length;r+=1){var n=o[r],i=n.geometry;this.addFeature(n,i,n.index,t)}},rs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},rs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},rs.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Za),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},rs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},rs.prototype.addFeature=function(e,t,r,o){for(var n=this.layers[0].layout,i=n.get("line-join").evaluate(e,{}),a=n.get("line-cap"),s=n.get("line-miter-limit"),c=n.get("line-round-limit"),l=0,p=t;l<p.length;l+=1){var u=p[l];this.addLine(u,e,i,a,s,c,r,o)}},rs.prototype.addLine=function(e,t,r,o,n,i,a,s){var c=null;t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")&&(c={start:t.properties.mapbox_clip_start,end:t.properties.mapbox_clip_end,tileTotal:void 0});for(var l="Polygon"===Qa[t.type],p=e.length;p>=2&&e[p-1].equals(e[p-2]);)p--;for(var u=0;u<p-1&&e[u].equals(e[u+1]);)u++;if(!(p<(l?3:2))){c&&(c.tileTotal=function(e,t,r){for(var o,n,i=0,a=t;a<r-1;a++)o=e[a],n=e[a+1],i+=o.dist(n);return i}(e,u,p)),"bevel"===r&&(n=1.05);var d=ma/(512*this.overscaling)*15,h=e[u],m=this.segments.prepareSegment(10*p,this.layoutVertexArray,this.indexArray);this.distance=0;var y,f,v,g=o,_=l?"butt":o,w=!0,b=void 0,x=void 0,S=void 0,k=void 0;this.e1=this.e2=this.e3=-1,l&&(y=e[p-2],k=h.sub(y)._unit()._perp());for(var P=u;P<p;P++)if(!(x=l&&P===p-1?e[u+1]:e[P+1])||!e[P].equals(x)){k&&(S=k),y&&(b=y),y=e[P],k=x?x.sub(y)._unit()._perp():S;var E=(S=S||k).add(k);0===E.x&&0===E.y||E._unit();var C=E.x*k.x+E.y*k.y,A=0!==C?1/C:1/0,M=C<$a&&b&&x;if(M&&P>u){var T=y.dist(b);if(T>2*d){var z=y.sub(y.sub(b)._mult(d/T)._round());this.distance+=z.dist(b),this.addCurrentVertex(z,this.distance,S.mult(1),0,0,!1,m,c),b=z}}var R=b&&x,F=R?r:x?g:_;if(R&&"round"===F&&(A<i?F="miter":A<=2&&(F="fakeround")),"miter"===F&&A>n&&(F="bevel"),"bevel"===F&&(A>2&&(F="flipbevel"),A<n&&(F="miter")),b&&(this.distance+=y.dist(b)),"miter"===F)E._mult(A),this.addCurrentVertex(y,this.distance,E,0,0,!1,m,c);else if("flipbevel"===F){if(A>100)E=k.clone().mult(-1);else{var I=S.x*k.y-S.y*k.x>0?-1:1,N=A*S.add(k).mag()/S.sub(k).mag();E._perp()._mult(N*I)}this.addCurrentVertex(y,this.distance,E,0,0,!1,m,c),this.addCurrentVertex(y,this.distance,E.mult(-1),0,0,!1,m,c)}else if("bevel"===F||"fakeround"===F){var B=S.x*k.y-S.y*k.x>0,O=-Math.sqrt(A*A-1);if(B?(v=0,f=O):(f=0,v=O),w||this.addCurrentVertex(y,this.distance,S,f,v,!1,m,c),"fakeround"===F){for(var j=Math.floor(8*(.5-(C-.5))),D=void 0,L=0;L<j;L++)D=k.mult((L+1)/(j+1))._add(S)._unit(),this.addPieSliceVertex(y,this.distance,D,B,m,c);this.addPieSliceVertex(y,this.distance,E,B,m,c);for(var U=j-1;U>=0;U--)D=S.mult((U+1)/(j+1))._add(k)._unit(),this.addPieSliceVertex(y,this.distance,D,B,m,c)}x&&this.addCurrentVertex(y,this.distance,k,-f,-v,!1,m,c)}else"butt"===F?(w||this.addCurrentVertex(y,this.distance,S,0,0,!1,m,c),x&&this.addCurrentVertex(y,this.distance,k,0,0,!1,m,c)):"square"===F?(w||(this.addCurrentVertex(y,this.distance,S,1,1,!1,m,c),this.e1=this.e2=-1),x&&this.addCurrentVertex(y,this.distance,k,-1,-1,!1,m,c)):"round"===F&&(w||(this.addCurrentVertex(y,this.distance,S,0,0,!1,m,c),this.addCurrentVertex(y,this.distance,S,1,1,!0,m,c),this.e1=this.e2=-1),x&&(this.addCurrentVertex(y,this.distance,k,-1,-1,!0,m,c),this.addCurrentVertex(y,this.distance,k,0,0,!1,m,c)));if(M&&P<p-1){var q=y.dist(x);if(q>2*d){var V=y.add(x.sub(y)._mult(d/q)._round());this.distance+=V.dist(y),this.addCurrentVertex(V,this.distance,k.mult(1),0,0,!1,m,c),y=V}}w=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,a,s)}},rs.prototype.addCurrentVertex=function(e,t,r,o,n,i,a,s){var c,l=this.layoutVertexArray,p=this.indexArray;s&&(t=gr(t,s)),c=r.clone(),o&&c._sub(r.perp()._mult(o)),vr(l,e,c,i,!1,o,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,c=r.mult(-1),n&&c._sub(r.perp()._mult(n)),vr(l,e,c,i,!0,-n,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>ts/2&&!s&&(this.distance=0,this.addCurrentVertex(e,this.distance,r,o,n,i,a))},rs.prototype.addPieSliceVertex=function(e,t,r,o,n,i){r=r.mult(o?-1:1);var a=this.layoutVertexArray,s=this.indexArray;i&&(t=gr(t,i)),vr(a,e,r,!1,o,0,t),this.e3=n.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),n.primitiveLength++),o?this.e2=this.e3:this.e1=this.e3},Ue("LineBucket",rs,{omit:["layers","features"]});var os=new ci({"line-cap":new oi(go.layout_line["line-cap"]),"line-join":new ni(go.layout_line["line-join"]),"line-miter-limit":new oi(go.layout_line["line-miter-limit"]),"line-round-limit":new oi(go.layout_line["line-round-limit"])}),ns={paint:new ci({"line-opacity":new ni(go.paint_line["line-opacity"]),"line-color":new ni(go.paint_line["line-color"]),"line-translate":new oi(go.paint_line["line-translate"]),"line-translate-anchor":new oi(go.paint_line["line-translate-anchor"]),"line-width":new ni(go.paint_line["line-width"]),"line-gap-width":new ni(go.paint_line["line-gap-width"]),"line-offset":new ni(go.paint_line["line-offset"]),"line-blur":new ni(go.paint_line["line-blur"]),"line-dasharray":new ai(go.paint_line["line-dasharray"]),"line-pattern":new ii(go.paint_line["line-pattern"]),"line-gradient":new si(go.paint_line["line-gradient"])}),layout:os},is=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new Jn(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,o,n){return r=s({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,o,n)},t}(ni))(ns.paint.properties["line-width"].specification);is.useIntegerZoom=!0;var as=function(e){function t(t){e.call(this,t,ns)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=zt(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=is.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new rs(e)},t.prototype.queryRadius=function(e){var t=e,r=_r(ht("line-width",this,t),ht("line-gap-width",this,t)),o=ht("line-offset",this,t);return r/2+Math.abs(o)+mt(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,o,n,i,a){var s=yt(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i.angle,a),c=a/2*_r(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),l=this.paint.get("line-offset").evaluate(t,r);return l&&(o=function(e,t){for(var r=[],o=new ro(0,0),n=0;n<e.length;n++){for(var i=e[n],a=[],s=0;s<i.length;s++){var c=i[s-1],l=i[s],p=i[s+1],u=0===s?o:l.sub(c)._unit()._perp(),d=s===i.length-1?o:p.sub(l)._unit()._perp(),h=u._add(d)._unit(),m=h.x*d.x+h.y*d.y;h._mult(1/m),a.push(h._mult(t)._add(l))}r.push(a)}return r}(o,l*a)),it(s,o,c)},t}(li),ss=Xe([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),cs=Xe([{name:"a_projected_pos",components:3,type:"Float32"}],4),ls=(Xe([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Xe([{name:"a_placed",components:2,type:"Uint8"}],4)),ps=(Xe([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Xe([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),us=Xe([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);Xe([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),Xe([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"horizontalPlacedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"}]),Xe([{type:"Float32",name:"offsetX"}]),Xe([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ds={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},hs=function(e){function t(t,r,o,n){e.call(this,t,r),this.angle=o,void 0!==n&&(this.segment=n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(ro);Ue("Anchor",hs);var ms=Ka.VectorTileFeature.types,ys=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],fs=function(e){this.layoutVertexArray=new gi,this.indexArray=new Mi,this.programConfigurations=e,this.segments=new Ji,this.dynamicLayoutVertexArray=new _i,this.opacityVertexArray=new wi,this.placedSymbolArray=new Oi};fs.prototype.upload=function(e,t,r,o){r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ss.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,cs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ys,!0),this.opacityVertexBuffer.itemSize=1),(r||o)&&this.programConfigurations.upload(e)},fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ue("SymbolBuffers",fs);var vs=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new Ji,this.collisionVertexArray=new Si};vs.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,ls.members,!0)},vs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ue("CollisionBuffers",vs);var gs=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=xr(this.zoom,t["text-size"]),this.iconSizeData=xr(this.zoom,t["icon-size"]);var r=this.layers[0].layout,o="viewport-y"===r.get("symbol-z-order");this.sortFeaturesByY=o&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),this.sourceID=e.sourceID};gs.prototype.createArrays=function(){this.text=new fs(new da(ss.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new fs(new da(ss.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new vs(xi,ps.members,Ti),this.collisionCircle=new vs(xi,us.members,Mi),this.glyphOffsetArray=new Ui,this.lineVertexArray=new Vi,this.symbolInstances=new Di},gs.prototype.calculateGlyphDependencies=function(e,t,r,o){for(var n=0;n<e.length;n++)if(t[e.charCodeAt(n)]=!0,r&&o){var i=ds[e.charAt(n)];i&&(t[i.charCodeAt(0)]=!0)}},gs.prototype.populate=function(e,t){var r=this.layers[0],o=r.layout,n=o.get("text-font"),i=o.get("text-field"),a=o.get("icon-image"),s=("constant"!==i.value.kind||i.value.value.toString().length>0)&&("constant"!==n.value.kind||n.value.value.length>0),c="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||c){for(var l=t.iconDependencies,p=t.glyphDependencies,u=new Jn(this.zoom),d=0,h=e;d<h.length;d+=1){var m=h[d],y=m.feature,f=m.index,v=m.sourceLayerIndex;if(r._featureFilter(u,y)){var g=void 0;s&&(g=br(g=r.getValueAndResolveTokens("text-field",y),r,y));var _=void 0;if(c&&(_=r.getValueAndResolveTokens("icon-image",y)),g||_){var w={text:g,icon:_,index:f,sourceLayerIndex:v,geometry:tt(y),properties:y.properties,type:ms[y.type]};if(void 0!==y.id&&(w.id=y.id),this.features.push(w),_&&(l[_]=!0),g){var b=n.evaluate(y,{}).join(","),x=p[b]=p[b]||{},S="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");if(g instanceof Oo)for(var k=0,P=g.sections;k<P.length;k+=1){var E=P[k],C=We(g.toString()),A=E.fontStack||b,M=p[A]=p[A]||{};this.calculateGlyphDependencies(E.text,M,S,C)}else{var T=We(g);this.calculateGlyphDependencies(g,x,S,T)}}}}}"line"===o.get("symbol-placement")&&(this.features=function(e){function t(t){s.push(e[t]),c++}function r(e,t,r){var o=a[e];return delete a[e],a[t]=o,s[o].geometry[0].pop(),s[o].geometry[0]=s[o].geometry[0].concat(r[0]),o}function o(e,t,r){var o=i[t];return delete i[t],i[e]=o,s[o].geometry[0].shift(),s[o].geometry[0]=r[0].concat(s[o].geometry[0]),o}function n(e,t,r){var o=r?t[0][t[0].length-1]:t[0][0];return e+":"+o.x+":"+o.y}for(var i={},a={},s=[],c=0,l=0;l<e.length;l++){var p=e[l],u=p.geometry,d=p.text instanceof Oo?p.text.toString():p.text;if(d){var h=n(d,u),m=n(d,u,!0);if(h in a&&m in i&&a[h]!==i[m]){var y=o(h,m,u),f=r(h,m,s[y].geometry);delete i[h],delete a[m],a[n(d,s[f].geometry,!0)]=f,s[y].geometry=null}else h in a?r(h,m,u):m in i?o(h,m,u):(t(l),i[h]=c-1,a[m]=c-1)}else t(l)}return s.filter(function(e){return e.geometry})}(this.features))}},gs.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},gs.prototype.isEmpty=function(){return 0===this.symbolInstances.length},gs.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},gs.prototype.upload=function(e){this.uploaded||(this.collisionBox.upload(e),this.collisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},gs.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},gs.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var o=e.dist(t[e.segment+1]),n=e.dist(t[e.segment]),i={},a=e.segment+1;a<t.length;a++)i[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:o},a<t.length-1&&(o+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)i[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:n},s>0&&(n+=t[s-1].dist(t[s]));for(var c=0;c<t.length;c++){var l=i[c];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},gs.prototype.addSymbols=function(e,t,r,o,n,i,a,s,c,l){for(var p=e.indexArray,u=e.layoutVertexArray,d=e.dynamicLayoutVertexArray,h=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray),m=this.glyphOffsetArray.length,y=h.vertexLength,f=0,v=t;f<v.length;f+=1){var g=v[f],_=g.tl,w=g.tr,b=g.bl,x=g.br,S=g.tex,k=h.vertexLength,P=g.glyphOffset[1];Sr(u,s.x,s.y,_.x,P+_.y,S.x,S.y,r),Sr(u,s.x,s.y,w.x,P+w.y,S.x+S.w,S.y,r),Sr(u,s.x,s.y,b.x,P+b.y,S.x,S.y+S.h,r),Sr(u,s.x,s.y,x.x,P+x.y,S.x+S.w,S.y+S.h,r),kr(d,s,0),p.emplaceBack(k,k+1,k+2),p.emplaceBack(k+1,k+2,k+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(g.glyphOffset[0])}e.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,y,c,l,s.segment,r?r[0]:0,r?r[1]:0,o[0],o[1],a,!1),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{})},gs.prototype._addCollisionDebugVertex=function(e,t,r,o,n,i){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,o,n,Math.round(i.x),Math.round(i.y))},gs.prototype.addCollisionDebugVertices=function(e,t,r,o,n,i,a,s){var c=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=c.vertexLength,p=n.layoutVertexArray,u=n.collisionVertexArray,d=a.anchorX,h=a.anchorY;if(this._addCollisionDebugVertex(p,u,i,d,h,new ro(e,t)),this._addCollisionDebugVertex(p,u,i,d,h,new ro(r,t)),this._addCollisionDebugVertex(p,u,i,d,h,new ro(r,o)),this._addCollisionDebugVertex(p,u,i,d,h,new ro(e,o)),c.vertexLength+=4,s){var m=n.indexArray;m.emplaceBack(l,l+1,l+2),m.emplaceBack(l,l+2,l+3),c.primitiveLength+=2}else{var y=n.indexArray;y.emplaceBack(l,l+1),y.emplaceBack(l+1,l+2),y.emplaceBack(l+2,l+3),y.emplaceBack(l+3,l),c.primitiveLength+=4}},gs.prototype.addDebugCollisionBoxes=function(e,t,r){for(var o=e;o<t;o++){var n=this.collisionBoxArray.get(o),i=n.x1,a=n.y1,s=n.x2,c=n.y2,l=n.radius>0;this.addCollisionDebugVertices(i,a,s,c,l?this.collisionCircle:this.collisionBox,n.anchorPoint,r,l)}},gs.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t)}},gs.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,o,n){for(var i={},a=t;a<r;a++){var s=e.get(a);if(0===s.radius){i.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},i.textFeatureIndex=s.featureIndex;break}i.textCircles||(i.textCircles=[],i.textFeatureIndex=s.featureIndex),i.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var c=o;c<n;c++){var l=e.get(c);if(0===l.radius){i.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},i.iconFeatureIndex=l.featureIndex;break}}return i},gs.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex))}},gs.prototype.hasTextData=function(){return this.text.segments.get().length>0},gs.prototype.hasIconData=function(){return this.icon.segments.get().length>0},gs.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},gs.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},gs.prototype.addIndicesForPlacedTextSymbol=function(e){for(var t=this.text.placedSymbolArray.get(e),r=t.vertexStartIndex+4*t.numGlyphs,o=t.vertexStartIndex;o<r;o+=4)this.text.indexArray.emplaceBack(o,o+1,o+2),this.text.indexArray.emplaceBack(o+1,o+2,o+3)},gs.prototype.sortFeatures=function(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var t=[],r=0;r<this.symbolInstances.length;r++)t.push(r);for(var o=Math.sin(e),n=Math.cos(e),i=[],a=[],s=0;s<this.symbolInstances.length;s++){var c=this.symbolInstances.get(s);i.push(0|Math.round(o*c.anchorX+n*c.anchorY)),a.push(c.featureIndex)}t.sort(function(e,t){return i[e]-i[t]||a[t]-a[e]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var l=0,p=t;l<p.length;l+=1){var u=p[l],d=this.symbolInstances.get(u);this.featureSortOrder.push(d.featureIndex),d.horizontalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(d.horizontalPlacedTextSymbolIndex),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(d.verticalPlacedTextSymbolIndex);var h=this.icon.placedSymbolArray.get(u);if(h.numGlyphs){var m=h.vertexStartIndex;this.icon.indexArray.emplaceBack(m,m+1,m+2),this.icon.indexArray.emplaceBack(m+1,m+2,m+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ue("SymbolBucket",gs,{omit:["layers","collisionBoxArray","features","compareText"]}),gs.MAX_GLYPHS=65535,gs.addDynamicAttributes=kr;var _s=new ci({"symbol-placement":new oi(go.layout_symbol["symbol-placement"]),"symbol-spacing":new oi(go.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new oi(go.layout_symbol["symbol-avoid-edges"]),"symbol-z-order":new oi(go.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new oi(go.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new oi(go.layout_symbol["icon-ignore-placement"]),"icon-optional":new oi(go.layout_symbol["icon-optional"]),"icon-rotation-alignment":new oi(go.layout_symbol["icon-rotation-alignment"]),"icon-size":new ni(go.layout_symbol["icon-size"]),"icon-text-fit":new oi(go.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new oi(go.layout_symbol["icon-text-fit-padding"]),"icon-image":new ni(go.layout_symbol["icon-image"]),"icon-rotate":new ni(go.layout_symbol["icon-rotate"]),"icon-padding":new oi(go.layout_symbol["icon-padding"]),"icon-keep-upright":new oi(go.layout_symbol["icon-keep-upright"]),"icon-offset":new ni(go.layout_symbol["icon-offset"]),"icon-anchor":new ni(go.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new oi(go.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new oi(go.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new oi(go.layout_symbol["text-rotation-alignment"]),"text-field":new ni(go.layout_symbol["text-field"]),"text-font":new ni(go.layout_symbol["text-font"]),"text-size":new ni(go.layout_symbol["text-size"]),"text-max-width":new ni(go.layout_symbol["text-max-width"]),"text-line-height":new oi(go.layout_symbol["text-line-height"]),"text-letter-spacing":new ni(go.layout_symbol["text-letter-spacing"]),"text-justify":new ni(go.layout_symbol["text-justify"]),"text-anchor":new ni(go.layout_symbol["text-anchor"]),"text-max-angle":new oi(go.layout_symbol["text-max-angle"]),"text-rotate":new ni(go.layout_symbol["text-rotate"]),"text-padding":new oi(go.layout_symbol["text-padding"]),"text-keep-upright":new oi(go.layout_symbol["text-keep-upright"]),"text-transform":new ni(go.layout_symbol["text-transform"]),"text-offset":new ni(go.layout_symbol["text-offset"]),"text-allow-overlap":new oi(go.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new oi(go.layout_symbol["text-ignore-placement"]),"text-optional":new oi(go.layout_symbol["text-optional"])}),ws={paint:new ci({"icon-opacity":new ni(go.paint_symbol["icon-opacity"]),"icon-color":new ni(go.paint_symbol["icon-color"]),"icon-halo-color":new ni(go.paint_symbol["icon-halo-color"]),"icon-halo-width":new ni(go.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ni(go.paint_symbol["icon-halo-blur"]),"icon-translate":new oi(go.paint_symbol["icon-translate"]),"icon-translate-anchor":new oi(go.paint_symbol["icon-translate-anchor"]),"text-opacity":new ni(go.paint_symbol["text-opacity"]),"text-color":new ni(go.paint_symbol["text-color"]),"text-halo-color":new ni(go.paint_symbol["text-halo-color"]),"text-halo-width":new ni(go.paint_symbol["text-halo-width"]),"text-halo-blur":new ni(go.paint_symbol["text-halo-blur"]),"text-translate":new oi(go.paint_symbol["text-translate"]),"text-translate-anchor":new oi(go.paint_symbol["text-translate-anchor"])}),layout:_s},bs=function(e){function t(t){e.call(this,t,ws)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var r,o=this.layout.get(e).evaluate(t,{}),n=this._unevaluatedLayout._values[e];return n.isDataDriven()||ce(n.value)?o:(r=t.properties,o.replace(/{([^{}]+)}/g,function(e,t){return t in r?String(r[t]):""}))},t.prototype.createBucket=function(e){return new gs(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(li),xs={paint:new ci({"background-color":new oi(go.paint_background["background-color"]),"background-pattern":new ai(go.paint_background["background-pattern"]),"background-opacity":new oi(go.paint_background["background-opacity"])})},Ss=function(e){function t(t){e.call(this,t,xs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(li),ks={paint:new ci({"raster-opacity":new oi(go.paint_raster["raster-opacity"]),"raster-hue-rotate":new oi(go.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new oi(go.paint_raster["raster-brightness-min"]),"raster-brightness-max":new oi(go.paint_raster["raster-brightness-max"]),"raster-saturation":new oi(go.paint_raster["raster-saturation"]),"raster-contrast":new oi(go.paint_raster["raster-contrast"]),"raster-resampling":new oi(go.paint_raster["raster-resampling"]),"raster-fade-duration":new oi(go.paint_raster["raster-fade-duration"])})},Ps={circle:Sa,heatmap:Aa,hillshade:Ta,fill:Da,"fill-extrusion":Ha,line:as,symbol:bs,background:Ss,raster:function(e){function t(t){e.call(this,t,ks)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(li)},Es=function(e,t){var r=t.pixelRatio;this.paddedRect=e,this.pixelRatio=r},Cs={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Cs.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Cs.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Cs.tlbr.get=function(){return this.tl.concat(this.br)},Cs.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Es.prototype,Cs);var As=function(e,t){var r={},o={},n=[];for(var i in e){var a=e[i],s={x:0,y:0,w:a.data.width+2,h:a.data.height+2};n.push(s),r[i]=new Es(s,a)}for(var c in t){var l=t[c],p={x:0,y:0,w:l.data.width+2,h:l.data.height+2};n.push(p),o[c]=new Es(p,l)}var u=Pr(n),d=u.w,h=u.h,m=new Ea({width:d||1,height:h||1});for(var y in e){var f=e[y],v=r[y].paddedRect;Ea.copy(f.data,m,{x:0,y:0},{x:v.x+1,y:v.y+1},f.data)}for(var g in t){var _=t[g],w=o[g].paddedRect,b=w.x+1,x=w.y+1,S=_.data.width,k=_.data.height;Ea.copy(_.data,m,{x:0,y:0},{x:b,y:x},_.data),Ea.copy(_.data,m,{x:0,y:k-1},{x:b,y:x-1},{width:S,height:1}),Ea.copy(_.data,m,{x:0,y:0},{x:b,y:x+k},{width:S,height:1}),Ea.copy(_.data,m,{x:S-1,y:0},{x:b-1,y:x},{width:1,height:k}),Ea.copy(_.data,m,{x:0,y:0},{x:b+S,y:x},{width:1,height:k})}this.image=m,this.iconPositions=r,this.patternPositions=o};Ue("ImagePosition",Es),Ue("ImageAtlas",As);var Ms=self.HTMLImageElement,Ts=self.HTMLCanvasElement,zs=self.HTMLVideoElement,Rs=self.ImageData,Fs=function(e,t,r,o){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,o)};Fs.prototype.update=function(e,t){var r=e.width,o=e.height,n=!this.size||this.size[0]!==r||this.size[1]!==o,i=this.context,a=i.gl;this.useMipmap=Boolean(t&&t.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),n?(this.size=[r,o],i.pixelStoreUnpack.set(1),this.format!==a.RGBA||t&&!1===t.premultiply||i.pixelStoreUnpackPremultiplyAlpha.set(!0),e instanceof Ms||e instanceof Ts||e instanceof zs||e instanceof Rs?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,e):a.texImage2D(a.TEXTURE_2D,0,this.format,r,o,0,this.format,a.UNSIGNED_BYTE,e.data)):e instanceof Ms||e instanceof Ts||e instanceof zs||e instanceof Rs?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,e):a.texSubImage2D(a.TEXTURE_2D,0,0,0,r,o,a.RGBA,a.UNSIGNED_BYTE,e.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},Fs.prototype.bind=function(e,t,r){var o=this.context.gl;o.bindTexture(o.TEXTURE_2D,this.texture),r!==o.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=o.LINEAR),e!==this.filter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,t),this.wrap=t)},Fs.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Fs.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Is=function(e,t,r,o,n){var i,a,s=8*n-o-1,c=(1<<s)-1,l=c>>1,p=-7,u=r?n-1:0,d=r?-1:1,h=e[t+u];for(u+=d,i=h&(1<<-p)-1,h>>=-p,p+=s;p>0;i=256*i+e[t+u],u+=d,p-=8);for(a=i&(1<<-p)-1,i>>=-p,p+=o;p>0;a=256*a+e[t+u],u+=d,p-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),i-=l}return(h?-1:1)*a*Math.pow(2,i-o)},Ns=function(e,t,r,o,n,i){var a,s,c,l=8*i-n-1,p=(1<<l)-1,u=p>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:i-1,m=o?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+u>=1?d/c:d*Math.pow(2,1-u))*c>=2&&(a++,c/=2),a+u>=p?(s=0,a=p):a+u>=1?(s=(t*c-1)*Math.pow(2,n),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;e[r+h]=255&s,h+=m,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;e[r+h]=255&a,h+=m,a/=256,l-=8);e[r+h-m]|=128*y},Bs=Er;Er.Varint=0,Er.Fixed64=1,Er.Bytes=2,Er.Fixed32=5,Er.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var o=this.readVarint(),n=o>>3,i=this.pos;this.type=7&o,e(n,t,this),this.pos===i&&this.skip(o)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Dr(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Ur(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Dr(this.buf,this.pos)+4294967296*Dr(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=Dr(this.buf,this.pos)+4294967296*Ur(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Is(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Is(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,o=this.buf;return t=127&(r=o[this.pos++]),r<128?t:(t|=(127&(r=o[this.pos++]))<<7,r<128?t:(t|=(127&(r=o[this.pos++]))<<14,r<128?t:(t|=(127&(r=o[this.pos++]))<<21,r<128?t:function(e,t,r){var o,n,i=r.buf;if(n=i[r.pos++],o=(112&n)>>4,n<128)return Ar(e,o,t);if(n=i[r.pos++],o|=(127&n)<<3,n<128)return Ar(e,o,t);if(n=i[r.pos++],o|=(127&n)<<10,n<128)return Ar(e,o,t);if(n=i[r.pos++],o|=(127&n)<<17,n<128)return Ar(e,o,t);if(n=i[r.pos++],o|=(127&n)<<24,n<128)return Ar(e,o,t);if(n=i[r.pos++],o|=(1&n)<<31,n<128)return Ar(e,o,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=o[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,r){for(var o="",n=t;n<r;){var i,a,s,c=e[n],l=null,p=c>239?4:c>223?3:c>191?2:1;if(n+p>r)break;1===p?c<128&&(l=c):2===p?128==(192&(i=e[n+1]))&&(l=(31&c)<<6|63&i)<=127&&(l=null):3===p?(i=e[n+1],a=e[n+2],128==(192&i)&&128==(192&a)&&((l=(15&c)<<12|(63&i)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===p&&(i=e[n+1],a=e[n+2],s=e[n+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,p=1):l>65535&&(l-=65536,o+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),o+=String.fromCharCode(l),n+=p}return o}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var r=Cr(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=Cr(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Er.Varint)for(;this.buf[this.pos++]>127;);else if(t===Er.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Er.Fixed32)this.pos+=4;else{if(t!==Er.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Lr(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Lr(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Lr(this.buf,-1&e,this.pos),Lr(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Lr(this.buf,-1&e,this.pos),Lr(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,o;if(e>=0?(r=e%4294967296|0,o=e/4294967296|0):(o=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,o=o+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(o,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var o,n,i=0;i<t.length;i++){if((o=t.charCodeAt(i))>55295&&o<57344){if(!n){o>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):n=o;continue}if(o<56320){e[r++]=239,e[r++]=191,e[r++]=189,n=o;continue}o=n-55296<<10|o-56320|65536,n=null}else n&&(e[r++]=239,e[r++]=191,e[r++]=189,n=null);o<128?e[r++]=o:(o<2048?e[r++]=o>>6|192:(o<65536?e[r++]=o>>12|224:(e[r++]=o>>18|240,e[r++]=o>>12&63|128),e[r++]=o>>6&63|128),e[r++]=63&o|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Mr(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),Ns(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Ns(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var o=this.pos-r;o>=128&&Mr(r,o,this),this.pos=r-1,this.writeVarint(o),this.pos+=o},writeMessage:function(e,t,r){this.writeTag(e,Er.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){this.writeMessage(e,Tr,t)},writePackedSVarint:function(e,t){this.writeMessage(e,zr,t)},writePackedBoolean:function(e,t){this.writeMessage(e,Ir,t)},writePackedFloat:function(e,t){this.writeMessage(e,Rr,t)},writePackedDouble:function(e,t){this.writeMessage(e,Fr,t)},writePackedFixed32:function(e,t){this.writeMessage(e,Nr,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,Br,t)},writePackedFixed64:function(e,t){this.writeMessage(e,Or,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,jr,t)},writeBytesField:function(e,t){this.writeTag(e,Er.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Er.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Er.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Er.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Er.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Er.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Er.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Er.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Er.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Er.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var Os=3,js=Os,Ds=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.callbackID=0,l(["receive"],this),this.target.addEventListener("message",this.receive,!1)};Ds.prototype.send=function(e,t,r,o){var n=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[n]=r);var i=[];this.target.postMessage({targetMapId:o,sourceMapId:this.mapId,type:e,id:String(n),data:qe(t,i)},i)},Ds.prototype.receive=function(e){var t,r=this,o=e.data,n=o.id;if(!o.targetMapId||this.mapId===o.targetMapId){var i=function(e,t){var o=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(n),error:e?qe(e):null,data:qe(t,o)},o)};if("<response>"===o.type)t=this.callbacks[o.id],delete this.callbacks[o.id],t&&o.error?t(Ve(o.error)):t&&t(null,Ve(o.data));else if(void 0!==o.id&&this.parent[o.type])this.parent[o.type](o.sourceMapId,Ve(o.data),i);else if(void 0!==o.id&&this.parent.getWorkerSource){var a=o.type.split("."),s=Ve(o.data);this.parent.getWorkerSource(o.sourceMapId,a[0],s.source)[a[1]](s,i)}else this.parent[o.type](Ve(o.data))}},Ds.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Ls=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Gr(0,e,t,r)};Ls.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Ls.prototype.url=function(e,t){var r,o,n,i,a,s=(r=this.x,o=this.y,n=this.z,i=Hr(256*r,256*(o=Math.pow(2,n)-o-1),n),a=Hr(256*(r+1),256*(o+1),n),i[0]+","+i[1]+","+a[0]+","+a[1]),c=function(e,t,r){for(var o,n="",i=e;i>0;i--)n+=(t&(o=1<<i-1)?1:0)+(r&o?2:0);return n}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",c).replace("{bbox-epsg-3857}",s)};var Us=function(e,t){this.wrap=e,this.canonical=t,this.key=Gr(e,t.z,t.x,t.y)},qs=function(e,t,r,o,n){this.overscaledZ=e,this.wrap=t,this.canonical=new Ls(r,+o,+n),this.key=Gr(t,e,o,n)};qs.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},qs.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new qs(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new qs(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},qs.prototype.isChildOf=function(e){var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},qs.prototype.children=function(e){if(this.overscaledZ>=e)return[new qs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,o=2*this.canonical.y;return[new qs(t,this.wrap,t,r,o),new qs(t,this.wrap,t,r+1,o),new qs(t,this.wrap,t,r,o+1),new qs(t,this.wrap,t,r+1,o+1)]},qs.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},qs.prototype.wrapped=function(){return new qs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},qs.prototype.unwrapTo=function(e){return new qs(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},qs.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},qs.prototype.toUnwrapped=function(){return new Us(this.wrap,this.canonical)},qs.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},qs.prototype.toCoordinate=function(){return new to(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},Ue("CanonicalTileID",Ls),Ue("OverscaledTileID",qs,{omit:["posMatrix"]});var Vs=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return m('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var o=this.dim=t.height;this.border=Math.max(Math.ceil(t.height/2),1),this.stride=this.dim+2*this.border,this.data=new Int32Array(this.stride*this.stride);for(var n=t.data,i="terrarium"===r?this._unpackTerrarium:this._unpackMapbox,a=0;a<o;a++)for(var s=0;s<o;s++){var c=4*(a*o+s);this.set(s,a,i(n[c],n[c+1],n[c+2]))}for(var l=0;l<o;l++)this.set(-1,l,this.get(0,l)),this.set(o,l,this.get(o-1,l)),this.set(l,-1,this.get(l,0)),this.set(l,o,this.get(l,o-1));this.set(-1,-1,this.get(0,0)),this.set(o,-1,this.get(o-1,0)),this.set(-1,o,this.get(0,o-1)),this.set(o,o,this.get(o-1,o-1))};Vs.prototype.set=function(e,t,r){this.data[this._idx(e,t)]=r+65536},Vs.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},Vs.prototype._idx=function(e,t){if(e<-this.border||e>=this.dim+this.border||t<-this.border||t>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(t+this.border)*this.stride+(e+this.border)},Vs.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},Vs.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},Vs.prototype.getPixels=function(){return new Ea({width:this.dim+2*this.border,height:this.dim+2*this.border},new Uint8Array(this.data.buffer))},Vs.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var o=t*this.dim,n=t*this.dim+this.dim,i=r*this.dim,s=r*this.dim+this.dim;switch(t){case-1:o=n-1;break;case 1:n=o+1}switch(r){case-1:i=s-1;break;case 1:s=i+1}for(var c=a(o,-this.border,this.dim+this.border),l=a(n,-this.border,this.dim+this.border),p=a(i,-this.border,this.dim+this.border),u=a(s,-this.border,this.dim+this.border),d=-t*this.dim,h=-r*this.dim,m=p;m<u;m++)for(var y=c;y<l;y++)this.set(y,m,e.get(y+d,m+h))},Ue("DEMData",Vs);var Ws=Xe([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Hs=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Hs.prototype.encode=function(e){return this._stringToNumber[e]},Hs.prototype.decode=function(e){return this._numberToString[e]};var Gs=function(e,t,r,o){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=o,this.properties=e.properties,null!=e.id&&(this.id=e.id)},Zs={geometry:{configurable:!0}};Zs.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Zs.geometry.set=function(e){this._geometry=e},Gs.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Gs.prototype,Zs);var Js=function(){this.state={},this.stateChanges={}};Js.prototype.updateState=function(e,t,r){var o=String(t);this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][o]=this.stateChanges[e][o]||{},s(this.stateChanges[e][o],r)},Js.prototype.getState=function(e,t){var r=String(t);return s({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r])},Js.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Js.prototype.coalesceChanges=function(e,t){var r={};for(var o in this.stateChanges){this.state[o]=this.state[o]||{};var n={};for(var i in this.stateChanges[o])this.state[o][i]||(this.state[o][i]={}),s(this.state[o][i],this.stateChanges[o][i]),n[i]=this.state[o][i];r[o]=n}if(this.stateChanges={},0!==Object.keys(r).length)for(var a in e)e[a].setFeatureState(r,t)};var Xs=function(e,t,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new Nn(ma,16,0),this.featureIndexArray=r||new Hi};Xs.prototype.insert=function(e,t,r,o,n){var i=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,o,n);for(var a=0;a<t.length;a++){for(var s=t[a],c=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var p=s[l];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<ma&&c[1]<ma&&c[2]>=0&&c[3]>=0&&this.grid.insert(i,c[0],c[1],c[2],c[3])}},Xs.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ka.VectorTile(new Bs(this.rawTileData)).layers,this.sourceLayerCoder=new Hs(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Xs.prototype.query=function(e,t,r){var o=this;this.loadVTLayers();for(var n=e.params||{},i=ma/e.tileSize/e.scale,a=_e(n.filter),s=e.queryGeometry,c=e.queryPadding*i,l=1/0,p=1/0,u=-1/0,d=-1/0,h=0;h<s.length;h++)for(var m=s[h],y=0;y<m.length;y++){var f=m[y];l=Math.min(l,f.x),p=Math.min(p,f.y),u=Math.max(u,f.x),d=Math.max(d,f.y)}var v=this.grid.query(l-c,p-c,u+c,d+c);v.sort(Zr);for(var g,_={},w=0;w<v.length;w++)!function(c){var l=v[c];if(l!==g){g=l;var p=o.featureIndexArray.get(l),u=null;o.loadMatchingFeature(_,p.bucketIndex,p.sourceLayerIndex,p.featureIndex,a,n.layers,t,function(t,n){u||(u=tt(t));var a={};return t.id&&(a=r.getState(n.sourceLayer||"_geojsonTileLayer",t.id)),n.queryIntersectsFeature(s,t,a,u,o.z,e.transform,i,e.posMatrix)})}}(w);return _},Xs.prototype.loadMatchingFeature=function(e,t,r,o,n,i,a,s){var c=this.bucketLayerIDs[t];if(!i||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(i,c)){var l=this.sourceLayerCoder.decode(r),p=this.vtLayers[l].feature(o);if(n(new Jn(this.tileID.overscaledZ),p))for(var u=0;u<c.length;u++){var d=c[u];if(!(i&&i.indexOf(d)<0)){var h=a[d];if(h&&(!s||s(p,h))){var m=new Gs(p,this.z,this.x,this.y);m.layer=h.serialize();var y=e[d];void 0===y&&(y=e[d]=[]),y.push({featureIndex:o,feature:m})}}}}},Xs.prototype.lookupSymbolFeatures=function(e,t,r,o,n,i){var a={};this.loadVTLayers();for(var s=_e(o),c=0,l=e;c<l.length;c+=1){var p=l[c];this.loadMatchingFeature(a,t,r,p,s,n,i)}return a},Xs.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var o=0,n=r[t];o<n.length;o+=1)if(e===n[o])return!0;return!1},Ue("FeatureIndex",Xs,{omit:["rawTileData","sourceLayerCoder"]});var Ks=function(e,t){this.tileID=e,this.uid=c(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};Ks.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<lo.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Ks.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ks.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var o in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==a.length){i.layers=a,i.stateDependentLayers=a.filter(function(e){return e.isStateDependent()});for(var s=0,c=a;s<c.length;s+=1)r[c[s].id]=i}}return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var n=this.buckets[o];if(n instanceof gs){if(this.hasSymbolBuckets=!0,!r)break;n.justReloaded=!0}}for(var i in this.queryPadding=0,this.buckets){var a=this.buckets[i];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(i).queryRadius(a))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ni},Ks.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ks.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Ks.prototype.getBucket=function(e){return this.buckets[e.id]},Ks.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var o=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Fs(e,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Fs(e,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null)},Ks.prototype.queryRenderedFeatures=function(e,t,r,o,n,i,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,scale:o,tileSize:this.tileSize,posMatrix:s,transform:i,params:n,queryPadding:this.queryPadding*a},e,t):{}},Ks.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),o=t?t.sourceLayer:"",n=r._geojsonTileLayer||r[o];if(n)for(var i=_e(t&&t.filter),a=this.tileID.canonical,s=a.z,c=a.x,l=a.y,p={z:s,x:c,y:l},u=0;u<n.length;u++){var d=n.feature(u);if(i(new Jn(this.tileID.overscaledZ),d)){var h=new Gs(d,s,c,l);h.tile=p,e.push(h)}}}},Ks.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Ks.prototype.setMask=function(e,t){if(!n(this.mask,e)&&(this.mask=e,this.clearMask(),!n(e,{0:!0}))){var r=new mi,o=new Mi;this.segments=new Ji,this.segments.prepareSegment(0,r,o);for(var i=Object.keys(e),a=0;a<i.length;a++){var s=e[i[a]],c=ma>>s.z,l=new ro(s.x*c,s.y*c),p=new ro(l.x+c,l.y+c),u=this.segments.prepareSegment(4,r,o);r.emplaceBack(l.x,l.y,l.x,l.y),r.emplaceBack(p.x,l.y,p.x,l.y),r.emplaceBack(l.x,p.y,l.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var d=u.vertexLength;o.emplaceBack(d,d+1,d+2),o.emplaceBack(d+1,d+2,d+3),u.vertexLength+=4,u.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(r,Ws.members),this.maskedIndexBuffer=t.createIndexBuffer(o)}},Ks.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ks.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ks.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(e,r,o,n){var i=o||n;return t[r]=!i||i.toLowerCase(),""}),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),n=!1;if(this.expirationTime>o)n=!1;else if(t)if(this.expirationTime<t)n=!0;else{var i=this.expirationTime-t;i?this.expirationTime=o+Math.max(i,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ks.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Ks.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var o in this.buckets){var n=this.buckets[o],i=n.layers[0].sourceLayer||"_geojsonTileLayer",a=r[i],s=e[i];a&&s&&0!==Object.keys(s).length&&(n.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(o).queryRadius(n))))}}},Ks.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Ks.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<lo.now()},Ks.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ks.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=lo.now()+e};var Qs={horizontal:1,vertical:2,horizontalOnly:3},Ys=function(){this.text="",this.sectionIndex=[],this.sections=[]};Ys.fromFeature=function(e,t){var r=new Ys;if(e instanceof Oo)for(var o=0;o<e.sections.length;o++){var n=e.sections[o];r.sections.push({scale:n.scale||1,fontStack:n.fontStack||t}),r.text+=n.text;for(var i=0;i<n.text.length;i++)r.sectionIndex.push(o)}else{r.text=e,r.sections.push({scale:1,fontStack:t});for(var a=0;a<e.length;a++)r.sectionIndex.push(0)}return r},Ys.prototype.length=function(){return this.text.length},Ys.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Ys.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Ys.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var o=e.charCodeAt(r+1)||null,n=e.charCodeAt(r-1)||null;o&&Ze(o)&&!ds[e[r+1]]||n&&Ze(n)&&!ds[e[r-1]]||!ds[e[r]]?t+=e[r]:t+=ds[e[r]]}return t}(this.text)},Ys.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&$s[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,o=this.text.length-1;o>=0&&o>=e&&$s[this.text.charCodeAt(o)];o--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Ys.prototype.substring=function(e,t){var r=new Ys;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Ys.prototype.toString=function(){return this.text},Ys.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,r){return Math.max(t,e.sections[r].scale)},0)};var $s={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ec={};ec[10]=!0,ec[32]=!0,ec[38]=!0,ec[40]=!0,ec[41]=!0,ec[43]=!0,ec[45]=!0,ec[47]=!0,ec[173]=!0,ec[183]=!0,ec[8203]=!0,ec[8208]=!0,ec[8211]=!0,ec[8231]=!0,e.createCommonjsModule=t,e.Point=ro,e.window=self,e.browser=lo,e.uuid=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()},e.validateUuid=function(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e.storageAvailable=function(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}},e.warnOnce=m,e.postData=function(e,t,r){var o=v(s(e,{method:"POST"}));return o.onerror=function(){r(new Error(o.statusText))},o.onload=function(){o.status>=200&&o.status<300?r(null,o.response):r(new ho(o.statusText,o.status,e.url))},o.send(t),{cancel:function(){return o.abort()}}},e.getJSON=function(e,t){var r=v(e);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&r.response){var o;try{o=JSON.parse(r.response)}catch(e){return t(e)}t(null,o)}else t(401===r.status&&e.url.match(/mapbox.com/)?new ho(r.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",r.status,e.url):new ho(r.statusText,r.status,e.url))},r.send(),{cancel:function(){return r.abort()}}},e.getImage=function(e,t){return mo(e,function(e,r){if(e)t(e);else if(r){var o=new self.Image,n=self.URL||self.webkitURL;o.onload=function(){t(null,o),n.revokeObjectURL(o.src)};var i=new self.Blob([new Uint8Array(r.data)],{type:"image/png"});o.cacheControl=r.cacheControl,o.expires=r.expires,o.src=r.data.byteLength?n.createObjectURL(i):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},e.ResourceType=uo,e.RGBAImage=Ea,e.potpack=Pr,e.ImagePosition=Es,e.Texture=Fs,e.getArrayBuffer=mo,e.parseGlyphPBF=function(e){return new Bs(e).readFields(qr,[])},e.isChar=qn,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var o=e.length,n=new Array(e.length),i=null;e.forEach(function(e,a){t(e,function(e,t){e&&(i=e),n[a]=t,0==--o&&r(i,n)})})},e.AlphaImage=Pa,e.styleSpec=go,e.endsWith=p,e.extend=s,e.sphericalToCartesian=function(e){var t=e[0],r=e[1],o=e[2];return r+=90,r*=Math.PI/180,o*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(o),y:t*Math.sin(r)*Math.sin(o),z:t*Math.cos(o)}},e.Evented=vo,e.validateStyle=zn,e.validateLight=Rn,e.emitValidationErrors=De,e.Color=Fo,e.number=F,e.Properties=ci,e.Transitionable=Qn,e.Transitioning=$n,e.PossiblyEvaluated=ri,e.DataConstantProperty=oi,e.uniqueId=c,e.Actor=Ds,e.pick=function(e,t){for(var r={},o=0;o<t.length;o++){var n=t[o];n in e&&(r[n]=e[n])}return r},e.wrap=function(e,t,r){var o=r-t,n=((e-t)%o+o)%o+t;return n===t?r:n},e.clamp=a,e.Event=yo,e.ErrorEvent=fo,e.OverscaledTileID=qs,e.EXTENT=ma,e.getCoordinatesCenter=function(e){for(var t=1/0,r=1/0,o=-1/0,n=-1/0,i=0;i<e.length;i++)t=Math.min(t,e[i].column),r=Math.min(r,e[i].row),o=Math.max(o,e[i].column),n=Math.max(n,e[i].row);var a=o-t,s=n-r,c=Math.max(a,s),l=Math.max(0,Math.floor(-Math.log(c)/Math.LN2));return new to((t+o)/2,(r+n)/2,0).zoomTo(l)},e.CanonicalTileID=Ls,e.StructArrayLayout4i8=mi,e.rasterBoundsAttributes=Ws,e.SegmentVector=Ji,e.getVideo=function(e,t){var r,o,n=self.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(var i=0;i<e.length;i++){var a=self.document.createElement("source");r=e[i],o=void 0,(o=self.document.createElement("a")).href=r,(o.protocol!==self.document.location.protocol||o.host!==self.document.location.host)&&(n.crossOrigin="Anonymous"),a.src=e[i],n.appendChild(a)}return{cancel:function(){}}},e.ValidationError=_o,e.bindAll=l,e.deepEqual=n,e.Tile=Ks,e.Coordinate=to,e.keysDifference=function(e,t){var r=[];for(var o in e)o in t||r.push(o);return r},e.SourceFeatureState=Js,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.create=function(){var e=new ga(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.invert=function(e,t){var r=t[0],o=t[1],n=t[2],i=t[3],a=t[4],s=t[5],c=t[6],l=t[7],p=t[8],u=t[9],d=t[10],h=t[11],m=t[12],y=t[13],f=t[14],v=t[15],g=r*s-o*a,_=r*c-n*a,w=r*l-i*a,b=o*c-n*s,x=o*l-i*s,S=n*l-i*c,k=p*y-u*m,P=p*f-d*m,E=p*v-h*m,C=u*f-d*y,A=u*v-h*y,M=d*v-h*f,T=g*M-_*A+w*C+b*E-x*P+S*k;return T?(T=1/T,e[0]=(s*M-c*A+l*C)*T,e[1]=(n*A-o*M-i*C)*T,e[2]=(y*S-f*x+v*b)*T,e[3]=(d*x-u*S-h*b)*T,e[4]=(c*E-a*M-l*P)*T,e[5]=(r*M-n*E+i*P)*T,e[6]=(f*w-m*S-v*_)*T,e[7]=(p*S-d*w+h*_)*T,e[8]=(a*A-s*E+l*k)*T,e[9]=(o*E-r*A-i*k)*T,e[10]=(m*x-y*w+v*g)*T,e[11]=(u*w-p*x-h*g)*T,e[12]=(s*P-a*C-c*k)*T,e[13]=(r*C-o*P+n*k)*T,e[14]=(y*_-m*b-f*g)*T,e[15]=(p*b-u*_+d*g)*T,e):null},e.multiply=function(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],p=t[7],u=t[8],d=t[9],h=t[10],m=t[11],y=t[12],f=t[13],v=t[14],g=t[15],_=r[0],w=r[1],b=r[2],x=r[3];return e[0]=_*o+w*s+b*u+x*y,e[1]=_*n+w*c+b*d+x*f,e[2]=_*i+w*l+b*h+x*v,e[3]=_*a+w*p+b*m+x*g,_=r[4],w=r[5],b=r[6],x=r[7],e[4]=_*o+w*s+b*u+x*y,e[5]=_*n+w*c+b*d+x*f,e[6]=_*i+w*l+b*h+x*v,e[7]=_*a+w*p+b*m+x*g,_=r[8],w=r[9],b=r[10],x=r[11],e[8]=_*o+w*s+b*u+x*y,e[9]=_*n+w*c+b*d+x*f,e[10]=_*i+w*l+b*h+x*v,e[11]=_*a+w*p+b*m+x*g,_=r[12],w=r[13],b=r[14],x=r[15],e[12]=_*o+w*s+b*u+x*y,e[13]=_*n+w*c+b*d+x*f,e[14]=_*i+w*l+b*h+x*v,e[15]=_*a+w*p+b*m+x*g,e},e.translate=function(e,t,r){var o,n,i,a,s,c,l,p,u,d,h,m,y=r[0],f=r[1],v=r[2];return t===e?(e[12]=t[0]*y+t[4]*f+t[8]*v+t[12],e[13]=t[1]*y+t[5]*f+t[9]*v+t[13],e[14]=t[2]*y+t[6]*f+t[10]*v+t[14],e[15]=t[3]*y+t[7]*f+t[11]*v+t[15]):(o=t[0],n=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],p=t[7],u=t[8],d=t[9],h=t[10],m=t[11],e[0]=o,e[1]=n,e[2]=i,e[3]=a,e[4]=s,e[5]=c,e[6]=l,e[7]=p,e[8]=u,e[9]=d,e[10]=h,e[11]=m,e[12]=o*y+s*f+u*v+t[12],e[13]=n*y+c*f+d*v+t[13],e[14]=i*y+l*f+h*v+t[14],e[15]=a*y+p*f+m*v+t[15]),e},e.scale=function(e,t,r){var o=r[0],n=r[1],i=r[2];return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.rotateX=function(e,t,r){var o=Math.sin(r),n=Math.cos(r),i=t[4],a=t[5],s=t[6],c=t[7],l=t[8],p=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*n+l*o,e[5]=a*n+p*o,e[6]=s*n+u*o,e[7]=c*n+d*o,e[8]=l*n-i*o,e[9]=p*n-a*o,e[10]=u*n-s*o,e[11]=d*n-c*o,e},e.rotateZ=function(e,t,r){var o=Math.sin(r),n=Math.cos(r),i=t[0],a=t[1],s=t[2],c=t[3],l=t[4],p=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*n+l*o,e[1]=a*n+p*o,e[2]=s*n+u*o,e[3]=c*n+d*o,e[4]=l*n-i*o,e[5]=p*n-a*o,e[6]=u*n-s*o,e[7]=d*n-c*o,e},e.perspective=function(e,t,r,o,n){var i=1/Math.tan(t/2),a=1/(o-n);return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+o)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*o*a,e[15]=0,e},e.ortho=function(e,t,r,o,n,i,a){var s=1/(t-r),c=1/(o-n),l=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(n+o)*c,e[14]=(a+i)*l,e[15]=1,e},e.create$1=St,e.normalize=kt,e.transformMat4=Pt,e.forEach=xa,e.getSizeData=xr,e.evaluateSizeForFeature=function(e,t,r){var o=t;return"source"===e.functionType?r.lowerSize/256:"composite"===e.functionType?F(r.lowerSize/256,r.upperSize/256,o.uSizeT):o.uSize},e.evaluateSizeForZoom=function(e,t,r){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var o=e.propertyValue,n=e.zoomRange,i=e.sizeRange,s=a(ue(o,r.specification).interpolationFactor(t,n.min,n.max),0,1);return{uSizeT:0,uSize:i.min+s*(i.max-i.min)}}var c=e.propertyValue,l=e.zoomRange;return{uSizeT:a(ue(c,r.specification).interpolationFactor(t,l.min,l.max),0,1),uSize:0}},e.SIZE_PACK_FACTOR=256,e.addDynamicAttributes=kr,e.properties=ws,e.WritingMode=Qs,e.multiPolygonIntersectsBufferedPoint=ot,e.multiPolygonIntersectsMultiPolygon=nt,e.multiPolygonIntersectsBufferedMultiLine=it,e.polygonIntersectsPolygon=function(e,t){for(var r=0;r<e.length;r++)if(dt(t,e[r]))return!0;for(var o=0;o<t.length;o++)if(dt(e,t[o]))return!0;return!!st(e,t)},e.distToSegmentSquared=pt,e.SymbolInstanceArray=Di,e.StyleLayer=li,e.createStyleLayer=function(e){return new Ps[e.type](e)},e.clone=h,e.filterObject=d,e.mapObject=u,e.registerForPluginAvailability=function(e){return Wn?e({pluginURL:Wn,completionCallback:Un}):Gn.once("pluginAvailable",e),e},e.evented=Gn,e.ZoomHistory=Ln,e.createLayout=Xe,e.ProgramConfiguration=ua,e.Uniform1i=Yi,e.Uniform1f=$i,e.Uniform2f=ea,e.Uniform4f=ra,e.Uniform3f=ta,e.UniformMatrix4f=ia,e.create$2=ft,e.fromRotation=function(e,t){var r=Math.sin(t),o=Math.cos(t);return e[0]=o,e[1]=r,e[2]=0,e[3]=-r,e[4]=o,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.create$3=vt,e.length=gt,e.fromValues=_t,e.normalize$1=wt,e.dot=bt,e.cross=xt,e.transformMat3=function(e,t,r){var o=t[0],n=t[1],i=t[2];return e[0]=o*r[0]+n*r[3]+i*r[6],e[1]=o*r[1]+n*r[4]+i*r[7],e[2]=o*r[2]+n*r[5]+i*r[8],e},e.len=wa,e.forEach$1=ba,e.UniformColor=oa,e.StructArrayLayout2i4=hi,e.StructArrayLayout2ui4=Ti,e.StructArrayLayout3ui6=Mi,e.StructArrayLayout1ui2=zi,e.UnwrappedTileID=Us,e.create$4=function(){var e=new ga(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},e.rotate=function(e,t,r){var o=t[0],n=t[1],i=t[2],a=t[3],s=Math.sin(r),c=Math.cos(r);return e[0]=o*c+i*s,e[1]=n*c+a*s,e[2]=o*-s+i*c,e[3]=n*-s+a*c,e},e.ease=oo,e.bezier=i,e.EvaluationParameters=Jn,e.setRTLTextPlugin=function(e,t){if(Vn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Vn=!0,Wn=lo.resolveURL(e),Un=function(e){e?(Vn=!1,Wn=null,t&&t(e)):Hn=!0},Gn.fire(new yo("pluginAvailable",{pluginURL:Wn,completionCallback:Un}))},e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.featureFilter=_e,e.Anchor=hs,e.GLYPH_PBF_BORDER=js,e.shapeText=function(e,t,r,o,n,i,a,s,c,l,p){var u=Ys.fromFeature(e,r);p===Qs.vertical&&u.verticalizePunctuation();var d,h=[],m={positionedGlyphs:h,text:u,top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:p},y=Zn.processBidirectionalText,f=Zn.processStyledBidirectionalText;if(y&&1===u.sections.length){d=[];for(var v=0,g=y(u.toString(),Qr(u,s,o,t));v<g.length;v+=1){var _=g[v],w=new Ys;w.text=_,w.sections=u.sections;for(var b=0;b<_.length;b++)w.sectionIndex.push(0);d.push(w)}}else if(f){d=[];for(var x=0,S=f(u.text,u.sectionIndex,Qr(u,s,o,t));x<S.length;x+=1){var k=S[x],P=new Ys;P.text=k[0],P.sectionIndex=k[1],P.sections=u.sections,d.push(P)}}else d=function(e,t){for(var r=[],o=e.text,n=0,i=0,a=t;i<a.length;i+=1){var s=a[i];r.push(e.substring(n,s)),n=s}return n<o.length&&r.push(e.substring(n,o.length)),r}(u,Qr(u,s,o,t));return function(e,t,r,o,n,i,a,s,c){for(var l=0,p=-17,u=0,d=e.positionedGlyphs,h="right"===i?1:"left"===i?0:.5,m=0,y=r;m<y.length;m+=1){var f=y[m];f.trim();var v=f.getMaxScale();if(f.length()){for(var g=d.length,_=0;_<f.length();_++){var w=f.getSection(_),b=f.getCharCode(_),x=24*(v-w.scale),S=t[w.fontStack],k=S&&S[b];k&&(Ge(b)&&a!==Qs.horizontal?(d.push({glyph:b,x:l,y:x,vertical:!0,scale:w.scale,fontStack:w.fontStack}),l+=c*w.scale+s):(d.push({glyph:b,x:l,y:p+x,vertical:!1,scale:w.scale,fontStack:w.fontStack}),l+=k.metrics.advance*w.scale+s))}if(d.length!==g){var P=l-s;u=Math.max(P,u),$r(d,t,g,d.length-1,h)}l=0,p+=o*v}else p+=o}var E=Yr(n),C=E.horizontalAlign,A=E.verticalAlign;!function(e,t,r,o,n,i,a){for(var s=(t-r)*n,c=(-o*a+.5)*i,l=0;l<e.length;l++)e[l].x+=s,e[l].y+=c}(d,h,C,A,u,o,r.length);var M=p- -17;e.top+=-A*M,e.bottom=e.top+M,e.left+=-C*u,e.right=e.left+u}(m,t,d,n,i,a,p,s,l),!!h.length&&(m.text=m.text.toString(),m)},e.shapeIcon=function(e,t,r){var o=Yr(r),n=o.horizontalAlign,i=o.verticalAlign,a=t[0],s=t[1],c=a-e.displaySize[0]*n,l=c+e.displaySize[0],p=s-e.displaySize[1]*i;return{image:e,top:p,bottom:p+e.displaySize[1],left:c,right:l}},e.allowsVerticalWritingMode=We,e.allowsLetterSpacing=function(e){for(var t=0,r=e;t<r.length;t+=1)if(!He(r[t].charCodeAt(0)))return!1;return!0},e.classifyRings=nr,e.SymbolBucket=gs,e.Formatted=Oo,e.register=Ue,e.FeatureIndex=Xs,e.CollisionBoxArray=Ni,e.DictionaryCoder=Hs,e.LineBucket=rs,e.FillBucket=Oa,e.FillExtrusionBucket=Va,e.ImageAtlas=As,e.mvt=Ka,e.Protobuf=Bs,e.DEMData=Vs,e.vectorTile=Ka,e.Point$1=ro,e.pbf=Bs,e.plugin=Zn}),e(["./shared.js"],function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var o="[",n=0,i=e;n<i.length;n+=1)o+=t(i[n])+",";return o+"]"}for(var a=Object.keys(e).sort(),s="{",c=0;c<a.length;c++)s+=JSON.stringify(a[c])+":"+t(e[a[c]])+",";return s+"}"}function r(r){for(var o="",n=0,i=e.refProperties;n<i.length;n+=1)o+="/"+t(r[i[n]]);return o}function o(e,t,r,o,n){if(void 0===t.segment)return!0;for(var i=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;for(var c=[],l=0;s<r/2;){var p=e[a-1],u=e[a],d=e[a+1];if(!d)return!1;var h=p.angleTo(u)-u.angleTo(d);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),c.push({distance:s,angleDelta:h}),l+=h;s-c[0].distance>o;)l-=c.shift().angleDelta;if(l>n)return!1;a++,s+=u.dist(d)}return!0}function n(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function i(e,t,r){return e?.6*t*r:0}function a(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function s(t,r,s,c,l,p){for(var u=i(s,l,p),d=a(s,c)*p,h=0,m=n(t)/2,y=0;y<t.length-1;y++){var f=t[y],v=t[y+1],g=f.dist(v);if(h+g>m){var _=(m-h)/g,w=e.number(f.x,v.x,_),b=e.number(f.y,v.y,_),x=new e.Anchor(w,b,v.angleTo(f),y);return x._round(),!u||o(t,x,d,u,r)?x:void 0}h+=g}}function c(t,r,s,c,l,p,u,d,h){var m=i(c,p,u),y=a(c,l),f=y*u,v=0===t[0].x||t[0].x===h||0===t[0].y||t[0].y===h;return r-f<r/4&&(r=f+r/4),function t(r,i,a,s,c,l,p,u,d){for(var h=l/2,m=n(r),y=0,f=i-a,v=[],g=0;g<r.length-1;g++){for(var _=r[g],w=r[g+1],b=_.dist(w),x=w.angleTo(_);f+a<y+b;){var S=((f+=a)-y)/b,k=e.number(_.x,w.x,S),P=e.number(_.y,w.y,S);if(k>=0&&k<d&&P>=0&&P<d&&f-h>=0&&f+h<=m){var E=new e.Anchor(k,P,x,g);E._round(),s&&!o(r,E,l,s,c)||v.push(E)}}y+=b}return u||v.length||p||(v=t(r,y/2,a,s,c,l,p,!0,d)),v}(t,v?r/2*d%r:(y/2+2*p)*u*d%r,r,m,s,f,v,!1,h)}function l(e,t){if(!(this instanceof l))return new l(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||p,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}function p(e,t){return e<t?-1:e>t?1:0}function u(t,r,o){void 0===r&&(r=1),void 0===o&&(o=!1);for(var n=1/0,i=1/0,a=-1/0,s=-1/0,c=t[0],l=0;l<c.length;l++){var p=c[l];(!l||p.x<n)&&(n=p.x),(!l||p.y<i)&&(i=p.y),(!l||p.x>a)&&(a=p.x),(!l||p.y>s)&&(s=p.y)}var u=a-n,m=s-i,y=Math.min(u,m),f=y/2,v=new Ae(null,d);if(0===y)return new e.Point(n,i);for(var g=n;g<a;g+=y)for(var _=i;_<s;_+=y)v.push(new h(g+f,_+f,f,t));for(var w=function(e){for(var t=0,r=0,o=0,n=e[0],i=0,a=n.length,s=a-1;i<a;s=i++){var c=n[i],l=n[s],p=c.x*l.y-l.x*c.y;r+=(c.x+l.x)*p,o+=(c.y+l.y)*p,t+=3*p}return new h(r/t,o/t,0,e)}(t),b=v.length;v.length;){var x=v.pop();(x.d>w.d||!w.d)&&(w=x,o&&console.log("found best %d after %d probes",Math.round(1e4*x.d)/1e4,b)),x.max-w.d<=r||(f=x.h/2,v.push(new h(x.p.x-f,x.p.y-f,f,t)),v.push(new h(x.p.x+f,x.p.y-f,f,t)),v.push(new h(x.p.x-f,x.p.y+f,f,t)),v.push(new h(x.p.x+f,x.p.y+f,f,t)),b+=4)}return o&&(console.log("num probes: "+b),console.log("best distance: "+w.d)),w.p}function d(e,t){return t.max-e.max}function h(t,r,o,n){this.p=new e.Point(t,r),this.h=o,this.d=function(t,r){for(var o=!1,n=1/0,i=0;i<r.length;i++)for(var a=r[i],s=0,c=a.length,l=c-1;s<c;l=s++){var p=a[s],u=a[l];p.y>t.y!=u.y>t.y&&t.x<(u.x-p.x)*(t.y-p.y)/(u.y-p.y)+p.x&&(o=!o),n=Math.min(n,e.distToSegmentSquared(t,p,u))}return(o?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}function m(t,r,o,n,i,a){t.createArrays();var s=512*t.overscaling;t.tilePixelRatio=e.EXTENT/s,t.compareText={},t.iconsNeedLinear=!1;var c=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,p={};if("composite"===t.textSizeData.functionType){var u=t.textSizeData.zoomRange,d=u.min,h=u.max;p.compositeTextSizes=[l["text-size"].possiblyEvaluate(new e.EvaluationParameters(d)),l["text-size"].possiblyEvaluate(new e.EvaluationParameters(h))]}if("composite"===t.iconSizeData.functionType){var m=t.iconSizeData.zoomRange,f=m.min,v=m.max;p.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new e.EvaluationParameters(f)),l["icon-size"].possiblyEvaluate(new e.EvaluationParameters(v))]}p.layoutTextSize=l["text-size"].possiblyEvaluate(new e.EvaluationParameters(t.zoom+1)),p.layoutIconSize=l["icon-size"].possiblyEvaluate(new e.EvaluationParameters(t.zoom+1)),p.textMaxSize=l["text-size"].possiblyEvaluate(new e.EvaluationParameters(18));for(var g=24*c.get("text-line-height"),_="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),w=c.get("text-keep-upright"),b=0,x=t.features;b<x.length;b+=1){var S=x[b],k=c.get("text-font").evaluate(S,{}).join(","),P=o,E={},C=S.text;if(C){var A=C instanceof e.Formatted?C.toString():C,M=c.get("text-offset").evaluate(S,{}).map(function(e){return 24*e}),T=24*c.get("text-letter-spacing").evaluate(S,{}),z=e.allowsLetterSpacing(A)?T:0,R=c.get("text-anchor").evaluate(S,{}),F=c.get("text-justify").evaluate(S,{}),I="point"===c.get("symbol-placement")?24*c.get("text-max-width").evaluate(S,{}):0;E.horizontal=e.shapeText(C,r,k,I,g,R,F,z,M,24,e.WritingMode.horizontal),e.allowsVerticalWritingMode(A)&&_&&w&&(E.vertical=e.shapeText(C,r,k,I,g,R,F,z,M,24,e.WritingMode.vertical))}var N=void 0;if(S.icon){var B=n[S.icon];B&&(N=e.shapeIcon(i[S.icon],c.get("icon-offset").evaluate(S,{}),c.get("icon-anchor").evaluate(S,{})),void 0===t.sdfIcons?t.sdfIcons=B.sdf:t.sdfIcons!==B.sdf&&e.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),B.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==c.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(E.horizontal||N)&&y(t,S,E,N,P,p)}a&&t.generateCollisionDebugBuffers()}function y(t,r,o,n,i,a){var l=a.layoutTextSize.evaluate(r,{}),p=a.layoutIconSize.evaluate(r,{}),d=a.textMaxSize.evaluate(r,{});void 0===d&&(d=l);var h=t.layers[0].layout,m=h.get("text-offset").evaluate(r,{}),y=h.get("icon-offset").evaluate(r,{}),g=l/24,_=t.tilePixelRatio*g,w=t.tilePixelRatio*d/24,b=t.tilePixelRatio*p,x=t.tilePixelRatio*h.get("symbol-spacing"),S=h.get("text-padding")*t.tilePixelRatio,k=h.get("icon-padding")*t.tilePixelRatio,P=h.get("text-max-angle")/180*Math.PI,E="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),C="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),A=h.get("symbol-placement"),M=x/2,T=function(s,c){c.x<0||c.x>=e.EXTENT||c.y<0||c.y>=e.EXTENT||function(t,r,o,n,i,a,s,c,l,p,u,d,h,m,y,v,g,_,w,b,x){var S,k,P=t.addToLineVertexArray(r,o),E=0,C=0,A=0,M=Re(n.horizontal?n.horizontal.text:""),T=[];if(n.horizontal){var z=a.layout.get("text-rotate").evaluate(w,{});S=new Ce(s,o,r,c,l,p,n.horizontal,u,d,h,t.overscaling,z),C+=f(t,r,n.horizontal,a,h,w,m,P,n.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,T,b,x),n.vertical&&(A+=f(t,r,n.vertical,a,h,w,m,P,e.WritingMode.vertical,T,b,x))}var R=S?S.boxStartIndex:t.collisionBoxArray.length,F=S?S.boxEndIndex:t.collisionBoxArray.length;if(i){var I=function(t,r,o,n,i,a){var s,c,l,p,u=r.image,d=o.layout,h=r.top-1/u.pixelRatio,m=r.left-1/u.pixelRatio,y=r.bottom+1/u.pixelRatio,f=r.right+1/u.pixelRatio;if("none"!==d.get("icon-text-fit")&&i){var v=f-m,g=y-h,_=d.get("text-size").evaluate(a,{})/24,w=i.left*_,b=i.right*_,x=i.top*_,S=b-w,k=i.bottom*_-x,P=d.get("icon-text-fit-padding")[0],E=d.get("icon-text-fit-padding")[1],C=d.get("icon-text-fit-padding")[2],A=d.get("icon-text-fit-padding")[3],M="width"===d.get("icon-text-fit")?.5*(k-g):0,T="height"===d.get("icon-text-fit")?.5*(S-v):0,z="width"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?S:v,R="height"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?k:g;s=new e.Point(w+T-A,x+M-P),c=new e.Point(w+T+E+z,x+M-P),l=new e.Point(w+T+E+z,x+M+C+R),p=new e.Point(w+T-A,x+M+C+R)}else s=new e.Point(m,h),c=new e.Point(f,h),l=new e.Point(f,y),p=new e.Point(m,y);var F=o.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(F){var I=Math.sin(F),N=Math.cos(F),B=[N,-I,I,N];s._matMult(B),c._matMult(B),p._matMult(B),l._matMult(B)}return[{tl:s,tr:c,bl:p,br:l,tex:u.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,a,0,n.horizontal,w),N=a.layout.get("icon-rotate").evaluate(w,{});k=new Ce(s,o,r,c,l,p,i,y,v,!1,t.overscaling,N),E=4*I.length;var B=t.iconSizeData,O=null;"source"===B.functionType?(O=[e.SIZE_PACK_FACTOR*a.layout.get("icon-size").evaluate(w,{})])[0]>Ne&&e.warnOnce(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===B.functionType&&((O=[e.SIZE_PACK_FACTOR*x.compositeIconSizes[0].evaluate(w,{}),e.SIZE_PACK_FACTOR*x.compositeIconSizes[1].evaluate(w,{})])[0]>Ne||O[1]>Ne)&&e.warnOnce(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,I,O,_,g,w,!1,r,P.lineStartIndex,P.lineLength)}var j=k?k.boxStartIndex:t.collisionBoxArray.length,D=k?k.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=e.SymbolBucket.MAX_GLYPHS&&e.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),t.symbolInstances.emplaceBack(r.x,r.y,T.length>0?T[0]:-1,T.length>1?T[1]:-1,M,R,F,j,D,c,C,A,E,0)}(t,c,s,o,n,t.layers[0],t.collisionBoxArray,r.index,r.sourceLayerIndex,t.index,_,S,E,m,b,k,C,y,r,i,a)};if("line"===A)for(var z=0,R=function(t,r,o,n,i){for(var a=[],s=0;s<t.length;s++)for(var c=t[s],l=void 0,p=0;p<c.length-1;p++){var u=c[p],d=c[p+1];u.x<0&&d.x<0||(u.x<0?u=new e.Point(0,u.y+(d.y-u.y)*((0-u.x)/(d.x-u.x)))._round():d.x<0&&(d=new e.Point(0,u.y+(d.y-u.y)*((0-u.x)/(d.x-u.x)))._round()),u.y<0&&d.y<0||(u.y<0?u=new e.Point(u.x+(d.x-u.x)*((0-u.y)/(d.y-u.y)),0)._round():d.y<0&&(d=new e.Point(u.x+(d.x-u.x)*((0-u.y)/(d.y-u.y)),0)._round()),u.x>=n&&d.x>=n||(u.x>=n?u=new e.Point(n,u.y+(d.y-u.y)*((n-u.x)/(d.x-u.x)))._round():d.x>=n&&(d=new e.Point(n,u.y+(d.y-u.y)*((n-u.x)/(d.x-u.x)))._round()),u.y>=i&&d.y>=i||(u.y>=i?u=new e.Point(u.x+(d.x-u.x)*((i-u.y)/(d.y-u.y)),i)._round():d.y>=i&&(d=new e.Point(u.x+(d.x-u.x)*((i-u.y)/(d.y-u.y)),i)._round()),l&&u.equals(l[l.length-1])||(l=[u],a.push(l)),l.push(d)))))}return a}(r.geometry,0,0,e.EXTENT,e.EXTENT);z<R.length;z+=1)for(var F=R[z],I=0,N=c(F,x,P,o.vertical||o.horizontal,n,24,w,t.overscaling,e.EXTENT);I<N.length;I+=1){var B=N[I],O=o.horizontal;O&&v(t,O.text,M,B)||T(F,B)}else if("line-center"===A)for(var j=0,D=r.geometry;j<D.length;j+=1){var L=D[j];if(L.length>1){var U=s(L,P,o.vertical||o.horizontal,n,24,w);U&&T(L,U)}}else if("Polygon"===r.type)for(var q=0,V=e.classifyRings(r.geometry,0);q<V.length;q+=1){var W=V[q],H=u(W,16);T(W[0],new e.Anchor(H.x,H.y,0))}else if("LineString"===r.type)for(var G=0,Z=r.geometry;G<Z.length;G+=1){var J=Z[G];T(J,new e.Anchor(J[0].x,J[0].y,0))}else if("Point"===r.type)for(var X=0,K=r.geometry;X<K.length;X+=1)for(var Q=0,Y=K[X];Q<Y.length;Q+=1){var $=Y[Q];T([$],new e.Anchor($.x,$.y,0))}}function f(t,r,o,n,i,a,s,c,l,p,u,d){var h=function(t,r,o,n,i,a){for(var s=o.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,c=o.layout.get("text-offset").evaluate(i,{}).map(function(e){return 24*e}),l=r.positionedGlyphs,p=[],u=0;u<l.length;u++){var d=l[u],h=a[d.fontStack],m=h&&h[d.glyph];if(m){var y=m.rect;if(y){var f=e.GLYPH_PBF_BORDER+1,v=m.metrics.advance*d.scale/2,g=n?[d.x+v,d.y]:[0,0],_=n?[0,0]:[d.x+v+c[0],d.y+c[1]],w=(m.metrics.left-f)*d.scale-v+_[0],b=(-m.metrics.top-f)*d.scale+_[1],x=w+y.w*d.scale,S=b+y.h*d.scale,k=new e.Point(w,b),P=new e.Point(x,b),E=new e.Point(w,S),C=new e.Point(x,S);if(n&&d.vertical){var A=new e.Point(-v,v),M=-Math.PI/2,T=new e.Point(5,0);k._rotateAround(M,A)._add(T),P._rotateAround(M,A)._add(T),E._rotateAround(M,A)._add(T),C._rotateAround(M,A)._add(T)}if(s){var z=Math.sin(s),R=Math.cos(s),F=[R,-z,z,R];k._matMult(F),P._matMult(F),E._matMult(F),C._matMult(F)}p.push({tl:k,tr:P,bl:E,br:C,tex:y,writingMode:r.writingMode,glyphOffset:g})}}}return p}(0,o,n,i,a,u),m=t.textSizeData,y=null;return"source"===m.functionType?(y=[e.SIZE_PACK_FACTOR*n.layout.get("text-size").evaluate(a,{})])[0]>Ne&&e.warnOnce(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===m.functionType&&((y=[e.SIZE_PACK_FACTOR*d.compositeTextSizes[0].evaluate(a,{}),e.SIZE_PACK_FACTOR*d.compositeTextSizes[1].evaluate(a,{})])[0]>Ne||y[1]>Ne)&&e.warnOnce(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,h,y,s,i,a,l,r,c.lineStartIndex,c.lineLength),p.push(t.text.placedSymbolArray.length-1),4*h.length}function v(e,t,r,o){var n=e.compareText;if(t in n){for(var i=n[t],a=i.length-1;a>=0;a--)if(o.dist(i[a])<r)return!0}else n[t]=[];return n[t].push(o),!1}function g(t,r){for(var o=new e.EvaluationParameters(r),n=0,i=t;n<i.length;n+=1)i[n].recalculate(o)}function _(t,r){var o=e.getArrayBuffer(t.request,function(t,o){t?r(t):o&&r(null,{vectorTile:new e.mvt.VectorTile(new e.Protobuf(o.data)),rawData:o.data,cacheControl:o.cacheControl,expires:o.expires})});return function(){o.cancel(),r()}}function w(e){var t=0;if(e&&e.length>0){t+=Math.abs(b(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(b(e[r]))}return t}function b(e){var t,r,o,n,i,a,s=0,c=e.length;if(c>2){for(a=0;a<c;a++)a===c-2?(o=c-2,n=c-1,i=0):a===c-1?(o=c-1,n=0,i=1):(o=a,n=a+1,i=a+2),t=e[o],r=e[n],s+=(x(e[i][0])-x(t[0]))*Math.sin(x(r[1]));s=s*Ve.RADIUS*Ve.RADIUS/2}return s}function x(e){return e*Math.PI/180}function S(e,t){return function(r){return e(r,t)}}function k(e,t){t=!!t,e[0]=P(e[0],t);for(var r=1;r<e.length;r++)e[r]=P(e[r],!t);return e}function P(e,t){return function(e){return We.ring(e)>=0}(e)===t?e:e.reverse()}function E(e,t){this.options=t||{},this.features=e,this.length=e.length}function C(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}function A(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,M,e.layers[r])}(t,r),r.finish()}function M(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var o={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)o.feature=e.feature(r),t.writeMessage(2,T,o);var n=o.keys;for(r=0;r<n.length;r++)t.writeStringField(3,n[r]);var i=o.values;for(r=0;r<i.length;r++)t.writeMessage(4,N,i[r])}function T(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,z,e),t.writeVarintField(3,r.type),t.writeMessage(4,I,r)}function z(e,t){var r=e.feature,o=e.keys,n=e.values,i=e.keycache,a=e.valuecache;for(var s in r.properties){var c=i[s];void 0===c&&(o.push(s),c=o.length-1,i[s]=c),t.writeVarint(c);var l=r.properties[s],p=typeof l;"string"!==p&&"boolean"!==p&&"number"!==p&&(l=JSON.stringify(l));var u=p+":"+l,d=a[u];void 0===d&&(n.push(l),d=n.length-1,a[u]=d),t.writeVarint(d)}}function R(e,t){return(t<<3)+(7&e)}function F(e){return e<<1^e>>31}function I(e,t){for(var r=e.loadGeometry(),o=e.type,n=0,i=0,a=r.length,s=0;s<a;s++){var c=r[s],l=1;1===o&&(l=c.length),t.writeVarint(R(1,l));for(var p=3===o?c.length-1:c.length,u=0;u<p;u++){1===u&&1!==o&&t.writeVarint(R(2,p-1));var d=c[u].x-n,h=c[u].y-i;t.writeVarint(F(d)),t.writeVarint(F(h)),n+=d,i+=h}3===o&&t.writeVarint(R(7,0))}}function N(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function B(e,t,r,o,n,i){if(!(n-o<=r)){var a=Math.floor((o+n)/2);!function e(t,r,o,n,i,a){for(;i>n;){if(i-n>600){var s=i-n+1,c=o-n+1,l=Math.log(s),p=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*p*(s-p)/s)*(c-s/2<0?-1:1);e(t,r,o,Math.max(n,Math.floor(o-c*p/s+u)),Math.min(i,Math.floor(o+(s-c)*p/s+u)),a)}var d=r[2*o+a],h=n,m=i;for(O(t,r,n,o),r[2*i+a]>d&&O(t,r,n,i);h<m;){for(O(t,r,h,m),h++,m--;r[2*h+a]<d;)h++;for(;r[2*m+a]>d;)m--}r[2*n+a]===d?O(t,r,n,m):O(t,r,++m,i),m<=o&&(n=m+1),o<=m&&(i=m-1)}}(e,t,a,o,n,i%2),B(e,t,r,o,a-1,i+1),B(e,t,r,a+1,n,i+1)}}function O(e,t,r,o){j(e,r,o),j(t,2*r,2*o),j(t,2*r+1,2*o+1)}function j(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function D(e,t,r,o){var n=e-r,i=t-o;return n*n+i*i}function L(e,t,r,o,n){return new U(e,t,r,o,n)}function U(e,t,r,o,n){t=t||q,r=r||V,n=n||Array,this.nodeSize=o||64,this.points=e,this.ids=new n(e.length),this.coords=new n(2*e.length);for(var i=0;i<e.length;i++)this.ids[i]=i,this.coords[2*i]=t(e[i]),this.coords[2*i+1]=r(e[i]);B(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function q(e){return e[0]}function V(e){return e[1]}function W(e){this.options=K(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function H(e,t,r,o,n){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:o,properties:n}}function G(e){return{type:"Feature",id:e.id,properties:Z(e),geometry:{type:"Point",coordinates:[360*(e.x-.5),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r}function Z(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return K(K({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function J(e){return e/360+.5}function X(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function K(e,t){for(var r in t)e[r]=t[r];return e}function Q(e){return e.x}function Y(e){return e.y}function $(e,t,r,o,n,i){var a=n-r,s=i-o;if(0!==a||0!==s){var c=((e-r)*a+(t-o)*s)/(a*a+s*s);c>1?(r=n,o=i):c>0&&(r+=a*c,o+=s*c)}return(a=e-r)*a+(s=t-o)*s}function ee(e,t,r,o){var n={id:void 0===e?null:e,type:t,geometry:r,tags:o,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)te(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var o=0;o<t.length;o++)te(e,t[o]);else if("MultiPolygon"===r)for(o=0;o<t.length;o++)for(var n=0;n<t[o].length;n++)te(e,t[o][n])}(n),n}function te(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function re(e,t,r,o){if(t.geometry){var n=t.geometry.coordinates,i=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],c=t.id;if(r.promoteId?c=t.properties[r.promoteId]:r.generateId&&(c=o||0),"Point"===i)oe(n,s);else if("MultiPoint"===i)for(var l=0;l<n.length;l++)oe(n[l],s);else if("LineString"===i)ne(n,s,a,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(l=0;l<n.length;l++)s=[],ne(n[l],s,a,!1),e.push(ee(c,"LineString",s,t.properties));return}ie(n,s,a,!1)}else if("Polygon"===i)ie(n,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(l=0;l<t.geometry.geometries.length;l++)re(e,{id:c,geometry:t.geometry.geometries[l],properties:t.properties},r,o);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<n.length;l++){var p=[];ie(n[l],p,a,!0),s.push(p)}}e.push(ee(c,i,s,t.properties))}}function oe(e,t){t.push(ae(e[0])),t.push(se(e[1])),t.push(0)}function ne(e,t,r,o){for(var n,i,a=0,s=0;s<e.length;s++){var c=ae(e[s][0]),l=se(e[s][1]);t.push(c),t.push(l),t.push(0),s>0&&(a+=o?(n*l-c*i)/2:Math.sqrt(Math.pow(c-n,2)+Math.pow(l-i,2))),n=c,i=l}var p=t.length-3;t[2]=1,function e(t,r,o,n){for(var i,a=n,s=o-r>>1,c=o-r,l=t[r],p=t[r+1],u=t[o],d=t[o+1],h=r+3;h<o;h+=3){var m=$(t[h],t[h+1],l,p,u,d);if(m>a)i=h,a=m;else if(m===a){var y=Math.abs(h-s);y<c&&(i=h,c=y)}}a>n&&(i-r>3&&e(t,r,i,n),t[i+2]=a,o-i>3&&e(t,i,o,n))}(t,0,p,r),t[p+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ie(e,t,r,o){for(var n=0;n<e.length;n++){var i=[];ne(e[n],i,r,o),t.push(i)}}function ae(e){return e/360+.5}function se(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function ce(e,t,r,o,n,i,a,s){if(o/=t,i>=(r/=t)&&a<o)return e;if(a<r||i>=o)return null;for(var c=[],l=0;l<e.length;l++){var p=e[l],u=p.geometry,d=p.type,h=0===n?p.minX:p.minY,m=0===n?p.maxX:p.maxY;if(h>=r&&m<o)c.push(p);else if(!(m<r||h>=o)){var y=[];if("Point"===d||"MultiPoint"===d)le(u,y,r,o,n);else if("LineString"===d)pe(u,y,r,o,n,!1,s.lineMetrics);else if("MultiLineString"===d)de(u,y,r,o,n,!1);else if("Polygon"===d)de(u,y,r,o,n,!0);else if("MultiPolygon"===d)for(var f=0;f<u.length;f++){var v=[];de(u[f],v,r,o,n,!0),v.length&&y.push(v)}if(y.length){if(s.lineMetrics&&"LineString"===d){for(f=0;f<y.length;f++)c.push(ee(p.id,d,y[f],p.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===y.length?(d="LineString",y=y[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===y.length?"Point":"MultiPoint"),c.push(ee(p.id,d,y,p.tags))}}}return c.length?c:null}function le(e,t,r,o,n){for(var i=0;i<e.length;i+=3){var a=e[i+n];a>=r&&a<=o&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function pe(e,t,r,o,n,i,a){for(var s,c,l=ue(e),p=0===n?me:ye,u=e.start,d=0;d<e.length-3;d+=3){var h=e[d],m=e[d+1],y=e[d+2],f=e[d+3],v=e[d+4],g=0===n?h:m,_=0===n?f:v,w=!1;a&&(s=Math.sqrt(Math.pow(h-f,2)+Math.pow(m-v,2))),g<r?_>=r&&(c=p(l,h,m,f,v,r),a&&(l.start=u+s*c)):g>=o?_<o&&(c=p(l,h,m,f,v,o),a&&(l.start=u+s*c)):he(l,h,m,y),_<r&&g>=r&&(c=p(l,h,m,f,v,r),w=!0),_>o&&g<=o&&(c=p(l,h,m,f,v,o),w=!0),!i&&w&&(a&&(l.end=u+s*c),t.push(l),l=ue(e)),a&&(u+=s)}var b=e.length-3;h=e[b],m=e[b+1],y=e[b+2],(g=0===n?h:m)>=r&&g<=o&&he(l,h,m,y),b=l.length-3,i&&b>=3&&(l[b]!==l[0]||l[b+1]!==l[1])&&he(l,l[0],l[1],l[2]),l.length&&t.push(l)}function ue(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function de(e,t,r,o,n,i){for(var a=0;a<e.length;a++)pe(e[a],t,r,o,n,i,!1)}function he(e,t,r,o){e.push(t),e.push(r),e.push(o)}function me(e,t,r,o,n,i){var a=(i-t)/(o-t);return e.push(i),e.push(r+(n-r)*a),e.push(1),a}function ye(e,t,r,o,n,i){var a=(i-r)/(n-r);return e.push(t+(o-t)*a),e.push(i),e.push(1),a}function fe(e,t){for(var r=[],o=0;o<e.length;o++){var n,i=e[o],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)n=ve(i.geometry,t);else if("MultiLineString"===a||"Polygon"===a){n=[];for(var s=0;s<i.geometry.length;s++)n.push(ve(i.geometry[s],t))}else if("MultiPolygon"===a)for(n=[],s=0;s<i.geometry.length;s++){for(var c=[],l=0;l<i.geometry[s].length;l++)c.push(ve(i.geometry[s][l],t));n.push(c)}r.push(ee(i.id,a,n,i.tags))}return r}function ve(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var o=0;o<e.length;o+=3)r.push(e[o]+t,e[o+1],e[o+2]);return r}function ge(e,t){if(e.transformed)return e;var r,o,n,i=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var c=e.features[r],l=c.geometry,p=c.type;if(c.geometry=[],1===p)for(o=0;o<l.length;o+=2)c.geometry.push(_e(l[o],l[o+1],t,i,a,s));else for(o=0;o<l.length;o++){var u=[];for(n=0;n<l[o].length;n+=2)u.push(_e(l[o][n],l[o][n+1],t,i,a,s));c.geometry.push(u)}}return e.transformed=!0,e}function _e(e,t,r,o,n,i){return[Math.round(r*(e*o-n)),Math.round(r*(t*o-i))]}function we(e,t,r,o,n){for(var i=t===n.maxZoom?0:n.tolerance/((1<<t)*n.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,be(a,e[s],i,n);var c=e[s].minX,l=e[s].minY,p=e[s].maxX,u=e[s].maxY;c<a.minX&&(a.minX=c),l<a.minY&&(a.minY=l),p>a.maxX&&(a.maxX=p),u>a.maxY&&(a.maxY=u)}return a}function be(e,t,r,o){var n=t.geometry,i=t.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<n.length;s+=3)a.push(n[s]),a.push(n[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)xe(a,n,e,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<n.length;s++)xe(a,n[s],e,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var c=0;c<n.length;c++){var l=n[c];for(s=0;s<l.length;s++)xe(a,l[s],e,r,!0,0===s)}if(a.length){var p=t.tags||null;if("LineString"===i&&o.lineMetrics){for(var u in p={},t.tags)p[u]=t.tags[u];p.mapbox_clip_start=n.start/n.size,p.mapbox_clip_end=n.end/n.size}var d={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:p};null!==t.id&&(d.id=t.id),e.features.push(d)}}function xe(e,t,r,o,n,i){var a=o*o;if(o>0&&t.size<(n?a:o))r.numPoints+=t.length/3;else{for(var s=[],c=0;c<t.length;c+=3)(0===o||t[c+2]>a)&&(r.numSimplified++,s.push(t[c]),s.push(t[c+1])),r.numPoints++;n&&function(e,t){for(var r=0,o=0,n=e.length,i=n-2;o<n;i=o,o+=2)r+=(e[o]-e[i])*(e[o+1]+e[i+1]);if(r>0===t)for(o=0,n=e.length;o<n/2;o+=2){var a=e[o],s=e[o+1];e[o]=e[n-2-o],e[o+1]=e[n-1-o],e[n-2-o]=a,e[n-1-o]=s}}(s,i),e.push(s)}}function Se(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var o=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var o=0;o<e.features.length;o++)re(r,e.features[o],t,o);else"Feature"===e.type?re(r,e,t):re(r,{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(o=function(e,t){var r=t.buffer/t.extent,o=e,n=ce(e,1,-1-r,r,0,-1,2,t),i=ce(e,1,1-r,2+r,0,-1,2,t);return(n||i)&&(o=ce(e,1,-r,1+r,0,-1,2,t)||[],n&&(o=fe(n,1).concat(o)),i&&(o=o.concat(fe(i,-1)))),o}(o,t)).length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ke(e,t,r){return 32*((1<<e)*r+t)+e}function Pe(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var o=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!o)return t(null,null);var n=new Je(o.features),i=Qe(n);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:n,rawData:i.buffer})}var Ee=function(e){e&&this.replace(e)};Ee.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},Ee.prototype.update=function(t,o){for(var n=this,i=0,a=t;i<a.length;i+=1){var s=a[i];n._layerConfigs[s.id]=s;var c=n._layers[s.id]=e.createStyleLayer(s);c._featureFilter=e.featureFilter(c.filter)}for(var l=0,p=o;l<p.length;l+=1){var u=p[l];delete n._layerConfigs[u],delete n._layers[u]}this.familiesBySource={};for(var d=0,h=function(e){for(var t={},o=0;o<e.length;o++){var n=r(e[o]),i=t[n];i||(i=t[n]=[]),i.push(e[o])}var a=[];for(var s in t)a.push(t[s]);return a}(e.values(this._layerConfigs));d<h.length;d+=1){var m=h[d].map(function(e){return n._layers[e.id]}),y=m[0];if("none"!==y.visibility){var f=y.source||"",v=n.familiesBySource[f];v||(v=n.familiesBySource[f]={});var g=y.sourceLayer||"_geojsonTileLayer",_=v[g];_||(_=v[g]=[]),_.push(m)}}};var Ce=function(t,r,o,n,i,a,s,c,l,p,u,d){var h=s.top*c-l,m=s.bottom*c+l,y=s.left*c-l,f=s.right*c+l;if(this.boxStartIndex=t.length,p){var v=m-h,g=f-y;v>0&&(v=Math.max(10*c,v),this._addLineCollisionCircles(t,r,o,o.segment,g,v,n,i,a,u))}else{if(d){var _=new e.Point(y,h),w=new e.Point(f,h),b=new e.Point(y,m),x=new e.Point(f,m),S=d*Math.PI/180;_._rotate(S),w._rotate(S),b._rotate(S),x._rotate(S),y=Math.min(_.x,w.x,b.x,x.x),f=Math.max(_.x,w.x,b.x,x.x),h=Math.min(_.y,w.y,b.y,x.y),m=Math.max(_.y,w.y,b.y,x.y)}t.emplaceBack(o.x,o.y,y,h,f,m,n,i,a,0,0)}this.boxEndIndex=t.length};Ce.prototype._addLineCollisionCircles=function(e,t,r,o,n,i,a,s,c,l){var p=i/2,u=Math.floor(n/p)||1,d=1+.4*Math.log(l)/Math.LN2,h=Math.floor(u*d/2),m=-i/2,y=r,f=o+1,v=m,g=-n/2,_=g-n/4;do{if(--f<0){if(v>g)return;f=0;break}v-=t[f].dist(y),y=t[f]}while(v>_);for(var w=t[f].dist(t[f+1]),b=-h;b<u+h;b++){var x=b*p,S=g+x;if(x<0&&(S+=x),x>n&&(S+=x-n),!(S<v)){for(;v+w<S;){if(v+=w,++f+1>=t.length)return;w=t[f].dist(t[f+1])}var k=S-v,P=t[f],E=t[f+1].sub(P)._unit()._mult(k)._add(P)._round(),C=Math.abs(S-m)<p?0:.8*(S-m);e.emplaceBack(E.x,E.y,-i/2,-i/2,i/2,i/2,a,s,c,i/2,C)}}};var Ae=l,Me=l;l.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,r=this.compare,o=t[e];e>0;){var n=e-1>>1,i=t[n];if(r(o,i)>=0)break;t[e]=i,e=n}t[e]=o},_down:function(e){for(var t=this.data,r=this.compare,o=this.length>>1,n=t[e];e<o;){var i=1+(e<<1),a=i+1,s=t[i];if(a<this.length&&r(t[a],s)<0&&(i=a,s=t[a]),r(s,n)>=0)break;t[e]=s,e=i}t[e]=n}},Ae.default=Me;var Te=e.createCommonjsModule(function(e){e.exports=function(e,t){var r,o,n,i,a,s,c,l;for(r=3&e.length,o=e.length-r,n=t,a=3432918353,s=461845907,l=0;l<o;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,n=27492+(65535&(i=5*(65535&(n=(n^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(c=0,r){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:n^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0}}),ze=e.createCommonjsModule(function(e){e.exports=function(e,t){for(var r,o=e.length,n=t^o,i=0;o>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),o-=4,++i;switch(o){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}}),Re=Te,Fe=Te,Ie=ze;Re.murmur3=Fe,Re.murmur2=Ie;var Ne=65535,Be=function(t){var r={},o=[];for(var n in t){var i=t[n],a=r[n]={};for(var s in i){var c=i[+s];if(c&&0!==c.bitmap.width&&0!==c.bitmap.height){var l={x:0,y:0,w:c.bitmap.width+2,h:c.bitmap.height+2};o.push(l),a[s]={rect:l,metrics:c.metrics}}}}var p=e.potpack(o),u=p.w,d=p.h,h=new e.AlphaImage({width:u||1,height:d||1});for(var m in t){var y=t[m];for(var f in y){var v=y[+f];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var g=r[m][f].rect;e.AlphaImage.copy(v.bitmap,h,{x:0,y:0},{x:g.x+1,y:g.y+1},v.bitmap)}}}this.image=h,this.positions=r};e.register("GlyphAtlas",Be);var Oe=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};Oe.prototype.parse=function(t,r,o,n){function i(){if(l)return n(l);if(p&&u&&d){var t=new Be(p),r=new e.ImageAtlas(u,d);for(var o in h){var i=h[o];i instanceof e.SymbolBucket?(g(i.layers,this.zoom),m(i,p,t.positions,u,r.iconPositions,this.showCollisionBoxes)):i.hasPattern&&(i instanceof e.LineBucket||i instanceof e.FillBucket||i instanceof e.FillExtrusionBucket)&&(g(i.layers,this.zoom),i.addFeatures(y,r.patternPositions))}this.status="done",n(null,{buckets:e.values(h).filter(function(e){return!e.isEmpty()}),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r})}}var a=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var s=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID);c.bucketLayerIDs=[];var l,p,u,d,h={},y={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},f=r.familiesBySource[this.source];for(var v in f){var _=t.layers[v];if(_){1===_.version&&e.warnOnce('Vector tile source "'+a.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var w=s.encode(v),b=[],x=0;x<_.length;x++){var S=_.feature(x);b.push({feature:S,index:x,sourceLayerIndex:w})}for(var k=0,P=f[v];k<P.length;k+=1){var E=P[k],C=E[0];C.minzoom&&a.zoom<Math.floor(C.minzoom)||C.maxzoom&&a.zoom>=C.maxzoom||"none"!==C.visibility&&(g(E,a.zoom),(h[C.id]=C.createBucket({index:c.bucketLayerIDs.length,layers:E,zoom:a.zoom,pixelRatio:a.pixelRatio,overscaling:a.overscaling,collisionBoxArray:a.collisionBoxArray,sourceLayerIndex:w,sourceID:a.source})).populate(b,y),c.bucketLayerIDs.push(E.map(function(e){return e.id})))}}}var A=e.mapObject(y.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(A).length?o.send("getGlyphs",{uid:this.uid,stacks:A},function(e,t){l||(l=e,p=t,i.call(a))}):p={};var M=Object.keys(y.iconDependencies);M.length?o.send("getImages",{icons:M},function(e,t){l||(l=e,u=t,i.call(a))}):u={};var T=Object.keys(y.patternDependencies);T.length?o.send("getImages",{icons:T},function(e,t){l||(l=e,d=t,i.call(a))}):d={},i.call(this)};var je="undefined"!=typeof performance,De={getEntriesByName:function(e){return!!(je&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(je&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,r){return!!(je&&performance&&performance.measure)&&performance.measure(e,t,r)},clearMarks:function(e){return!!(je&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(je&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},Le=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},De.mark(this._marks.start)};Le.prototype.finish=function(){De.mark(this._marks.end);var e=De.getEntriesByName(this._marks.measure);return 0===e.length&&(De.measure(this._marks.measure,this._marks.start,this._marks.end),e=De.getEntriesByName(this._marks.measure),De.clearMarks(this._marks.start),De.clearMarks(this._marks.end),De.clearMeasures(this._marks.measure)),e},De.Performance=Le;var Ue=function(e,t,r){this.actor=e,this.layerIndex=t,this.loadVectorData=r||_,this.loading={},this.loaded={}};Ue.prototype.loadTile=function(t,r){var o=this,n=t.uid;this.loading||(this.loading={});var i=!!(t&&t.request&&t.request.collectResourceTiming)&&new De.Performance(t.request),a=this.loading[n]=new Oe(t);a.abort=this.loadVectorData(t,function(t,s){if(delete o.loading[n],t||!s)return r(t);var c=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var p={};if(i){var u=i.finish();u&&(p.resourceTiming=JSON.parse(JSON.stringify(u)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,o.layerIndex,o.actor,function(t,o){if(t||!o)return r(t);r(null,e.extend({rawTileData:c.slice(0)},o,l,p))}),o.loaded=o.loaded||{},o.loaded[n]=a})},Ue.prototype.reloadTile=function(e,t){var r=this.loaded,o=e.uid,n=this;if(r&&r[o]){var i=r[o];i.showCollisionBoxes=e.showCollisionBoxes;var a=function(e,r){var o=i.reloadCallback;o&&(delete i.reloadCallback,i.parse(i.vectorTile,n.layerIndex,n.actor,o)),t(e,r)};"parsing"===i.status?i.reloadCallback=a:"done"===i.status&&i.parse(i.vectorTile,this.layerIndex,this.actor,a)}},Ue.prototype.abortTile=function(e,t){var r=this.loading,o=e.uid;r&&r[o]&&r[o].abort&&(r[o].abort(),delete r[o]),t()},Ue.prototype.removeTile=function(e,t){var r=this.loaded,o=e.uid;r&&r[o]&&delete r[o],t()};var qe=function(){this.loaded={}};qe.prototype.loadTile=function(t,r){var o=t.uid,n=t.encoding,i=t.rawImageData,a=new e.DEMData(o,i,n);this.loaded=this.loaded||{},this.loaded[o]=a,r(null,a)},qe.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var Ve={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142},We={geometry:function e(t){var r,o=0;switch(t.type){case"Polygon":return w(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)o+=w(t.coordinates[r]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)o+=e(t.geometries[r]);return o}},ring:b},He=function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(S(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=k(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(S(k,t))),e}(t,r);default:return t}},Ge=e.mvt.VectorTileFeature.prototype.toGeoJSON,Ze=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};Ze.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,o=this._feature.geometry;r<o.length;r+=1){var n=o[r];t.push([new e.Point(n[0],n[1])])}return t}for(var i=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var c=[],l=0,p=s[a];l<p.length;l+=1){var u=p[l];c.push(new e.Point(u[0],u[1]))}i.push(c)}return i},Ze.prototype.toGeoJSON=function(e,t,r){return Ge.call(this,e,t,r)};var Je=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};Je.prototype.feature=function(e){return new Ze(this._features[e])};var Xe=e.vectorTile.VectorTileFeature,Ke=E;E.prototype.feature=function(e){return new C(this.features[e],this.options.extent)},C.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var o=t[r],n=[],i=0;i<o.length;i++)n.push(new e.Point$1(o[i][0],o[i][1]));this.geometry.push(n)}return this.geometry},C.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,n=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var c=a[s];t=Math.min(t,c.x),r=Math.max(r,c.x),o=Math.min(o,c.y),n=Math.max(n,c.y)}return[t,o,r,n]},C.prototype.toGeoJSON=Xe.prototype.toGeoJSON;var Qe=A,Ye=A,$e=function(e,t){t=t||{};var r={};for(var o in e)r[o]=new Ke(e[o].features,t),r[o].name=o,r[o].version=t.version,r[o].extent=t.extent;return A({layers:r})},et=Ke;Qe.fromVectorTileJs=Ye,Qe.fromGeojsonVt=$e,Qe.GeoJSONWrapper=et,U.prototype={range:function(e,t,r,o){return function(e,t,r,o,n,i,a){for(var s,c,l=[0,e.length-1,0],p=[];l.length;){var u=l.pop(),d=l.pop(),h=l.pop();if(d-h<=a)for(var m=h;m<=d;m++)s=t[2*m],c=t[2*m+1],s>=r&&s<=n&&c>=o&&c<=i&&p.push(e[m]);else{var y=Math.floor((h+d)/2);s=t[2*y],c=t[2*y+1],s>=r&&s<=n&&c>=o&&c<=i&&p.push(e[y]);var f=(u+1)%2;(0===u?r<=s:o<=c)&&(l.push(h),l.push(y-1),l.push(f)),(0===u?n>=s:i>=c)&&(l.push(y+1),l.push(d),l.push(f))}}return p}(this.ids,this.coords,e,t,r,o,this.nodeSize)},within:function(e,t,r){return function(e,t,r,o,n,i){for(var a=[0,e.length-1,0],s=[],c=n*n;a.length;){var l=a.pop(),p=a.pop(),u=a.pop();if(p-u<=i)for(var d=u;d<=p;d++)D(t[2*d],t[2*d+1],r,o)<=c&&s.push(e[d]);else{var h=Math.floor((u+p)/2),m=t[2*h],y=t[2*h+1];D(m,y,r,o)<=c&&s.push(e[h]);var f=(l+1)%2;(0===l?r-n<=m:o-n<=y)&&(a.push(u),a.push(h-1),a.push(f)),(0===l?r+n>=m:o+n>=y)&&(a.push(h+1),a.push(p),a.push(f))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}},W.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(e){return e}},load:function(e){var t=this.options.log;t&&console.time("total time");var r="prepare "+e.length+" points";t&&console.time(r),this.points=e;for(var o,n,i,a=[],s=0;s<e.length;s++)e[s].geometry&&a.push((o=e[s],n=s,{x:J((i=o.geometry.coordinates)[0]),y:X(i[1]),zoom:1/0,index:n,parentId:-1}));this.trees[this.options.maxZoom+1]=L(a,Q,Y,this.options.nodeSize,Float32Array),t&&console.timeEnd(r);for(var c=this.options.maxZoom;c>=this.options.minZoom;c--){var l=+Date.now();a=this._cluster(a,c),this.trees[c]=L(a,Q,Y,this.options.nodeSize,Float32Array),t&&console.log("z%d: %d clusters in %dms",c,a.length,+Date.now()-l)}return t&&console.timeEnd("total time"),this},getClusters:function(e,t){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),n=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,n=180;else if(r>n){var a=this.getClusters([r,o,180,i],t),s=this.getClusters([-180,o,n,i],t);return a.concat(s)}for(var c=this.trees[this._limitZoom(t)],l=c.range(J(r),X(i),J(n),X(o)),p=[],u=0;u<l.length;u++){var d=c.points[l[u]];p.push(d.numPoints?G(d):this.points[d.index])}return p},getChildren:function(e){var t=e>>5,r=e%32,o="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(o);var i=n.points[t];if(!i)throw new Error(o);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=n.within(i.x,i.y,a),c=[],l=0;l<s.length;l++){var p=n.points[s[l]];p.parentId===e&&c.push(p.numPoints?G(p):this.points[p.index])}if(0===c.length)throw new Error(o);return c},getLeaves:function(e,t,r){t=t||10,r=r||0;var o=[];return this._appendLeaves(o,e,t,r,0),o},getTile:function(e,t,r){var o=this.trees[this._limitZoom(e)],n=Math.pow(2,e),i=this.options.extent,a=this.options.radius/i,s=(r-a)/n,c=(r+1+a)/n,l={features:[]};return this._addTileFeatures(o.range((t-a)/n,s,(t+1+a)/n,c),o.points,t,r,n,l),0===t&&this._addTileFeatures(o.range(1-a/n,s,1,c),o.points,n,r,n,l),t===n-1&&this._addTileFeatures(o.range(0,s,a/n,c),o.points,-1,r,n,l),l.features.length?l:null},getClusterExpansionZoom:function(e){for(var t=e%32-1;t<this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},_appendLeaves:function(e,t,r,o,n){for(var i=this.getChildren(t),a=0;a<i.length;a++){var s=i[a].properties;if(s&&s.cluster?n+s.point_count<=o?n+=s.point_count:n=this._appendLeaves(e,s.cluster_id,r,o,n):n<o?n++:e.push(i[a]),e.length===r)break}return n},_addTileFeatures:function(e,t,r,o,n,i){for(var a=0;a<e.length;a++){var s=t[e[a]],c={type:1,geometry:[[Math.round(this.options.extent*(s.x*n-r)),Math.round(this.options.extent*(s.y*n-o))]],tags:s.numPoints?Z(s):this.points[s.index].properties},l=s.numPoints?s.id:this.points[s.index].id;void 0!==l&&(c.id=l),i.features.push(c)}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var r=[],o=this.options.radius/(this.options.extent*Math.pow(2,t)),n=0;n<e.length;n++){var i=e[n];if(!(i.zoom<=t)){i.zoom=t;var a=this.trees[t+1],s=a.within(i.x,i.y,o),c=i.numPoints||1,l=i.x*c,p=i.y*c,u=null;this.options.reduce&&(u=this.options.initial(),this._accumulate(u,i));for(var d=(n<<5)+(t+1),h=0;h<s.length;h++){var m=a.points[s[h]];if(!(m.zoom<=t)){m.zoom=t;var y=m.numPoints||1;l+=m.x*y,p+=m.y*y,c+=y,m.parentId=d,this.options.reduce&&this._accumulate(u,m)}}1===c?r.push(i):(i.parentId=d,r.push(H(l/c,p/c,d,c,u)))}}return r},_accumulate:function(e,t){var r=t.numPoints?t.properties:this.options.map(this.points[t.index].properties);this.options.reduce(e,r)}},Se.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Se.prototype.splitTile=function(e,t,r,o,n,i,a){for(var s=[e,t,r,o],c=this.options,l=c.debug;s.length;){o=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var p=1<<t,u=ke(t,r,o),d=this.tiles[u];if(!d&&(l>1&&console.time("creation"),d=this.tiles[u]=we(e,t,r,o,c),this.tileCoords.push({z:t,x:r,y:o}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,o,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=e,n){if(t===c.maxZoom||t===n)continue;var m=1<<n-t;if(r!==Math.floor(i/m)||o!==Math.floor(a/m))continue}else if(t===c.indexMaxZoom||d.numPoints<=c.indexMaxPoints)continue;if(d.source=null,0!==e.length){l>1&&console.time("clipping");var y,f,v,g,_,w,b=.5*c.buffer/c.extent,x=.5-b,S=.5+b,k=1+b;y=f=v=g=null,_=ce(e,p,r-b,r+S,0,d.minX,d.maxX,c),w=ce(e,p,r+x,r+k,0,d.minX,d.maxX,c),e=null,_&&(y=ce(_,p,o-b,o+S,1,d.minY,d.maxY,c),f=ce(_,p,o+x,o+k,1,d.minY,d.maxY,c),_=null),w&&(v=ce(w,p,o-b,o+S,1,d.minY,d.maxY,c),g=ce(w,p,o+x,o+k,1,d.minY,d.maxY,c),w=null),l>1&&console.timeEnd("clipping"),s.push(y||[],t+1,2*r,2*o),s.push(f||[],t+1,2*r,2*o+1),s.push(v||[],t+1,2*r+1,2*o),s.push(g||[],t+1,2*r+1,2*o+1)}}},Se.prototype.getTile=function(e,t,r){var o=this.options,n=o.extent,i=o.debug;if(e<0||e>24)return null;var a=1<<e,s=ke(e,t=(t%a+a)%a,r);if(this.tiles[s])return ge(this.tiles[s],n);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var c,l=e,p=t,u=r;!c&&l>0;)l--,p=Math.floor(p/2),u=Math.floor(u/2),c=this.tiles[ke(l,p,u)];return c&&c.source?(i>1&&console.log("found parent tile z%d-%d-%d",l,p,u),i>1&&console.time("drilling down"),this.splitTile(c.source,l,p,u,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?ge(this.tiles[s],n):null):null};var tt=function(t){function r(e,r,o){t.call(this,e,r,Pe),o&&(this.loadGeoJSON=o)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var t=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var o=!!(r&&r.request&&r.request.collectResourceTiming)&&new De.Performance(r.request);this.loadGeoJSON(r,function(n,i){if(n||!i)return t(n);if("object"!=typeof i)return t(new Error("Input data is not a valid GeoJSON object."));He(i,!0);try{e._geoJSONIndex=r.cluster?(a=r.superclusterOptions,new W(a)).load(i.features):function(e,t){return new Se(e,t)}(i,r.geojsonVtOptions)}catch(n){return t(n)}e.loaded={};var a,s={};if(o){var c=o.finish();c&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}t(null,s)})}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var o=this.loaded,n=e.uid;return o&&o[n]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},r.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},r.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},r}(Ue),rt=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:Ue,geojson:tt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isLoaded())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return rt.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},rt.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},rt.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},rt.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},rt.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},rt.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},rt.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},rt.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},rt.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var o=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==o.removeSource?o.removeSource(t,r):r()}},rt.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},rt.prototype.loadRTLTextPlugin=function(t,r,o){try{e.plugin.isLoaded()||(this.self.importScripts(r),o(e.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+r)))}catch(e){o(e.toString())}},rt.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new Ee),t},rt.prototype.getWorkerSource=function(e,t,r){var o=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){var n={send:function(t,r,n){o.actor.send(t,r,n,e)}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](n,this.getLayerIndex(e))}return this.workerSources[e][t][r]},rt.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new qe),this.demWorkerSources[e][t]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new rt(self),rt}),e(["./shared.js"],function(e){function t(e){if(!he)return null;for(var t=0;t<e.length;t++)if(e[t]in he)return e[t];return e[0]}function r(e,t){var r=n(_e.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"/"!==r.path&&(e.path=""+r.path+e.path),!_e.REQUIRE_ACCESS_TOKEN)return i(e);if(!(t=t||_e.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+we);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+we);return e.params.push("access_token="+t),i(e)}function o(e){return 0===e.indexOf("mapbox:")}function n(e){var t=e.match(Ee);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function i(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function a(e,t,r,o,n,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=o||.25,this.fontFamily=n||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function s(e,t,r,o,n,i,a){for(var s=0;s<t;s++){for(var l=0;l<r;l++)o[l]=e[l*t+s];for(c(o,n,i,a,r),l=0;l<r;l++)e[l*t+s]=n[l]}for(l=0;l<r;l++){for(s=0;s<t;s++)o[s]=e[l*t+s];for(c(o,n,i,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(n[s])}}function c(e,t,r,o,n){r[0]=0,o[0]=-Re,o[1]=+Re;for(var i=1,a=0;i<n;i++){for(var s=(e[i]+i*i-(e[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);s<=o[a];)a--,s=(e[i]+i*i-(e[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);r[++a]=i,o[a]=s,o[a+1]=+Re}for(i=0,a=0;i<n;i++){for(;o[a+1]<i;)a++;t[i]=(i-r[a])*(i-r[a])+e[r[a]]}}function l(t,r,o){var n=function(t,r){if(t)return o(t);if(r){var n=e.pick(r,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);r.vector_layers&&(n.vectorLayers=r.vector_layers,n.vectorLayerIds=n.vectorLayers.map(function(e){return e.id})),o(null,n)}};return t.url?e.getJSON(r(xe(t.url),e.ResourceType.Source),n):e.browser.frame(function(){return n(null,t)})}function p(e,t,r,o,n){var i=n.maxPitchScaleFactor(),a=e.tilesIn(r,i);a.sort(u);for(var s=[],c=0,l=a;c<l.length;c+=1){var p=l[c];s.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,e._state,p.queryGeometry,p.scale,o,n,i,e.transform.calculatePosMatrix(p.tileID.toUnwrapped()))})}var d=function(e){for(var t={},r={},o=0,n=e;o<n.length;o+=1){var i=n[o],a=i.queryResults,s=i.wrappedTileID,c=r[s]=r[s]||{};for(var l in a)for(var p=a[l],u=c[l]=c[l]||{},d=t[l]=t[l]||[],h=0,m=p;h<m.length;h+=1){var y=m[h];u[y.featureIndex]||(u[y.featureIndex]=!0,d.push(y.feature))}}return t}(s);for(var h in d)d[h].forEach(function(t){var r=e.getFeatureState(t.layer["source-layer"],t.id);t.source=t.layer.source,t.layer["source-layer"]&&(t.sourceLayer=t.layer["source-layer"]),t.state=r});return d}function u(e,t){var r=e.tileID,o=t.tileID;return r.overscaledZ-o.overscaledZ||r.canonical.y-o.canonical.y||r.wrap-o.wrap||r.canonical.x-o.canonical.x}function d(t,r){var o=r.zoomTo(t.canonical.z);return new e.Point((o.column-(t.canonical.x+t.wrap*Math.pow(2,t.canonical.z)))*e.EXTENT,(o.row-t.canonical.y)*e.EXTENT)}function h(e,t){return e%32-t%32||t-e}function m(e){return"raster"===e||"image"===e||"video"===e}function y(){return new e.window.Worker(Io.workerUrl)}function f(t,r){var o={};for(var n in t)"ref"!==n&&(o[n]=t[n]);return e.refProperties.forEach(function(e){e in r&&(o[e]=r[e])}),o}function v(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var o=0;o<e.length;o++)"ref"in e[o]&&(e[o]=f(e[o],t[e[o].ref]));return e}function g(e,t,r){r.push({command:jt.addSource,args:[e,t[e]]})}function _(e,t,r){t.push({command:jt.removeSource,args:[e]}),r[e]=!0}function w(e,t,r,o){_(e,r,o),g(e,t,r)}function b(t,r,o){var n;for(n in t[o])if(t[o].hasOwnProperty(n)&&"data"!==n&&!e.deepEqual(t[o][n],r[o][n]))return!1;for(n in r[o])if(r[o].hasOwnProperty(n)&&"data"!==n&&!e.deepEqual(t[o][n],r[o][n]))return!1;return!0}function x(t,r,o,n,i,a){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||o.push({command:a,args:[n,s,r[s],i]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||o.push({command:a,args:[n,s,r[s],i]}))}function S(e){return e.id}function k(e,t){return e[t.id]=t,e}function P(t,r){if(!t)return[{command:jt.setStyle,args:[r]}];var o=[];try{if(!e.deepEqual(t.version,r.version))return[{command:jt.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||o.push({command:jt.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||o.push({command:jt.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||o.push({command:jt.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||o.push({command:jt.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||o.push({command:jt.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||o.push({command:jt.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||o.push({command:jt.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||o.push({command:jt.setLight,args:[r.light]});var n={},i=[];!function(t,r,o,n){var i;for(i in r=r||{},t=t||{})t.hasOwnProperty(i)&&(r.hasOwnProperty(i)||_(i,o,n));for(i in r)r.hasOwnProperty(i)&&(t.hasOwnProperty(i)?e.deepEqual(t[i],r[i])||("geojson"===t[i].type&&"geojson"===r[i].type&&b(t,r,i)?o.push({command:jt.setGeoJSONSourceData,args:[i,r[i].data]}):w(i,r,o,n)):g(i,r,o))}(t.sources,r.sources,i,n);var a=[];t.layers&&t.layers.forEach(function(e){n[e.source]?o.push({command:jt.removeLayer,args:[e.id]}):a.push(e)}),o=o.concat(i),function(t,r,o){r=r||[];var n,i,a,s,c,l,p,u=(t=t||[]).map(S),d=r.map(S),h=t.reduce(k,{}),m=r.reduce(k,{}),y=u.slice(),f=Object.create(null);for(n=0,i=0;n<u.length;n++)a=u[n],m.hasOwnProperty(a)?i++:(o.push({command:jt.removeLayer,args:[a]}),y.splice(y.indexOf(a,i),1));for(n=0,i=0;n<d.length;n++)a=d[d.length-1-n],y[y.length-1-n]!==a&&(h.hasOwnProperty(a)?(o.push({command:jt.removeLayer,args:[a]}),y.splice(y.lastIndexOf(a,y.length-i),1)):i++,l=y[y.length-n],o.push({command:jt.addLayer,args:[m[a],l]}),y.splice(y.length-n,0,a),f[a]=!0);for(n=0;n<d.length;n++)if(s=h[a=d[n]],c=m[a],!f[a]&&!e.deepEqual(s,c))if(e.deepEqual(s.source,c.source)&&e.deepEqual(s["source-layer"],c["source-layer"])&&e.deepEqual(s.type,c.type)){for(p in x(s.layout,c.layout,o,a,null,jt.setLayoutProperty),x(s.paint,c.paint,o,a,null,jt.setPaintProperty),e.deepEqual(s.filter,c.filter)||o.push({command:jt.setFilter,args:[a,c.filter]}),e.deepEqual(s.minzoom,c.minzoom)&&e.deepEqual(s.maxzoom,c.maxzoom)||o.push({command:jt.setLayerZoomRange,args:[a,c.minzoom,c.maxzoom]}),s)s.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?x(s[p],c[p],o,a,p.slice(6),jt.setPaintProperty):e.deepEqual(s[p],c[p])||o.push({command:jt.setLayerProperty,args:[a,p,c[p]]}));for(p in c)c.hasOwnProperty(p)&&!s.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?x(s[p],c[p],o,a,p.slice(6),jt.setPaintProperty):e.deepEqual(s[p],c[p])||o.push({command:jt.setLayerProperty,args:[a,p,c[p]]}))}else o.push({command:jt.removeLayer,args:[a]}),l=y[y.lastIndexOf(a)+1],o.push({command:jt.addLayer,args:[c,l]})}(a,r.layers,o)}catch(e){console.warn("Unable to compute style diff:",e),o=[{command:jt.setStyle,args:[r]}]}return o}function E(t,r,o,n,i){var a=e.identity(new Float32Array(16));return r?(e.identity(a),e.scale(a,a,[1/i,1/i,1]),o||e.rotateZ(a,a,n.angle)):(e.scale(a,a,[n.width/2,-n.height/2,1]),e.translate(a,a,[1,-1,0]),e.multiply(a,a,t)),a}function C(t,r,o,n,i){var a=e.identity(new Float32Array(16));return r?(e.multiply(a,a,t),e.scale(a,a,[i,i,1]),o||e.rotateZ(a,a,-n.angle)):(e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/n.width,2/n.height,1])),a}function A(t,r){var o=[t.x,t.y,0,1];O(o,o,r);var n=o[3];return{point:new e.Point(o[0]/n,o[1]/n),signedDistanceFromCamera:n}}function M(e,t){var r=e[0]/e[3],o=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&o>=-t[1]&&o<=t[1]}function T(t,r,o,n,i,a,s,c){var l=n?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(l,o.transform.zoom,Lt.properties[n?"text-size":"icon-size"]),u=[256/o.width*2+1,256/o.height*2+1],d=n?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;d.clear();for(var h=t.lineVertexArray,m=n?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=o.transform.width/o.transform.height,f=!1,v=0;v<m.length;v++){var g=m.get(v);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!f)B(g.numGlyphs,d);else{f=!1;var _=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(_,_,r),M(_,u)){var w=.5+_[3]/o.transform.cameraToCenterDistance*.5,b=e.evaluateSizeForFeature(l,p,g),x=s?b*w:b/w,S=new e.Point(g.anchorX,g.anchorY),k=A(S,i).point,P={},E=F(g,x,!1,c,r,i,a,t.glyphOffsetArray,h,d,k,S,P,y);f=E.useVertical,(E.notEnoughRoom||f||E.needsFlipping&&F(g,x,!0,c,r,i,a,t.glyphOffsetArray,h,d,k,S,P,y).notEnoughRoom)&&B(g.numGlyphs,d)}else B(g.numGlyphs,d)}}n?t.text.dynamicLayoutVertexBuffer.updateData(d):t.icon.dynamicLayoutVertexBuffer.updateData(d)}function z(e,t,r,o,n,i,a,s,c,l,p,u){var d=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,y=t.getoffsetX(s.glyphStartIndex),f=t.getoffsetX(d-1),v=N(e*y,r,o,n,i,a,s.segment,h,m,c,l,p,u);if(!v)return null;var g=N(e*f,r,o,n,i,a,s.segment,h,m,c,l,p,u);return g?{first:v,last:g}:null}function R(t,r,o,n){return t===e.WritingMode.horizontal&&Math.abs(o.y-r.y)>Math.abs(o.x-r.x)*n?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<o.y:r.x>o.x)?{needsFlipping:!0}:null}function F(t,r,o,n,i,a,s,c,l,p,u,d,h,m){var y,f=r/24,v=t.lineOffsetX*r,g=t.lineOffsetY*r;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,w=t.lineStartIndex,b=t.lineStartIndex+t.lineLength,x=z(f,c,v,g,o,u,d,t,l,a,h,!1);if(!x)return{notEnoughRoom:!0};var S=A(x.first.point,s).point,k=A(x.last.point,s).point;if(n&&!o){var P=R(t.writingMode,S,k,m);if(P)return P}y=[x.first];for(var E=t.glyphStartIndex+1;E<_-1;E++)y.push(N(f*c.getoffsetX(E),v,g,o,u,d,t.segment,w,b,l,a,h,!1));y.push(x.last)}else{if(n&&!o){var C=A(d,i).point,M=t.lineStartIndex+t.segment+1,T=new e.Point(l.getx(M),l.gety(M)),F=A(T,i),B=F.signedDistanceFromCamera>0?F.point:I(d,T,C,1,i),O=R(t.writingMode,C,B,m);if(O)return O}var j=N(f*c.getoffsetX(t.glyphStartIndex),v,g,o,u,d,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,a,h,!1);if(!j)return{notEnoughRoom:!0};y=[j]}for(var D=0,L=y;D<L.length;D+=1){var U=L[D];e.addDynamicAttributes(p,U.point,U.angle)}return{}}function I(e,t,r,o,n){var i=A(e.add(e.sub(t)._unit()),n).point,a=r.sub(i);return r.add(a._mult(o/a.mag()))}function N(t,r,o,n,i,a,s,c,l,p,u,d,h){var m=n?t-r:t+r,y=m>0?1:-1,f=0;n&&(y*=-1,f=Math.PI),y<0&&(f+=Math.PI);for(var v=y>0?c+s:c+s+1,g=v,_=i,w=i,b=0,x=0,S=Math.abs(m);b+x<=S;){if((v+=y)<c||v>=l)return null;if(w=_,void 0===(_=d[v])){var k=new e.Point(p.getx(v),p.gety(v)),P=A(k,u);if(P.signedDistanceFromCamera>0)_=d[v]=P.point;else{var E=v-y;_=I(0===b?a:new e.Point(p.getx(E),p.gety(E)),k,w,S-b+1,u)}}b+=x,x=w.dist(_)}var C=(S-b)/x,M=_.sub(w),T=M.mult(C)._add(w);return T._add(M._unit()._perp()._mult(o*y)),{point:T,angle:f+Math.atan2(_.y-w.y,_.x-w.x),tileDistance:h?{prevTileDistance:v-y===g?0:p.gettileUnitDistanceFromAnchor(v-y),lastSegmentViewportDistance:S-b}:null}}function B(e,t){for(var r=0;r<e;r++){var o=t.length;t.resize(o+4),t.float32.set(Ut,3*o)}}function O(e,t,r){var o=t[0],n=t[1];return e[0]=r[0]*o+r[4]*n+r[12],e[1]=r[1]*o+r[5]*n+r[13],e[3]=r[3]*o+r[7]*n+r[15],e}function j(e,t,r){e[t+4]=r?1:0}function D(t,r,o){return r*(e.EXTENT/(t.tileSize*Math.pow(2,o-t.tileID.overscaledZ)))}function L(e,t,r){e.emplaceBack(t?1:0,r?1:0),e.emplaceBack(t?1:0,r?1:0),e.emplaceBack(t?1:0,r?1:0),e.emplaceBack(t?1:0,r?1:0)}function U(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Jt+t*Xt+r*Kt+t*Qt+r*Yt+t*$t+r*er+t}function q(t,r,o){var n=1/D(o,1,r.transform.tileZoom),i=Math.pow(2,o.tileID.overscaledZ),a=o.tileSize*Math.pow(2,r.transform.tileZoom)/i,s=a*(o.tileID.canonical.x+o.tileID.wrap*i),c=a*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,n,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,c>>16],u_pixel_coord_lower:[65535&s,65535&c]}}function V(e,t){return 1/D(e,1,t.tileZoom)}function W(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}function H(t,r){for(var o=t.sort(function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0}),n=0;n<o.length;n++){var i={},a=o[n],s=o.slice(n+1);G(a.tileID.wrapped(),a.tileID,s,new e.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),i),a.setMask(i,r)}}function G(t,r,o,n,i){for(var a=0;a<o.length;a++){var s=o[a];if(n.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var c=r.children(1/0),l=0;l<c.length;l++)G(t,c[l],o.slice(a),n,i);return}}var p=r.overscaledZ-t.overscaledZ,u=new e.CanonicalTileID(p,r.canonical.x-(t.canonical.x<<p),r.canonical.y-(t.canonical.y<<p));i[u.key]=i[u.key]||u}function Z(e,t,r,o,n){for(var i=e.context,a=i.gl,s=n?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),c=0;c<o.length;c++){var l=o[c],p=t.getTile(l),u=p.getBucket(r);if(u){var d=n?u.collisionCircle:u.collisionBox;d&&s.draw(i,n?a.TRIANGLES:a.LINES,zt.disabled,Rt.disabled,e.colorModeForRenderPass(),Ar(l.posMatrix,e.transform,p),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,null,e.transform.zoom,null,null,d.collisionVertexBuffer)}}}function J(t,r,o,n,i,a,s,c,l,p,u,d){for(var h,m,y=t.context,f=y.gl,v=t.transform,g="map"===c,_="map"===l,w=g&&"point"!==o.layout.get("symbol-placement"),b=g&&!_&&!w,x=_?t.depthModeForSublayer(0,zt.ReadOnly):zt.disabled,S=0,k=n;S<k.length;S+=1){var P=k[S],A=r.getTile(P),M=A.getBucket(o);if(M){var z=i?M.text:M.icon;if(z&&z.segments.get().length){var R=z.programConfigurations.get(o.id),F=i||M.sdfIcons,I=i?M.textSizeData:M.iconSizeData;h||(h=t.useProgram(F?"symbolSDF":"symbolIcon",R),m=e.evaluateSizeForZoom(I,v.zoom,Gr.properties[i?"text-size":"icon-size"])),y.activeTexture.set(f.TEXTURE0);var N=void 0;if(i)A.glyphAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),N=A.glyphAtlasTexture.size;else{var B=1!==o.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear,O=_||0!==v.pitch;A.imageAtlasTexture.bind(F||t.options.rotating||t.options.zooming||B||O?f.LINEAR:f.NEAREST,f.CLAMP_TO_EDGE),N=A.imageAtlasTexture.size}var j=D(A,1,t.transform.zoom),L=E(P.posMatrix,_,g,t.transform,j),U=C(P.posMatrix,_,g,t.transform,j);w&&T(M,P.posMatrix,t,i,L,U,_,p);var q=t.translatePosMatrix(P.posMatrix,A,a,s),V=w?Hr:L,W=t.translatePosMatrix(U,A,a,s,!0),H=void 0;if(F){var G=0!==o.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1);H=Ur(I.functionType,m,b,_,t,q,V,W,i,N,!0),G&&X(z,o,t,h,x,u,d,H),H.u_is_halo=0}else H=Lr(I.functionType,m,b,_,t,q,V,W,i,N);X(z,o,t,h,x,u,d,H)}}}}function X(e,t,r,o,n,i,a,s){var c=r.context,l=c.gl;o.draw(c,l.TRIANGLES,n,i,a,s,t.id,e.layoutVertexBuffer,e.indexBuffer,e.segments,t.paint,r.transform.zoom,e.programConfigurations.get(t.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function K(e,t,r,o,n,i,a){var s,c,l,p,u,d=e.context.gl,h=r.paint.get("fill-pattern"),m=h&&h.constantOr(1),y=r.getCrossfadeParameters();a?(c=m&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(c=m?"fillPattern":"fill",s=d.TRIANGLES);for(var f=0,v=o;f<v.length;f+=1){var g=v[f],_=t.getTile(g);if(!m||_.patternsLoaded()){var w=_.getBucket(r);if(w){var b=w.programConfigurations.get(r.id),x=e.useProgram(c,b);m&&(e.context.activeTexture.set(d.TEXTURE0),_.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),b.updatePatternPaintBuffers(y));var S=h.constantOr(null);if(S&&_.imageAtlas){var k=_.imageAtlas.patternPositions[S.to],P=_.imageAtlas.patternPositions[S.from];k&&P&&b.setConstantPatternPositions(k,P)}var E=e.translatePosMatrix(g.posMatrix,_,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(a){p=w.indexBuffer2,u=w.segments2;var C=[d.drawingBufferWidth,d.drawingBufferHeight];l="fillOutlinePattern"===c&&m?Pr(E,e,y,_,C):kr(E,C)}else p=w.indexBuffer,u=w.segments,l=m?Sr(E,e,y,_):xr(E);x.draw(e.context,s,n,e.stencilModeForClipping(g),i,l,r.id,w.layoutVertexBuffer,p,u,r.paint,e.transform.zoom,b)}}}}function Q(e,t,r,o,n,i){var a=e.context,s=a.gl,c=t.fbo;if(c){var l=e.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,c.colorAttachment.get());var p=Fr(e,t,r);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?l.draw(a,s.TRIANGLES,o,n,i,p,r.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):l.draw(a,s.TRIANGLES,o,n,i,p,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function Y(t,r,o,n,i,a,s){var c=t.context,l=c.gl;if(r.dem&&r.dem.data){var p=r.dem.dim,u=r.dem.getPixels();if(c.activeTexture.set(l.TEXTURE1),c.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(r.tileSize),r.demTexture){var d=r.demTexture;d.update(u,{premultiply:!1}),d.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(c,u,l.RGBA,{premultiply:!1}),r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);c.activeTexture.set(l.TEXTURE0);var h=r.fbo;if(!h){var m=new e.Texture(c,{width:p,height:p,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(h=r.fbo=c.createFramebuffer(p,p)).colorAttachment.set(m.texture)}c.bindFramebuffer.set(h.framebuffer),c.viewport.set([0,0,p,p]),t.useProgram("hillshadePrepare").draw(c,l.TRIANGLES,i,a,s,Ir(r,n),o.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function $(t,r,o,n,i){var a=n.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),c=(s-t.timeAdded)/a,l=r?(s-r.timeAdded)/a:-1,p=o.getSource(),u=i.coveringZoomLevel({tileSize:p.tileSize,roundZoom:p.roundZoom}),d=!r||Math.abs(r.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),h=d&&t.refreshedUponExpiration?1:e.clamp(d?c:1-l,0,1);return t.refreshedUponExpiration&&c>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function ee(t,r,o){var n=t.context,i=n.gl,a=o.posMatrix,s=t.useProgram("debug"),c=zt.disabled,l=Rt.disabled,p=t.colorModeForRenderPass(),u="$debug";s.draw(n,i.LINE_STRIP,c,l,p,Mr(a,e.Color.red),u,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);for(var d=function(e,t,r,o){o=o||1;var n,i,a,s,c,l,p,u,d=[];for(n=0,i=e.length;n<i;n++)if(c=Zr[e[n]]){for(u=null,a=0,s=c[1].length;a<s;a+=2)-1===c[1][a]&&-1===c[1][a+1]?u=null:(l=t+c[1][a]*o,p=200-c[1][a+1]*o,u&&d.push(u.x,u.y,l,p),u={x:l,y:p});t+=c[0]*o}return d}(o.toString(),50,0,5),h=new e.StructArrayLayout2i4,m=new e.StructArrayLayout2ui4,y=0;y<d.length;y+=2)h.emplaceBack(d[y],d[y+1]),m.emplaceBack(y,y+1);for(var f=n.createVertexBuffer(h,dr.members),v=n.createIndexBuffer(m),g=e.SegmentVector.simpleSegment(0,0,h.length/2,h.length/2),_=r.getTile(o).tileSize,w=e.EXTENT/(Math.pow(2,t.transform.zoom-o.overscaledZ)*_),b=[[-1,-1],[-1,1],[1,-1],[1,1]],x=0;x<b.length;x++){var S=b[x];s.draw(n,i.LINES,c,l,p,Mr(e.translate([],a,[w*S[0],w*S[1],0]),e.Color.white),u,f,v,g)}s.draw(n,i.LINES,c,l,p,Mr(a,e.Color.black),u,f,v,g)}function te(e,t){if(e.row>t.row){var r=e;e=t,t=r}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function re(e,t,r,o,n){var i=Math.max(r,Math.floor(t.y0)),a=Math.min(o,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var c=e.dx/e.dy,l=t.dx/t.dy,p=e.dx>0,u=t.dx<0,d=i;d<a;d++){var h=c*Math.max(0,Math.min(e.dy,d+p-e.y0))+e.x0,m=l*Math.max(0,Math.min(t.dy,d+u-t.y0))+t.x0;n(Math.floor(m),Math.ceil(h),d)}}function oe(e,t,r,o,n,i){var a,s=te(e,t),c=te(t,r),l=te(r,e);s.dy>c.dy&&(a=s,s=c,c=a),s.dy>l.dy&&(a=s,s=l,l=a),c.dy>l.dy&&(a=c,c=l,l=a),s.dy&&re(l,s,o,n,i),c.dy&&re(l,c,o,n,i)}function ne(e){return e*(2-e)}function ie(e){e.parentNode&&e.parentNode.removeChild(e)}function ae(e,t,r){if(e=new De(e.lng,e.lat),t){var o=new De(e.lng-360,e.lat),n=new De(e.lng+360,e.lat),i=r.locationPoint(e).distSqr(t);r.locationPoint(o).distSqr(t)<i?e=o:r.locationPoint(n).distSqr(t)<i&&(e=n)}for(;Math.abs(e.lng-r.center.lng)>180;){var a=r.locationPoint(e);if(a.x>=0&&a.y>=0&&a.x<=r.width&&a.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}function se(e,t,r){var o=e.classList;for(var n in Po)o.remove("mapboxgl-"+r+"-anchor-"+n);o.add("mapboxgl-"+r+"-anchor-"+t)}function ce(e,t,r){var o,n,i,a,s,c,l=r&&r.maxWidth||100,p=e._container.clientHeight/2,u=(o=e.unproject([0,p]),n=e.unproject([l,p]),i=Math.PI/180,a=o.lat*i,s=n.lat*i,c=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((n.lng-o.lng)*i),6371e3*Math.acos(Math.min(c,1)));if(r&&"imperial"===r.unit){var d=3.2808*u;d>5280?le(t,l,d/5280,"mi"):le(t,l,d,"ft")}else r&&"nautical"===r.unit?le(t,l,u/1852,"nm"):le(t,l,u,"m")}function le(e,t,r,o){var n,i,a,s=(n=r,(i=Math.pow(10,(""+Math.floor(n)).length-1))*(a=(a=n/i)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),c=s/r;"m"===o&&s>=1e3&&(s/=1e3,o="km"),e.style.width=t*c+"px",e.innerHTML=s+o}var pe,ue=e.createCommonjsModule(function(e){function t(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),o=URL.createObjectURL(r);try{t=new Worker(o),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(o),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){return void 0===r[e]&&(r[e]=function(e){var r=document.createElement("canvas"),o=Object.create(t.webGLContextAttributes);return o.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",o)||r.probablySupportsContext("experimental-webgl",o):r.supportsContext?r.supportsContext("webgl",o)||r.supportsContext("experimental-webgl",o):r.getContext("webgl",o)||r.getContext("experimental-webgl",o)}(e)),r[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),de={create:function(t,r,o){var n=e.window.document.createElement(t);return r&&(n.className=r),o&&o.appendChild(n),n},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},he=e.window.document?e.window.document.documentElement.style:null,me=t(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);de.disableDrag=function(){he&&me&&(pe=he[me],he[me]="none")},de.enableDrag=function(){he&&me&&(he[me]=pe)};var ye=t(["transform","WebkitTransform"]);de.setTransform=function(e,t){e.style[ye]=t};var fe=!1;try{var ve=Object.defineProperty({},"passive",{get:function(){fe=!0}});e.window.addEventListener("test",ve,ve),e.window.removeEventListener("test",ve,ve)}catch(e){fe=!1}de.addEventListener=function(e,t,r,o){void 0===o&&(o={}),"passive"in o&&fe?e.addEventListener(t,r,o):e.addEventListener(t,r,o.capture)},de.removeEventListener=function(e,t,r,o){void 0===o&&(o={}),"passive"in o&&fe?e.removeEventListener(t,r,o):e.removeEventListener(t,r,o.capture)};var ge=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",ge,!0)};de.suppressClick=function(){e.window.addEventListener("click",ge,!0),e.window.setTimeout(function(){e.window.removeEventListener("click",ge,!0)},0)},de.mousePos=function(t,r){var o=t.getBoundingClientRect();return r=r.touches?r.touches[0]:r,new e.Point(r.clientX-o.left-t.clientLeft,r.clientY-o.top-t.clientTop)},de.touchPos=function(t,r){for(var o=t.getBoundingClientRect(),n=[],i="touchend"===r.type?r.changedTouches:r.touches,a=0;a<i.length;a++)n.push(new e.Point(i[a].clientX-o.left-t.clientLeft,i[a].clientY-o.top-t.clientTop));return n},de.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},de.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var _e={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return 0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":"https://events.mapbox.com/events/v2"},REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},we="See https://www.mapbox.com/api-documentation/#access-tokens",be=function(e,t){if(!o(e))return e;var i=n(e);return i.path="/fonts/v1"+i.path,r(i,t)},xe=function(e,t){if(!o(e))return e;var i=n(e);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),r(i,t)},Se=function(e,t,a,s){var c=n(e);return o(e)?(c.path="/styles/v1"+c.path+"/sprite"+t+a,r(c,s)):(c.path+=""+t+a,i(c))},ke=/(\.(png|jpg)\d*)(?=$)/,Pe=function(t,r,a){if(!r||!o(r))return t;var s=n(t),c=e.browser.devicePixelRatio>=2||512===a?"@2x":"",l=e.browser.supportsWebp?".webp":"$1";return s.path=s.path.replace(ke,""+c+l),function(e){for(var t=0;t<e.length;t++)0===e[t].indexOf("access_token=tk.")&&(e[t]="access_token="+(_e.ACCESS_TOKEN||""))}(s.params),i(s)},Ee=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/,Ce=function(){this.eventData={anonId:null,lastSuccess:null,accessToken:_e.ACCESS_TOKEN},this.queue=[],this.pending=!1,this.pendingRequest=null};Ce.prototype.postTurnstileEvent=function(t){_e.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(e){return/(mapbox\.c)(n|om)/i.test(e)})&&this.queueRequest(e.browser.now())},Ce.prototype.queueRequest=function(e){this.queue.push(e),this.processRequests()},Ce.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r="mapbox.turnstileEventData:"+(_e.ACCESS_TOKEN||""),o=e.storageAvailable("localStorage"),a=!!this.eventData.accessToken&&this.eventData.accessToken!==_e.ACCESS_TOKEN;if(a&&(this.eventData.anonId=this.eventData.lastSuccess=null),(!this.eventData.anonId||!this.eventData.lastSuccess)&&o)try{var s=e.window.localStorage.getItem(r);s&&(this.eventData=JSON.parse(s))}catch(t){e.warnOnce("Unable to read from LocalStorage")}e.validateUuid(this.eventData.anonId)||(this.eventData.anonId=e.uuid(),a=!0);var c=this.queue.shift();if(this.eventData.lastSuccess){var l=new Date(this.eventData.lastSuccess),p=new Date(c),u=(c-this.eventData.lastSuccess)/864e5;a=a||u>=1||u<-1||l.getDate()!==p.getDate()}if(!a)return this.processRequests();var d=n(_e.EVENTS_URL);d.params.push("access_token="+(_e.ACCESS_TOKEN||""));var h={url:i(d),headers:{"Content-Type":"text/plain"}},m=JSON.stringify([{event:"appUserTurnstile",created:new Date(c).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.49.0","enabled.telemetry":!1,userId:this.eventData.anonId}]);this.pendingRequest=e.postData(h,m,function(n){if(t.pendingRequest=null,!n){if(t.eventData.lastSuccess=c,t.eventData.accessToken=_e.ACCESS_TOKEN,o)try{e.window.localStorage.setItem(r,JSON.stringify(t.eventData))}catch(t){e.warnOnce("Unable to write to LocalStorage")}t.processRequests()}})}};var Ae=new Ce,Me=Ae.postTurnstileEvent.bind(Ae),Te=function(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0};Te.prototype.isLoaded=function(){return this.loaded},Te.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var o=r[t],n=o.ids,i=o.callback;this._notify(n,i)}this.requestors=[]}},Te.prototype.getImage=function(e){return this.images[e]},Te.prototype.addImage=function(e,t){this.images[e]=t},Te.prototype.removeImage=function(e){delete this.images[e],delete this.patterns[e]},Te.prototype.listImages=function(){return Object.keys(this.images)},Te.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var o=0,n=e;o<n.length;o+=1){var i=n[o];this.images[i]||(r=!1)}this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},Te.prototype._notify=function(e,t){for(var r={},o=0,n=e;o<n.length;o+=1){var i=n[o],a=this.images[i];a&&(r[i]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}t(null,r)},Te.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},Te.prototype.getPattern=function(t){var r=this.patterns[t];if(r)return r.position;var o=this.getImage(t);if(!o)return null;var n={w:o.data.width+2,h:o.data.height+2,x:0,y:0},i=new e.ImagePosition(n,o);return this.patterns[t]={bin:n,position:i},this._updatePatternAtlas(),i},Te.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},Te.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var o=e.potpack(t),n=o.w,i=o.h,a=this.atlasImage;for(var s in a.resize({width:n||1,height:i||1}),this.patterns){var c=this.patterns[s].bin,l=c.x+1,p=c.y+1,u=this.images[s].data,d=u.width,h=u.height;e.RGBAImage.copy(u,a,{x:0,y:0},{x:l,y:p},{width:d,height:h}),e.RGBAImage.copy(u,a,{x:0,y:h-1},{x:l,y:p-1},{width:d,height:1}),e.RGBAImage.copy(u,a,{x:0,y:0},{x:l,y:p+h},{width:d,height:1}),e.RGBAImage.copy(u,a,{x:d-1,y:0},{x:l-1,y:p},{width:1,height:h}),e.RGBAImage.copy(u,a,{x:0,y:0},{x:l+d,y:p},{width:1,height:h})}this.dirty=!0};var ze=a,Re=1e20;a.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),o=0;o<this.size*this.size;o++){var n=t.data[4*o+3]/255;this.gridOuter[o]=1===n?0:0===n?Re:Math.pow(Math.max(0,.5-n),2),this.gridInner[o]=1===n?Re:0===n?0:Math.pow(Math.max(0,n-.5),2)}for(s(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),s(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),o=0;o<this.size*this.size;o++){var i=this.gridOuter[o]-this.gridInner[o];r[o]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return r};var Fe=function(e,t){this.requestTransform=e,this.localIdeographFontFamily=t,this.entries={}};Fe.prototype.setURL=function(e){this.url=e},Fe.prototype.getGlyphs=function(t,r){var o=this,n=[];for(var i in t)for(var a=0,s=t[i];a<s.length;a+=1){var c=s[a];n.push({stack:i,id:c})}e.asyncAll(n,function(e,t){var r=e.stack,n=e.id,i=o.entries[r];i||(i=o.entries[r]={glyphs:{},requests:{}});var a=i.glyphs[n];if(void 0===a)if(a=o._tinySDF(i,r,n))t(null,{stack:r,id:n,glyph:a});else{var s=Math.floor(n/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var c=i.requests[s];c||(c=i.requests[s]=[],Fe.loadGlyphRange(r,s,o.url,o.requestTransform,function(e,t){if(t)for(var r in t)i.glyphs[+r]=t[+r];for(var o=0,n=c;o<n.length;o+=1)(0,n[o])(e,t);delete i.requests[s]})),c.push(function(e,o){e?t(e):o&&t(null,{stack:r,id:n,glyph:o[n]||null})})}}else t(null,{stack:r,id:n,glyph:a})},function(e,t){if(e)r(e);else if(t){for(var o={},n=0,i=t;n<i.length;n+=1){var a=i[n],s=a.stack,c=a.id,l=a.glyph;(o[s]||(o[s]={}))[c]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}r(null,o)}})},Fe.prototype._tinySDF=function(t,r,o){var n=this.localIdeographFontFamily;if(n&&(e.isChar["CJK Unified Ideographs"](o)||e.isChar["Hangul Syllables"](o))){var i=t.tinySDF;if(!i){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),i=t.tinySDF=new Fe.TinySDF(24,3,8,.25,n,a)}return{id:o,bitmap:new e.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(o))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Fe.loadGlyphRange=function(t,r,o,n,i){var a=256*r,s=a+255,c=n(be(o).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(c,function(t,r){if(t)i(t);else if(r){for(var o={},n=0,a=e.parseGlyphPBF(r.data);n<a.length;n+=1){var s=a[n];o[s.id]=s}i(null,o)}})},Fe.TinySDF=ze;var Ie=function(){this.specification=e.styleSpec.light.position};Ie.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},Ie.prototype.interpolate=function(t,r,o){return{x:e.number(t.x,r.x,o),y:e.number(t.y,r.y,o),z:e.number(t.z,r.z,o)}};var Ne=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new Ie,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),Be=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(Ne),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t){if(!this._validate(e.validateLight,t))for(var r in t){var o=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),o):this._transitionable.setValue(r,o)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r){return e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),Oe=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};Oe.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.positions[r]||(this.positions[r]=this.addDash(e,t)),this.positions[r]},Oe.prototype.addDash=function(t,r){var o=r?7:0,n=2*o+1;if(this.nextRow+n>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var i=0,a=0;a<t.length;a++)i+=t[a];for(var s=this.width/i,c=s/2,l=t.length%2==1,p=-o;p<=o;p++)for(var u=this.nextRow+o+p,d=this.width*u,h=l?-t[t.length-1]:0,m=t[0],y=1,f=0;f<this.width;f++){for(;m<f/s;)h=m,m+=t[y],l&&y===t.length-1&&(m+=t[0]),y++;var v=Math.abs(f-h*s),g=Math.abs(f-m*s),_=Math.min(v,g),w=y%2==1,b=void 0;if(r){var x=o?p/o*(c+1):0;if(w){var S=c-Math.abs(x);b=Math.sqrt(_*_+S*S)}else b=c-Math.sqrt(_*_+x*x)}else b=(w?1:-1)*_;this.data[3+4*(d+f)]=Math.max(0,Math.min(255,b+128))}var k={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:i};return this.nextRow+=n,this.dirty=!0,k},Oe.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var je=function t(r,o){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var n=this.workerPool.acquire(this.id),i=0;i<n.length;i++){var a=n[i],s=new t.Actor(a,o,this.id);s.name="Worker "+i,this.actors.push(s)}};je.prototype.broadcast=function(t,r,o){o=o||function(){},e.asyncAll(this.actors,function(e,o){e.send(t,r,o)},o)},je.prototype.send=function(e,t,r,o){return("number"!=typeof o||isNaN(o))&&(o=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[o].send(e,t,r),o},je.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},je.Actor=e.Actor;var De=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};De.prototype.wrap=function(){return new De(e.wrap(this.lng,-180,180),this.lat)},De.prototype.toArray=function(){return[this.lng,this.lat]},De.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},De.prototype.toBounds=function(e){var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new Le(new De(this.lng-r,this.lat-t),new De(this.lng+r,this.lat+t))},De.convert=function(e){if(e instanceof De)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new De(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new De(Number(e.lng),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Le=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Le.prototype.setNorthEast=function(e){return this._ne=e instanceof De?new De(e.lng,e.lat):De.convert(e),this},Le.prototype.setSouthWest=function(e){return this._sw=e instanceof De?new De(e.lng,e.lat):De.convert(e),this},Le.prototype.extend=function(e){var t,r,o=this._sw,n=this._ne;if(e instanceof De)t=e,r=e;else{if(!(e instanceof Le))return Array.isArray(e)?e.every(Array.isArray)?this.extend(Le.convert(e)):this.extend(De.convert(e)):this;if(t=e._sw,r=e._ne,!t||!r)return this}return o||n?(o.lng=Math.min(t.lng,o.lng),o.lat=Math.min(t.lat,o.lat),n.lng=Math.max(r.lng,n.lng),n.lat=Math.max(r.lat,n.lat)):(this._sw=new De(t.lng,t.lat),this._ne=new De(r.lng,r.lat)),this},Le.prototype.getCenter=function(){return new De((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Le.prototype.getSouthWest=function(){return this._sw},Le.prototype.getNorthEast=function(){return this._ne},Le.prototype.getNorthWest=function(){return new De(this.getWest(),this.getNorth())},Le.prototype.getSouthEast=function(){return new De(this.getEast(),this.getSouth())},Le.prototype.getWest=function(){return this._sw.lng},Le.prototype.getSouth=function(){return this._sw.lat},Le.prototype.getEast=function(){return this._ne.lng},Le.prototype.getNorth=function(){return this._ne.lat},Le.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Le.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Le.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Le.convert=function(e){return!e||e instanceof Le?e:new Le(e)};var Ue=function(e,t,r){this.bounds=Le.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=r||24};Ue.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},Ue.prototype.contains=function(e){var t=Math.floor(this.lngX(this.bounds.getWest(),e.z)),r=Math.floor(this.latY(this.bounds.getNorth(),e.z)),o=Math.ceil(this.lngX(this.bounds.getEast(),e.z)),n=Math.ceil(this.latY(this.bounds.getSouth(),e.z));return e.x>=t&&e.x<o&&e.y>=r&&e.y<n},Ue.prototype.lngX=function(e,t){return(e+180)*(Math.pow(2,t)/360)},Ue.prototype.latY=function(t,r){var o=e.clamp(Math.sin(Math.PI/180*t),-.9999,.9999),n=Math.pow(2,r)/(2*Math.PI);return Math.pow(2,r-1)+.5*Math.log((1+o)/(1-o))*-n};var qe=function(t){function r(r,o,n,i){if(t.call(this),this.id=r,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,e.extend(this,e.pick(o,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},o),this._collectResourceTiming=o.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=l(this._options,this.map._transformRequest,function(r,o){t._tileJSONRequest=null,r?t.fire(new e.ErrorEvent(r)):o&&(e.extend(t,o),o.bounds&&(t.tileBounds=new Ue(o.bounds,t.minzoom,t.maxzoom)),Me(o.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){function o(e,o){return t.aborted?r(null):e&&404!==e.status?r(e):(o&&o.resourceTiming&&(t.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&o&&t.setExpiryData(o),t.loadVectorData(o,this.map.painter),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}var n=Pe(t.tileID.canonical.url(this.tiles,this.scheme),this.url),i={request:this.map._transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};i.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",i,o.bind(this)):"loading"===t.state?t.reloadCallback=r:this.dispatcher.send("reloadTile",i,o.bind(this),t.workerID)},r.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),Ve=function(t){function r(r,o,n,i){t.call(this),this.id=r,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({},o),e.extend(this,e.pick(o,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=l(this._options,this.map._transformRequest,function(r,o){t._tileJSONRequest=null,r?t.fire(new e.ErrorEvent(r)):o&&(e.extend(t,o),o.bounds&&(t.tileBounds=new Ue(o.bounds,t.minzoom,t.maxzoom)),Me(o.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var o=this,n=Pe(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(n,e.ResourceType.Tile),function(n,i){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(i){o.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var a=o.map.painter.context,s=a.gl;t.texture=o.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new e.Texture(a,i,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",r(null)}})},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),We=function(t){function r(r,o,n,i){t.call(this,r,o,n,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({},o),this.encoding=o.encoding||"mapbox"}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var o=Pe(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(o,e.ResourceType.Tile),function(o,n){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(o)t.state="errored",r(o);else if(n){this.map._refreshExpiredTiles&&t.setExpiryData(n),delete n.cacheControl,delete n.expires;var i=e.browser.getImageData(n),a={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:i,encoding:this.encoding};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",a,function(e,o){e&&(t.state="errored",r(e)),o&&(t.dem=o,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,o=Math.pow(2,r.z),n=(r.x-1+o)%o,i=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+o)%o,s=r.x+1===o?t.wrap+1:t.wrap,c={};return c[new e.OverscaledTileID(t.overscaledZ,i,r.z,n,r.y).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(c[new e.OverscaledTileID(t.overscaledZ,i,r.z,n,r.y-1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<o&&(c[new e.OverscaledTileID(t.overscaledZ,i,r.z,n,r.y+1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),c},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},r}(Ve),He=function(t){function r(r,o,n,i){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=n,this.setEventedParent(i),this._data=o.data,this._options=e.extend({},o),this._collectResourceTiming=o.collectResourceTiming,this._resourceTiming=[],void 0!==o.maxzoom&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution);var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(void 0!==o.buffer?o.buffer:128)*a,tolerance:(void 0!==o.tolerance?o.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:void 0!==o.clusterMaxZoom?Math.min(o.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(o.clusterRadius||50)*a,log:!1}},o.workerOptions)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(r){if(r)t.fire(new e.ErrorEvent(r));else{var o={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(o.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",o))}})},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)r.fire(new e.ErrorEvent(t));else{var o={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(o.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",o))}}),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t,this.workerID),this},r.prototype.getClusterChildren=function(e,t){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t,this.workerID),this},r.prototype.getClusterLeaves=function(e,t,r,o){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},o,this.workerID),this},r.prototype._updateWorkerData=function(t){var r=this,o=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(o.request=this.map._transformRequest(e.browser.resolveURL(n),e.ResourceType.Source),o.request.collectResourceTiming=this._collectResourceTiming):o.data=JSON.stringify(n),this.workerID=this.dispatcher.send(this.type+".loadData",o,function(e,n){r._removed||n&&n.abandoned||(r._loaded=!0,n&&n.resourceTiming&&n.resourceTiming[r.id]&&(r._resourceTiming=n.resourceTiming[r.id].slice(0)),r.dispatcher.send(r.type+".coalesce",{source:o.source},null,r.workerID),t(e))},this.workerID)},r.prototype.loadTile=function(t,r){var o=this,n=void 0===t.workerID?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,i,function(e,i){return t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,o.map.painter,"reloadTile"===n),r(null))},this.workerID)},r.prototype.abortTile=function(e){e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},r.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),Ge=function(t){function r(e,r,o,n){t.call(this),this.id=e,this.dispatcher=o,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(n),this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._transformRequest(this.url,e.ResourceType.Image),function(r,o){r?t.fire(new e.ErrorEvent(r)):o&&(t.image=e.browser.getImageData(o),t._finishLoading())})},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){this.coordinates=t;var r=this.map,o=t.map(function(e){return r.transform.locationCoordinate(De.convert(e)).zoomTo(0)}),n=this.centerCoord=e.getCoordinatesCenter(o);n.column=Math.floor(n.column),n.row=Math.floor(n.row),this.tileID=new e.CanonicalTileID(n.zoom,n.column,n.row),this.minzoom=this.maxzoom=n.zoom;var i=o.map(function(t){var r=t.zoomTo(n.zoom);return new e.Point(Math.round((r.column-n.column)*e.EXTENT),Math.round((r.row-n.row)*e.EXTENT))});return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[o];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),Ze=function(t){function r(e,r,o,n){t.call(this,e,r,o,n),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this,r=this.options;this.urls=[];for(var o=0,n=r.urls;o<n.length;o+=1){var i=n[o];t.urls.push(t.map._transformRequest(i,e.ResourceType.Source).url)}e.getVideo(this.urls,function(r,o){r?t.fire(new e.ErrorEvent(r)):o&&(t.video=o,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map._rerender()}),t.map&&t.video.play(),t._finishLoading())})},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[o];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(Ge),Je=function(t){function r(r,o,n,i){t.call(this,r,o,n,i),o.coordinates?Array.isArray(o.coordinates)&&4===o.coordinates.length&&!o.coordinates.some(function(e){return!Array.isArray(e)||2!==e.length||e.some(function(e){return"number"!=typeof e})})||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),o.animate&&"boolean"!=typeof o.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),o.canvas?"string"==typeof o.canvas||o.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=o,this.animate=void 0===o.animate||o.animate}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,o=r.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.canvas)):(this.texture=new e.Texture(r,this.canvas,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(Ge),Xe={vector:qe,raster:Ve,"raster-dem":We,geojson:He,video:Ze,image:Ge,canvas:Je},Ke=function(t,r,o,n){var i=new Xe[r.type](t,r,o,n);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return e.bindAll(["load","abort","unload","serialize","prepare"],i),i},Qe=function(e,t){this.max=e,this.onRemove=t,this.reset()};Qe.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var o=r[t];o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value)}return this.data={},this.order=[],this},Qe.prototype.add=function(e,t,r){var o=this,n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);var i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout(function(){o.remove(e,i)},r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},Qe.prototype.has=function(e){return e.wrapped().key in this.data},Qe.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},Qe.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},Qe.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},Qe.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,o=void 0===t?0:this.data[r].indexOf(t),n=this.data[r][o];return this.data[r].splice(o,1),n.timeout&&clearTimeout(n.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(n.value),this.order.splice(this.order.indexOf(r),1),this},Qe.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this};var Ye=function(e,t,r){this.context=e;var o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(r),this.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};Ye.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},Ye.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ye.prototype.updateData=function(e){var t=this.context.gl;this.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},Ye.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var $e={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},et=function(e,t,r,o){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;var n=e.gl;this.buffer=n.createBuffer(),e.bindVertexBuffer.set(this.buffer),n.bufferData(n.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};et.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},et.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},et.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var o=this.attributes[r],n=t.attributes[o.name];void 0!==n&&e.enableVertexAttribArray(n)}},et.prototype.setVertexAttribPointers=function(e,t,r){for(var o=0;o<this.attributes.length;o++){var n=this.attributes[o],i=t.attributes[n.name];void 0!==i&&e.vertexAttribPointer(i,n.components,e[$e[n.type]],!1,this.itemSize,n.offset+this.itemSize*(r||0))}},et.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var tt=function(t){this.context=t,this.current=e.Color.transparent};tt.prototype.get=function(){return this.current},tt.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a||(this.context.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e)};var rt=function(e){this.context=e,this.current=1};rt.prototype.get=function(){return this.current},rt.prototype.set=function(e){this.current!==e&&(this.context.gl.clearDepth(e),this.current=e)};var ot=function(e){this.context=e,this.current=0};ot.prototype.get=function(){return this.current},ot.prototype.set=function(e){this.current!==e&&(this.context.gl.clearStencil(e),this.current=e)};var nt=function(e){this.context=e,this.current=[!0,!0,!0,!0]};nt.prototype.get=function(){return this.current},nt.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(this.context.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e)};var it=function(e){this.context=e,this.current=!0};it.prototype.get=function(){return this.current},it.prototype.set=function(e){this.current!==e&&(this.context.gl.depthMask(e),this.current=e)};var at=function(e){this.context=e,this.current=255};at.prototype.get=function(){return this.current},at.prototype.set=function(e){this.current!==e&&(this.context.gl.stencilMask(e),this.current=e)};var st=function(e){this.context=e,this.current={func:e.gl.ALWAYS,ref:0,mask:255}};st.prototype.get=function(){return this.current},st.prototype.set=function(e){var t=this.current;e.func===t.func&&e.ref===t.ref&&e.mask===t.mask||(this.context.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e)};var ct=function(e){this.context=e;var t=this.context.gl;this.current=[t.KEEP,t.KEEP,t.KEEP]};ct.prototype.get=function(){return this.current},ct.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]||(this.context.gl.stencilOp(e[0],e[1],e[2]),this.current=e)};var lt=function(e){this.context=e,this.current=!1};lt.prototype.get=function(){return this.current},lt.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e}};var pt=function(e){this.context=e,this.current=[0,1]};pt.prototype.get=function(){return this.current},pt.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]||(this.context.gl.depthRange(e[0],e[1]),this.current=e)};var ut=function(e){this.context=e,this.current=!1};ut.prototype.get=function(){return this.current},ut.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e}};var dt=function(e){this.context=e,this.current=e.gl.LESS};dt.prototype.get=function(){return this.current},dt.prototype.set=function(e){this.current!==e&&(this.context.gl.depthFunc(e),this.current=e)};var ht=function(e){this.context=e,this.current=!1};ht.prototype.get=function(){return this.current},ht.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e}};var mt=function(e){this.context=e;var t=this.context.gl;this.current=[t.ONE,t.ZERO]};mt.prototype.get=function(){return this.current},mt.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]||(this.context.gl.blendFunc(e[0],e[1]),this.current=e)};var yt=function(t){this.context=t,this.current=e.Color.transparent};yt.prototype.get=function(){return this.current},yt.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a||(this.context.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e)};var ft=function(e){this.context=e,this.current=null};ft.prototype.get=function(){return this.current},ft.prototype.set=function(e){this.current!==e&&(this.context.gl.useProgram(e),this.current=e)};var vt=function(e){this.context=e,this.current=e.gl.TEXTURE0};vt.prototype.get=function(){return this.current},vt.prototype.set=function(e){this.current!==e&&(this.context.gl.activeTexture(e),this.current=e)};var gt=function(e){this.context=e;var t=this.context.gl;this.current=[0,0,t.drawingBufferWidth,t.drawingBufferHeight]};gt.prototype.get=function(){return this.current},gt.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(this.context.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e)};var _t=function(e){this.context=e,this.current=null};_t.prototype.get=function(){return this.current},_t.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e}};var wt=function(e){this.context=e,this.current=null};wt.prototype.get=function(){return this.current},wt.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e}};var bt=function(e){this.context=e,this.current=null};bt.prototype.get=function(){return this.current},bt.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e}};var xt=function(e){this.context=e,this.current=null};xt.prototype.get=function(){return this.current},xt.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e}};var St=function(e){this.context=e,this.current=null};St.prototype.get=function(){return this.current},St.prototype.set=function(e){var t=this.context.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e};var kt=function(e){this.context=e,this.current=null};kt.prototype.get=function(){return this.current},kt.prototype.set=function(e){this.current!==e&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(e),this.current=e)};var Pt=function(e){this.context=e,this.current=4};Pt.prototype.get=function(){return this.current},Pt.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e}};var Et=function(e){this.context=e,this.current=!1};Et.prototype.get=function(){return this.current},Et.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e}};var Ct=function(e,t){this.context=e,this.current=null,this.parent=t};Ct.prototype.get=function(){return this.current};var At=function(e){function t(t,r){e.call(this,t,r),this.dirty=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(this.dirty||this.current!==e){var t=this.context.gl;this.context.bindFramebuffer.set(this.parent),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t.prototype.setDirty=function(){this.dirty=!0},t}(Ct),Mt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;this.context.bindFramebuffer.set(this.parent),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e}},t}(Ct),Tt=function(e,t,r){this.context=e,this.width=t,this.height=r;var o=e.gl,n=this.framebuffer=o.createFramebuffer();this.colorAttachment=new At(e,n),this.depthAttachment=new Mt(e,n)};Tt.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r),e.deleteFramebuffer(this.framebuffer)};var zt=function(e,t,r){this.func=e,this.mask=t,this.range=r};zt.ReadOnly=!1,zt.ReadWrite=!0,zt.disabled=new zt(519,zt.ReadOnly,[0,1]);var Rt=function(e,t,r,o,n,i){this.test=e,this.ref=t,this.mask=r,this.fail=o,this.depthFail=n,this.pass=i};Rt.disabled=new Rt({func:519,mask:0},0,0,7680,7680,7680);var Ft=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Ft.Replace=[1,0],Ft.disabled=new Ft(Ft.Replace,e.Color.transparent,[!1,!1,!1,!1]),Ft.unblended=new Ft(Ft.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ft.alphaBlended=new Ft([1,771],e.Color.transparent,[!0,!0,!0,!0]);var It=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new tt(this),this.clearDepth=new rt(this),this.clearStencil=new ot(this),this.colorMask=new nt(this),this.depthMask=new it(this),this.stencilMask=new at(this),this.stencilFunc=new st(this),this.stencilOp=new ct(this),this.stencilTest=new lt(this),this.depthRange=new pt(this),this.depthTest=new ut(this),this.depthFunc=new dt(this),this.blend=new ht(this),this.blendFunc=new mt(this),this.blendColor=new yt(this),this.program=new ft(this),this.activeTexture=new vt(this),this.viewport=new gt(this),this.bindFramebuffer=new _t(this),this.bindRenderbuffer=new wt(this),this.bindTexture=new bt(this),this.bindVertexBuffer=new xt(this),this.bindElementBuffer=new St(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new kt(this),this.pixelStoreUnpack=new Pt(this),this.pixelStoreUnpackPremultiplyAlpha=new Et(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};It.prototype.createIndexBuffer=function(e,t){return new Ye(this,e,t)},It.prototype.createVertexBuffer=function(e,t,r){return new et(this,e,t,r)},It.prototype.createRenderbuffer=function(e,t,r){var o=this.gl,n=o.createRenderbuffer();return this.bindRenderbuffer.set(n),o.renderbufferStorage(o.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),n},It.prototype.createFramebuffer=function(e,t){return new Tt(this,e,t)},It.prototype.clear=function(e){var t=e.color,r=e.depth,o=this.gl,n=0;t&&(n|=o.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(n|=o.DEPTH_BUFFER_BIT,this.clearDepth.set(r),this.depthMask.set(!0)),o.clear(n)},It.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},It.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},It.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ft.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)};var Nt=function(t){function r(r,o,n){var i=this;t.call(this),this.id=r,this.dispatcher=n,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=Ke(r,o,n,this),this._tiles={},this._cache=new Qe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[t].upload(e)},r.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(h)},r.prototype.getRenderableIds=function(t){var r=this,o=[];for(var n in r._tiles)r._isIdRenderable(+n,t)&&o.push(+n);return t?o.sort(function(t,o){var n=r._tiles[t].tileID,i=r._tiles[o].tileID,a=new e.Point(n.canonical.x,n.canonical.y)._rotate(r.transform.angle),s=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle);return n.overscaledZ-i.overscaledZ||s.y-a.y||s.x-a.x}):o.sort(h)},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,o,n){if(n)return t.state="errored",void(404!==n.status?this._source.fire(new e.ErrorEvent(n,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===o&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){function t(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,o=t.tileID.canonical.y-e.tileID.canonical.y,n=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===r&&0===o||Math.abs(o)>1||(Math.abs(r)>1&&(1===Math.abs(r+n)?r+=n:1===Math.abs(r-n)&&(r-=n)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,o),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}for(var r=this.getRenderableIds(),o=0;o<r.length;o++){var n=r[o];if(e.neighboringTiles&&e.neighboringTiles[n]){var i=this.getTileByID(n);t(e,i),t(i,e)}}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},r.prototype._retainLoadedChildren=function(e,t,r,o){for(var n in this._tiles){var i=this._tiles[n];if(!(o[n]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>r)){for(var a=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(a=s)}for(var c=a;c.overscaledZ>t;)if(e[(c=c.scaledTo(c.overscaledZ-1)).key]){o[a.key]=a;break}}}},r.prototype.findLoadedParent=function(e,t){for(var r=e.overscaledZ-1;r>=t;r--){var o=e.scaledTo(r);if(!o)return;var n=String(o.key),i=this._tiles[n];if(i&&i.hasData())return i;if(this._cache.has(o))return this._cache.get(o)}},r.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),r=Math.floor(5*t),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)},r.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,r=Math.round(t);if(this._prevLng=e,r){var o={};for(var n in this._tiles){var i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),o[i.tileID.key]=i}for(var a in this._tiles=o,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var c=this._tiles[s];this._setTileReloadTimer(s,c)}}},r.prototype.update=function(t){var o=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter(function(e){return o._source.hasTile(e)}))):n=[];var i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(i-r.maxOverzooming,this._source.minzoom),s=Math.max(i+r.maxUnderzooming,this._source.minzoom),c=this._updateRetainedTiles(n,i);if(m(this._source.type)){for(var l={},p={},u=0,d=Object.keys(c);u<d.length;u+=1){var h=d[u],y=c[h],f=o._tiles[h];if(f&&!(f.fadeEndTime&&f.fadeEndTime<=e.browser.now())){var v=o.findLoadedParent(y,a);v&&(o._addTile(v.tileID),l[v.tileID.key]=v.tileID),p[h]=y}}for(var g in this._retainLoadedChildren(p,i,s,c),l)c[g]||(o._coveredTiles[g]=!0,c[g]=l[g])}for(var _ in c)o._tiles[_].clearFadeHold();for(var w=0,b=e.keysDifference(this._tiles,c);w<b.length;w+=1){var x=b[w],S=o._tiles[x];S.hasSymbolBuckets&&!S.holdingForFade()?S.setHoldDuration(o.map._fadeDuration):S.hasSymbolBuckets&&!S.symbolFadeFinished()||o._removeTile(x)}}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var o={},n={},i=Math.max(t-r.maxOverzooming,this._source.minzoom),a=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},c=0,l=e;c<l.length;c+=1){var p=l[c],u=this._addTile(p);o[p.key]=p,u.hasData()||t<this._source.maxzoom&&(s[p.key]=p)}this._retainLoadedChildren(s,t,a,o);for(var d=0,h=e;d<h.length;d+=1){var m=h[d],y=this._tiles[m.key];if(!y.hasData()){if(t+1>this._source.maxzoom){var f=m.children(this._source.maxzoom)[0],v=this.getTile(f);if(v&&v.hasData()){o[f.key]=f;continue}}else{var g=m.children(this._source.maxzoom);if(o[g[0].key]&&o[g[1].key]&&o[g[2].key]&&o[g[3].key])continue}for(var _=y.wasRequested(),w=m.overscaledZ-1;w>=i;--w){var b=m.scaledTo(w);if(n[b.key])break;if(n[b.key]=!0,!(y=this.getTile(b))&&_&&(y=this._addTile(b)),y&&(o[b.key]=b,_=y.wasRequested(),y.hasData()))break}}}return o},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var o=Boolean(r);return o||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,o||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var o=t.getExpiryTimeout();o&&(this._timers[e]=setTimeout(function(){r._reloadTile(e,"expired"),delete r._timers[e]},o))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r){for(var o=[],n=this.getIds(),i=1/0,a=1/0,s=-1/0,c=-1/0,l=t[0].zoom,p=0;p<t.length;p++){var u=t[p];i=Math.min(i,u.column),a=Math.min(a,u.row),s=Math.max(s,u.column),c=Math.max(c,u.row)}for(var h=0;h<n.length;h++){var m=this._tiles[n[h]];if(!m.holdingForFade()){var y=m.tileID,f=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),v=r*m.queryPadding*e.EXTENT/m.tileSize/f,g=[d(y,new e.Coordinate(i,a,l)),d(y,new e.Coordinate(s,c,l))];if(g[0].x-v<e.EXTENT&&g[0].y-v<e.EXTENT&&g[1].x+v>=0&&g[1].y+v>=0){for(var _=[],w=0;w<t.length;w++)_.push(d(y,t[w]));o.push({tile:m,tileID:y,queryGeometry:[_],scale:f})}}}return o},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map(function(e){return t._tiles[e].tileID}),o=0,n=r;o<n.length;o+=1){var i=n[o];i.posMatrix=t.transform.calculatePosMatrix(i.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(m(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.updateState(e,t,r)},r.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},r}(e.Evented);Nt.maxOverzooming=10,Nt.maxUnderzooming=3;var Bt,Ot=function(){this.active={}};Ot.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Ot.workerCount;)this.workers.push(new y);return this.active[e]=!0,this.workers.slice()},Ot.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},Ot.workerCount=Math.max(Math.floor(e.browser.hardwareConcurrency/2),1);var jt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"},Dt=function(e,t,r){var o=this.boxCells=[],n=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)o.push([]),n.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};Dt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Dt.prototype.insert=function(e,t,r,o,n){this._forEachCell(t,r,o,n,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(o),this.bboxes.push(n)},Dt.prototype.insertCircle=function(e,t,r,o){this._forEachCell(t-o,r-o,t+o,r+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(o)},Dt.prototype._insertBoxCell=function(e,t,r,o,n,i){this.boxCells[n].push(i)},Dt.prototype._insertCircleCell=function(e,t,r,o,n,i){this.circleCells[n].push(i)},Dt.prototype._query=function(e,t,r,o,n,i){if(r<0||e>this.width||o<0||t>this.height)return!n&&[];var a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=o){if(n)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var c=0;c<this.circleKeys.length;c++){var l=this.circles[3*c],p=this.circles[3*c+1],u=this.circles[3*c+2];a.push({key:this.circleKeys[c],x1:l-u,y1:p-u,x2:l+u,y2:p+u})}return i?a.filter(i):a}var d={hitTest:n,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,r,o,this._queryCell,a,d,i),n?a.length>0:a},Dt.prototype._queryCircle=function(e,t,r,o,n){var i=e-r,a=e+r,s=t-r,c=t+r;if(a<0||i>this.width||c<0||s>this.height)return!o&&[];var l=[],p={hitTest:o,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(i,s,a,c,this._queryCellCircle,l,p,n),o?l.length>0:l},Dt.prototype.query=function(e,t,r,o,n){return this._query(e,t,r,o,!1,n)},Dt.prototype.hitTest=function(e,t,r,o,n){return this._query(e,t,r,o,!0,n)},Dt.prototype.hitTestCircle=function(e,t,r,o){return this._queryCircle(e,t,r,!0,o)},Dt.prototype._queryCell=function(e,t,r,o,n,i,a,s){var c=a.seenUids,l=this.boxCells[n];if(null!==l)for(var p=this.bboxes,u=0,d=l;u<d.length;u+=1){var h=d[u];if(!c.box[h]){c.box[h]=!0;var m=4*h;if(e<=p[m+2]&&t<=p[m+3]&&r>=p[m+0]&&o>=p[m+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[h],x1:p[m],y1:p[m+1],x2:p[m+2],y2:p[m+3]})}}}var y=this.circleCells[n];if(null!==y)for(var f=this.circles,v=0,g=y;v<g.length;v+=1){var _=g[v];if(!c.circle[_]){c.circle[_]=!0;var w=3*_;if(this._circleAndRectCollide(f[w],f[w+1],f[w+2],e,t,r,o)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return i.push(!0),!0;var b=f[w],x=f[w+1],S=f[w+2];i.push({key:this.circleKeys[_],x1:b-S,y1:x-S,x2:b+S,y2:x+S})}}}},Dt.prototype._queryCellCircle=function(e,t,r,o,n,i,a,s){var c=a.circle,l=a.seenUids,p=this.boxCells[n];if(null!==p)for(var u=this.bboxes,d=0,h=p;d<h.length;d+=1){var m=h[d];if(!l.box[m]){l.box[m]=!0;var y=4*m;if(this._circleAndRectCollide(c.x,c.y,c.radius,u[y+0],u[y+1],u[y+2],u[y+3])&&(!s||s(this.boxKeys[m])))return i.push(!0),!0}}var f=this.circleCells[n];if(null!==f)for(var v=this.circles,g=0,_=f;g<_.length;g+=1){var w=_[g];if(!l.circle[w]){l.circle[w]=!0;var b=3*w;if(this._circlesCollide(v[b],v[b+1],v[b+2],c.x,c.y,c.radius)&&(!s||s(this.circleKeys[w])))return i.push(!0),!0}}},Dt.prototype._forEachCell=function(e,t,r,o,n,i,a,s){for(var c=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),p=this._convertToXCellCoord(r),u=this._convertToYCellCoord(o),d=c;d<=p;d++)for(var h=l;h<=u;h++){var m=this.xCellCount*h+d;if(n.call(this,e,t,r,o,m,i,a,s))return}},Dt.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Dt.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Dt.prototype._circlesCollide=function(e,t,r,o,n,i){var a=o-e,s=n-t,c=r+i;return c*c>a*a+s*s},Dt.prototype._circleAndRectCollide=function(e,t,r,o,n,i,a){var s=(i-o)/2,c=Math.abs(e-(o+s));if(c>s+r)return!1;var l=(a-n)/2,p=Math.abs(t-(n+l));if(p>l+r)return!1;if(c<=s||p<=l)return!0;var u=c-s,d=p-l;return u*u+d*d<=r*r};var Lt=e.properties.layout,Ut=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]),qt=function(e,t,r){void 0===t&&(t=new Dt(e.width+200,e.height+200,25)),void 0===r&&(r=new Dt(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};qt.prototype.placeCollisionBox=function(e,t,r,o,n){var i=this.projectAndGetPerspectiveRatio(o,e.anchorPointX,e.anchorPointY),a=r*i.perspectiveRatio,s=e.x1*a+i.point.x,c=e.y1*a+i.point.y,l=e.x2*a+i.point.x,p=e.y2*a+i.point.y;return!this.isInsideGrid(s,c,l,p)||!t&&this.grid.hitTest(s,c,l,p,n)?{box:[],offscreen:!1}:{box:[s,c,l,p],offscreen:this.isOffscreen(s,c,l,p)}},qt.prototype.approximateTileDistance=function(e,t,r,o,n){var i=n?1:o/this.pitchfactor,a=e.lastSegmentViewportDistance*r;return e.prevTileDistance+a+(i-1)*a*Math.abs(Math.sin(t))},qt.prototype.placeCollisionCircles=function(t,r,o,n,i,a,s,c,l,p,u,d,h){var m=[],y=this.projectAnchor(l,i.anchorX,i.anchorY),f=c/24,v=i.lineOffsetX*c,g=i.lineOffsetY*c,_=new e.Point(i.anchorX,i.anchorY),w=z(f,s,v,g,!1,A(_,p).point,_,i,a,p,{},!0),b=!1,x=!1,S=!0,k=y.perspectiveRatio*n,P=1/(n*o),E=0,C=0;w&&(E=this.approximateTileDistance(w.first.tileDistance,w.first.angle,P,y.cameraDistance,d),C=this.approximateTileDistance(w.last.tileDistance,w.last.angle,P,y.cameraDistance,d));for(var M=0;M<t.length;M+=5){var T=t[M],R=t[M+1],F=t[M+2],I=t[M+3];if(!w||I<-E||I>C)j(t,M,!1);else{var N=this.projectPoint(l,T,R),B=F*k;if(m.length>0){var O=N.x-m[m.length-4],D=N.y-m[m.length-3];if(B*B*2>O*O+D*D&&M+8<t.length){var L=t[M+8];if(L>-E&&L<C){j(t,M,!1);continue}}}var U=M/5;m.push(N.x,N.y,B,U),j(t,M,!0);var q=N.x-B,V=N.y-B,W=N.x+B,H=N.y+B;if(S=S&&this.isOffscreen(q,V,W,H),x=x||this.isInsideGrid(q,V,W,H),!r&&this.grid.hitTestCircle(N.x,N.y,B,h)){if(!u)return{circles:[],offscreen:!1};b=!0}}}return{circles:b||!x?[]:m,offscreen:S}},qt.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],o=1/0,n=1/0,i=-1/0,a=-1/0,s=0,c=t;s<c.length;s+=1){var l=c[s],p=new e.Point(l.x+100,l.y+100);o=Math.min(o,p.x),n=Math.min(n,p.y),i=Math.max(i,p.x),a=Math.max(a,p.y),r.push(p)}for(var u={},d={},h=0,m=this.grid.query(o,n,i,a).concat(this.ignoredGrid.query(o,n,i,a));h<m.length;h+=1){var y=m[h],f=y.key;if(void 0===u[f.bucketInstanceId]&&(u[f.bucketInstanceId]={}),!u[f.bucketInstanceId][f.featureIndex]){var v=[new e.Point(y.x1,y.y1),new e.Point(y.x2,y.y1),new e.Point(y.x2,y.y2),new e.Point(y.x1,y.y2)];e.polygonIntersectsPolygon(r,v)&&(u[f.bucketInstanceId][f.featureIndex]=!0,void 0===d[f.bucketInstanceId]&&(d[f.bucketInstanceId]=[]),d[f.bucketInstanceId].push(f.featureIndex))}}return d},qt.prototype.insertCollisionBox=function(e,t,r,o,n){var i={bucketInstanceId:r,featureIndex:o,collisionGroupID:n};(t?this.ignoredGrid:this.grid).insert(i,e[0],e[1],e[2],e[3])},qt.prototype.insertCollisionCircles=function(e,t,r,o,n){for(var i=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:o,collisionGroupID:n},s=0;s<e.length;s+=4)i.insertCircle(a,e[s],e[s+1],e[s+2])},qt.prototype.projectAnchor=function(e,t,r){var o=[t,r,0,1];return O(o,o,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5,cameraDistance:o[3]}},qt.prototype.projectPoint=function(t,r,o){var n=[r,o,0,1];return O(n,n,t),new e.Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100)},qt.prototype.projectAndGetPerspectiveRatio=function(t,r,o){var n=[r,o,0,1];return O(n,n,t),{point:new e.Point((n[0]/n[3]+1)/2*this.transform.width+100,(-n[1]/n[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5}},qt.prototype.isOffscreen=function(e,t,r,o){return r<100||e>=this.screenRightBoundary||o<100||t>this.screenBottomBoundary},qt.prototype.isInsideGrid=function(e,t,r,o){return r>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary};var Vt=function(e,t,r,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&r?1:0,this.placed=r};Vt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Wt=function(e,t,r,o,n){this.text=new Vt(e?e.text:null,t,r,n),this.icon=new Vt(e?e.icon:null,t,o,n)};Wt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ht=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},Gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};Gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var Zt=function(e,t,r){this.transform=e.clone(),this.collisionIndex=new qt(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Gt(r)};Zt.prototype.placeLayerTile=function(t,r,o,n){var i=r.getBucket(t),a=r.latestFeatureIndex;if(i&&a&&t.id===i.layerIds[0]){var s=r.collisionBoxArray,c=i.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),p=r.tileSize/e.EXTENT,u=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),d=E(u,"map"===c.get("text-pitch-alignment"),"map"===c.get("text-rotation-alignment"),this.transform,D(r,1,this.transform.zoom)),h=E(u,"map"===c.get("icon-pitch-alignment"),"map"===c.get("icon-rotation-alignment"),this.transform,D(r,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new function(e,t,r,o,n){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=o,this.tileID=n}(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,r.tileID),this.placeLayerBucket(i,u,d,h,l,p,o,r.holdingForFade(),n,s)}},Zt.prototype.placeLayerBucket=function(t,r,o,n,i,a,s,c,l,p){var u=t.layers[0].layout,d=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,e.properties.layout.properties["text-size"]),h=u.get("text-optional"),m=u.get("icon-optional"),y=this.collisionGroups.get(t.sourceID);!t.collisionArrays&&p&&t.deserializeCollisionBoxes(p);for(var f=0;f<t.symbolInstances.length;f++){var v=t.symbolInstances.get(f);if(!l[v.crossTileID]){if(c){this.placements[v.crossTileID]=new Ht(!1,!1,!1);continue}var g=!1,_=!1,w=!0,b=null,x=null,S=null,k=0,P=0,E=t.collisionArrays[f];E.textFeatureIndex&&(k=E.textFeatureIndex),E.textBox&&(g=(b=this.collisionIndex.placeCollisionBox(E.textBox,u.get("text-allow-overlap"),a,r,y.predicate)).box.length>0,w=w&&b.offscreen);var C=E.textCircles;if(C){var A=t.text.placedSymbolArray.get(v.horizontalPlacedTextSymbolIndex),M=e.evaluateSizeForFeature(t.textSizeData,d,A);x=this.collisionIndex.placeCollisionCircles(C,u.get("text-allow-overlap"),i,a,A,t.lineVertexArray,t.glyphOffsetArray,M,r,o,s,"map"===u.get("text-pitch-alignment"),y.predicate),g=u.get("text-allow-overlap")||x.circles.length>0,w=w&&x.offscreen}E.iconFeatureIndex&&(P=E.iconFeatureIndex),E.iconBox&&(_=(S=this.collisionIndex.placeCollisionBox(E.iconBox,u.get("icon-allow-overlap"),a,r,y.predicate)).box.length>0,w=w&&S.offscreen);var T=h||0===v.numGlyphVertices&&0===v.numVerticalGlyphVertices,z=m||0===v.numIconVertices;T||z?z?T||(_=_&&g):g=_&&g:_=g=_&&g,g&&b&&this.collisionIndex.insertCollisionBox(b.box,u.get("text-ignore-placement"),t.bucketInstanceId,k,y.ID),_&&S&&this.collisionIndex.insertCollisionBox(S.box,u.get("icon-ignore-placement"),t.bucketInstanceId,P,y.ID),g&&x&&this.collisionIndex.insertCollisionCircles(x.circles,u.get("text-ignore-placement"),t.bucketInstanceId,k,y.ID),this.placements[v.crossTileID]=new Ht(g,_,w||t.justReloaded),l[v.crossTileID]=!0}}t.justReloaded=!1},Zt.prototype.commit=function(e,t){this.commitTime=t;var r=!1,o=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,n=e?e.opacities:{};for(var i in this.placements){var a=this.placements[i],s=n[i];s?(this.opacities[i]=new Wt(s,o,a.text,a.icon),r=r||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[i]=new Wt(null,o,a.text,a.icon,a.skipFade),r=r||a.text||a.icon)}for(var c in n){var l=n[c];if(!this.opacities[c]){var p=new Wt(l,o,!1,!1);p.isHidden()||(this.opacities[c]=p,r=r||l.text.placed||l.icon.placed)}}r?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},Zt.prototype.updateLayerOpacities=function(e,t){for(var r={},o=0,n=t;o<n.length;o+=1){var i=n[o],a=i.getBucket(e);a&&i.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,i.collisionBoxArray)}},Zt.prototype.updateBucketOpacities=function(e,t,r){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexArray.clear(),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexArray.clear();var o=e.layers[0].layout,n=new Wt(null,0,!1,!1,!0),i=o.get("text-allow-overlap"),a=o.get("icon-allow-overlap"),s=new Wt(null,0,i&&(a||!e.hasIconData()||o.get("icon-optional")),a&&(i||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasCollisionBoxData()||e.hasCollisionCircleData())&&e.deserializeCollisionBoxes(r);for(var c=0;c<e.symbolInstances.length;c++){var l=e.symbolInstances.get(c),p=t[l.crossTileID],u=this.opacities[l.crossTileID];p?u=n:u||(u=s,this.opacities[l.crossTileID]=u),t[l.crossTileID]=!0;var d=l.numGlyphVertices>0||l.numVerticalGlyphVertices>0,h=l.numIconVertices>0;if(d){for(var m=U(u.text),y=(l.numGlyphVertices+l.numVerticalGlyphVertices)/4,f=0;f<y;f++)e.text.opacityVertexArray.emplaceBack(m);e.text.placedSymbolArray.get(l.horizontalPlacedTextSymbolIndex).hidden=u.text.isHidden(),l.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).hidden=u.text.isHidden())}if(h){for(var v=U(u.icon),g=0;g<l.numIconVertices/4;g++)e.icon.opacityVertexArray.emplaceBack(v);e.icon.placedSymbolArray.get(c).hidden=u.icon.isHidden()}if(e.hasCollisionBoxData()||e.hasCollisionCircleData()){var _=e.collisionArrays[c];if(_){_.textBox&&L(e.collisionBox.collisionVertexArray,u.text.placed,!1),_.iconBox&&L(e.collisionBox.collisionVertexArray,u.icon.placed,!1);var w=_.textCircles;if(w&&e.hasCollisionCircleData())for(var b=0;b<w.length;b+=5){var x=p||0===w[b+4];L(e.collisionCircle.collisionVertexArray,u.text.placed,x)}}}}e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(e.collisionBox.collisionVertexArray),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(e.collisionCircle.collisionVertexArray)},Zt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},Zt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},Zt.prototype.stillRecent=function(e){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>e},Zt.prototype.setStale=function(){this.stale=!0};var Jt=Math.pow(2,25),Xt=Math.pow(2,24),Kt=Math.pow(2,17),Qt=Math.pow(2,16),Yt=Math.pow(2,9),$t=Math.pow(2,8),er=Math.pow(2,1),tr=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};tr.prototype.continuePlacement=function(e,t,r,o,n){for(;this._currentTileIndex<e.length;){var i=e[this._currentTileIndex];if(t.placeLayerTile(o,i,r,this._seenCrossTileIDs),this._currentTileIndex++,n())return!0}};var rr=function(e,t,r,o,n,i){this.placement=new Zt(e,n,i),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=o,this._done=!1};rr.prototype.isDone=function(){return this._done},rr.prototype.continuePlacement=function(t,r,o){for(var n=this,i=e.browser.now(),a=function(){var t=e.browser.now()-i;return!n._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[n._currentPlacementIndex]],c=n.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=c)&&(!s.maxzoom||s.maxzoom>c)){if(n._inProgressLayer||(n._inProgressLayer=new tr),n._inProgressLayer.continuePlacement(o[s.source],n.placement,n._showCollisionBoxes,s,a))return;delete n._inProgressLayer}n._currentPlacementIndex--}this._done=!0},rr.prototype.commit=function(e,t){return this.placement.commit(e,t),this.placement};var or=512/e.EXTENT/2,nr=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var o=0;o<t.length;o++){var n=t.get(o),i=n.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,e)})}};nr.prototype.getScaledCoordinates=function(t,r){var o=r.canonical.z-this.tileID.canonical.z,n=or/Math.pow(2,o);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*n)}},nr.prototype.findMatches=function(e,t,r){for(var o=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),n=0;n<e.length;n++){var i=e.get(n);if(!i.crossTileID){var a=this.indexedSymbolInstances[i.key];if(a)for(var s=this.getScaledCoordinates(i,t),c=0,l=a;c<l.length;c+=1){var p=l[c];if(Math.abs(p.coord.x-s.x)<=o&&Math.abs(p.coord.y-s.y)<=o&&!r[p.crossTileID]){r[p.crossTileID]=!0,i.crossTileID=p.crossTileID;break}}}}};var ir=function(){this.maxCrossTileID=0};ir.prototype.generate=function(){return++this.maxCrossTileID};var ar=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ar.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var o=this.indexes[r],n={};for(var i in o){var a=o[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),n[a.tileID.key]=a}this.indexes[r]=n}this.lng=e},ar.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var o=0;o<t.symbolInstances.length;o++)t.symbolInstances.get(o).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var n=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var a=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in a){var c=a[s];c.tileID.isChildOf(e)&&c.findMatches(t.symbolInstances,e,n)}else{var l=a[e.scaledTo(Number(i)).key];l&&l.findMatches(t.symbolInstances,e,n)}}for(var p=0;p<t.symbolInstances.length;p++){var u=t.symbolInstances.get(p);u.crossTileID||(u.crossTileID=r.generate(),n[u.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new nr(e,t.symbolInstances,t.bucketInstanceId),!0},ar.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var o=0,n=t.indexedSymbolInstances[r];o<n.length;o+=1){var i=n[o];delete this.usedCrossTileIDs[e][i.crossTileID]}},ar.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var o=this.indexes[r];for(var n in o)e[o[n].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,o[n]),delete o[n],t=!0)}return t};var sr=function(){this.layerIndexes={},this.crossTileIDs=new ir,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sr.prototype.addLayer=function(e,t,r){var o=this.layerIndexes[e.id];void 0===o&&(o=this.layerIndexes[e.id]=new ar);var n=!1,i={};o.handleWrapJump(r);for(var a=0,s=t;a<s.length;a+=1){var c=s[a],l=c.getBucket(e);l&&e.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),o.addBucket(c.tileID,l,this.crossTileIDs)&&(n=!0),i[l.bucketInstanceId]=!0)}return o.removeStaleBuckets(i)&&(n=!0),n},sr.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var cr=function(t,r){return e.emitValidationErrors(t,r&&r.filter(function(e){return"source.canvas"!==e.identifier}))},lr=e.pick(jt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),pr=e.pick(jt,["setCenter","setZoom","setBearing","setPitch"]),ur=function(t){function i(r,o){var n=this;void 0===o&&(o={}),t.call(this),this.map=r,this.dispatcher=new je((Bt||(Bt=new Ot),Bt),this),this.imageManager=new Te,this.glyphManager=new Fe(r._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new Oe(256,512),this.crossTileSymbolIndex=new sr,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(e){for(var t in a.dispatcher.broadcast("loadRTLTextPlugin",e.pluginURL,e.completionCallback),a.sourceCaches)a.sourceCaches[t].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=n.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var o in n._layers){var i=n._layers[o];i.source===r.id&&n._validateLayer(i)}}}})}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(t,i){var a=this;void 0===i&&(i={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var s="boolean"==typeof i.validate?i.validate:!o(t);t=function(e,t){if(!o(e))return e;var i=n(e);return i.path="/styles/v1"+i.path,r(i,t)}(t,i.accessToken);var c=this.map._transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(c,function(t,r){a._request=null,t?a.fire(new e.ErrorEvent(t)):r&&a._load(r,s)})},i.prototype.loadJSON=function(t,r){var o=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame(function(){o._request=null,o._load(t,!1!==r.validate)})},i.prototype._load=function(t,r){var o=this;if(!r||!cr(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,t.sources)o.addSource(n,t.sources[n],{validate:!1});t.sprite?this._spriteRequest=function(t,r,o){function n(){if(s)o(s);else if(i&&a){var t=e.browser.getImageData(a),r={};for(var n in i){var c=i[n],l=c.width,p=c.height,u=c.x,d=c.y,h=c.sdf,m=c.pixelRatio,y=new e.RGBAImage({width:l,height:p});e.RGBAImage.copy(t,y,{x:u,y:d},{x:0,y:0},{width:l,height:p}),r[n]={data:y,pixelRatio:m,sdf:h}}o(null,r)}}var i,a,s,c=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(r(Se(t,c,".json"),e.ResourceType.SpriteJSON),function(e,t){l=null,s||(s=e,i=t,n())}),p=e.getImage(r(Se(t,c,".png"),e.ResourceType.SpriteImage),function(e,t){p=null,s||(s=e,a=t,n())});return{cancel:function(){l&&(l.cancel(),l=null),p&&(p.cancel(),p=null)}}}(t.sprite,this.map._transformRequest,function(t,r){if(o._spriteRequest=null,t)o.fire(new e.ErrorEvent(t));else if(r)for(var n in r)o.imageManager.addImage(n,r[n]);o.imageManager.setLoaded(!0),o.fire(new e.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=v(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={};for(var a=0,s=i;a<s.length;a+=1){var c=s[a];(c=e.createStyleLayer(c)).setEventedParent(o,{layer:{id:c.id}}),o._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Be(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},i.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var o=t.sourceLayer;if(o){var n=r.getSource();("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(o))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+o+'" does not exist on source "'+n.id+'" as specified by style layer "'+t.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(t){if(this._loaded){if(this._changed){var r=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);for(var n in(r.length||o.length)&&this._updateWorkerLayers(r,o),this._updatedSources){var i=this._updatedSources[n];"reload"===i?this._reloadSource(n):"clear"===i&&this._clearSource(n)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates(),this.fire(new e.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var c=0,l=this._order;c<l.length;c+=1){var p=l[c],u=this._layers[p];u.recalculate(t),!u.isHidden(t.zoom)&&u.source&&(this.sourceCaches[u.source].used=!0)}this.light.recalculate(t),this.z=t.zoom}},i.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(t){var r=this;if(this._checkLoaded(),cr(this,e.validateStyle(t)))return!1;(t=e.clone(t)).layers=v(t.layers);var o=P(this.serialize(),t).filter(function(e){return!(e.command in pr)});if(0===o.length)return!1;var n=o.filter(function(e){return!(e.command in lr)});if(n.length>0)throw new Error("Unimplemented: "+n.map(function(e){return e.command}).join(", ")+".");return o.forEach(function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)}),this.stylesheet=t,!0},i.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this.fire(new e.Event("data",{dataType:"style"}))},i.prototype.getImage=function(e){return this.imageManager.getImage(e)},i.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new e.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(t,r,o){var n=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0)||!this._validate(e.validateStyle.source,"sources."+t,r,null,o)){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[t]=new Nt(t,r,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:n.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var o=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],o.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),o.setEventedParent(null),o.clearTiles(),o.onRemove&&o.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},i.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},i.prototype.addLayer=function(t,r,o){this._checkLoaded();var n=t.id;if(this.getLayer(n))this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" already exists on this map')));else if("object"==typeof t.source&&(this.addSource(n,t.source),t=e.clone(t),t=e.extend(t,{source:n})),!this._validate(e.validateStyle.layer,"layers."+n,t,{arrayIndex:-1},o)){var i=e.createStyleLayer(t);this._validateLayer(i),i.setEventedParent(this,{layer:{id:n}});var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,n),this._layerOrderChanged=!0,this._layers[n]=i,this._removedLayers[n]&&i.source){var s=this._removedLayers[n];delete this._removedLayers[n],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i)}}},i.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var o=this._order.indexOf(t);this._order.splice(o,1);var n=r?this._order.indexOf(r):this._order.length;r&&-1===n?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(n,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var o=this._order.indexOf(t);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(e){return this._layers[e]},i.prototype.setLayerZoomRange=function(t,r,o){this._checkLoaded();var n=this.getLayer(t);n?n.minzoom===r&&n.maxzoom===o||(null!=r&&(n.minzoom=r),null!=o&&(n.maxzoom=o),this._updateLayer(n)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(t,r){this._checkLoaded();var o=this.getLayer(t);if(o){if(!e.deepEqual(o.filter,r))return null==r?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateStyle.filter,"layers."+o.id+".filter",r)||(o.filter=e.clone(r),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(t){return e.clone(this.getLayer(t).filter)},i.prototype.setLayoutProperty=function(t,r,o){this._checkLoaded();var n=this.getLayer(t);n?e.deepEqual(n.getLayoutProperty(r),o)||(n.setLayoutProperty(r,o),this._updateLayer(n)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},i.prototype.setPaintProperty=function(t,r,o){this._checkLoaded();var n=this.getLayer(t);n?e.deepEqual(n.getPaintProperty(r),o)||(n.setPaintProperty(r,o)&&this._updateLayer(n),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},i.prototype.setFeatureState=function(t,r){this._checkLoaded();var o=t.source,n=t.sourceLayer,i=this.sourceCaches[o],a=parseInt(t.id,10);void 0!==i?"vector"!==i.getSource().type||n?isNaN(a)||a<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(n,a,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new e.ErrorEvent(new Error("The source '"+o+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,o=t.sourceLayer,n=this.sourceCaches[r],i=parseInt(t.id,10);if(void 0!==n)if("vector"!==n.getSource().type||o){if(!(isNaN(i)||i<0))return n.getFeatureState(o,i);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var t=this;return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(e){return void 0!==e})},i.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(e){for(var t=[],r=this._order.length-1;r>=0;r--)for(var o=this._order[r],n=0,i=e;n<i.length;n+=1){var a=i[n][o];if(a)for(var s=0,c=a;s<c.length;s+=1){var l=c[s];t.push(l)}}return t},i.prototype.queryRenderedFeatures=function(t,r,o){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter);var n={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,a=r.layers;i<a.length;i+=1){var s=a[i],c=this._layers[s];if(!c)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];n[c.source]=!0}}var l=[],d=t.map(function(e){return o.pointCoordinate(e)});for(var h in this.sourceCaches)r.layers&&!n[h]||l.push(p(this.sourceCaches[h],this._layers,d,r,o));return this.placement&&l.push(function(e,t,r,o,n,i){for(var a={},s=n.queryRenderedSymbols(r),c=[],l=0,p=Object.keys(s).map(Number);l<p.length;l+=1){var d=p[l];c.push(i[d])}c.sort(u);for(var h=0,m=c;h<m.length;h+=1)!function(){var t=m[h],r=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,o.filter,o.layers,e);for(var n in r){var i=a[n]=a[n]||[],c=r[n];c.sort(function(e,r){var o=t.featureSortOrder;if(o){var n=o.indexOf(e.featureIndex);return o.indexOf(r.featureIndex)-n}return r.featureIndex-e.featureIndex});for(var l=0,p=c;l<p.length;l+=1){var u=p[l];i.push(u.feature)}}}();for(var y in a)!function(r){a[r].forEach(function(o){var n=e[r],i=t[n.source].getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=i})}(y);return a}(this._layers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(l)},i.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter);var o=this.sourceCaches[t];return o?function(e,t){for(var r=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),o=[],n={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;n[s]||(n[s]=!0,a.querySourceFeatures(o,t))}return o}(o,r):[]},i.prototype.addSourceType=function(e,t,r){return i.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(i.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(t){this._checkLoaded();var r=this.light.getLight(),o=!1;for(var n in t)if(!e.deepEqual(t[n],r[n])){o=!0;break}if(o){var i={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t),this.light.updateTransitions(i)}},i.prototype._validate=function(t,r,o,n,i){return(!i||!1!==i.validate)&&cr(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:o,styleSpec:e.styleSpec},n)))},i.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},i.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},i.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},i.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},i.prototype._updatePlacement=function(t,r,o,n){for(var i=!1,a=!1,s={},c=0,l=this._order;c<l.length;c+=1){var p=l[c],u=this._layers[p];if("symbol"===u.type){if(!s[u.source]){var d=this.sourceCaches[u.source];s[u.source]=d.getRenderableIds(!0).map(function(e){return d.getTileByID(e)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}var h=this.crossTileSymbolIndex.addLayer(u,s[u.source],t.center.lng);i=i||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var m=this._layerOrderChanged;if((m||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now()))&&(this.pauseablePlacement=new rr(t,this._order,m,r,o,n),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,e.browser.now()),a=!0),i&&this.pauseablePlacement.placement.setStale()),a||i)for(var y=0,f=this._order;y<f.length;y+=1){var v=f[y],g=this._layers[v];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},i.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r)},i.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},i}(e.Evented);ur.getSourceType=function(e){return Xe[e]},ur.setSourceType=function(e,t){Xe[e]=t},ur.registerForPluginAvailability=e.registerForPluginAvailability;var dr=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),hr={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_color(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"\nuniform vec2 u_texsize;\nuniform sampler2D u_image;\nuniform float u_fade;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_fade) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform vec4 u_scale;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_fade) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform vec4 u_scale;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileZoomRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileZoomRatio, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileZoomRatio, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_fade);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_height_factor;\nuniform vec4 u_scale;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\nuniform mediump vec4 u_scale;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileZoomRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    vec2 pattern_size_a = vec2(display_size_a.x * fromScale / tileZoomRatio, display_size_a.y);\n    vec2 pattern_size_b = vec2(display_size_b.x * toScale / tileZoomRatio, display_size_b.y);\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_a.y + 2.0) / 2.0) / pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_b.y + 2.0) / 2.0) / pattern_size_b.y);\n    vec2 pos_a = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_ratio;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n    // float tileRatio = u_scale.y;\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 256.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 256.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},mr=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g;for(var yr in hr)!function(e){var t=hr[e],r={};t.fragmentSource=t.fragmentSource.replace(mr,function(e,t,o,n,i){return r[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+o+" "+n+" "+i+";\n#else\nuniform "+o+" "+n+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n"}),t.vertexSource=t.vertexSource.replace(mr,function(e,t,o,n,i){var a="float"===n?"vec2":"vec4",s=i.match(/color/)?"color":a;return r[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+o+" "+a+" a_"+i+";\nvarying "+o+" "+n+" "+i+";\n#else\nuniform "+o+" "+n+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+o+" "+a+" a_"+i+";\n#else\nuniform "+o+" "+n+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+o+" "+n+" "+i+" = a_"+i+";\n#else\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+o+" "+n+" "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+o+" "+n+" "+i+" = u_"+i+";\n#endif\n"})}(yr);var fr=hr,vr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};vr.prototype.bind=function(e,t,r,o,n,i,a,s){this.context=e;for(var c=this.boundPaintVertexBuffers.length!==o.length,l=0;!c&&l<o.length;l++)this.boundPaintVertexBuffers[l]!==o[l]&&(c=!0);var p=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||c||this.boundIndexBuffer!==n||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||p?this.freshBind(t,r,o,n,i,a,s):(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),n&&n.dynamicDraw&&n.bind(),s&&s.bind())},vr.prototype.freshBind=function(e,t,r,o,n,i,a){var s,c=e.numAttributes,l=this.context,p=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=o,this.boundVertexOffset=n,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var u=c;u<s;u++)p.disableVertexAttribArray(u)}t.enableAttributes(p,e);for(var d=0,h=r;d<h.length;d+=1)h[d].enableAttributes(p,e);i&&i.enableAttributes(p,e),a&&a.enableAttributes(p,e),t.bind(),t.setVertexAttribPointers(p,e,n);for(var m=0,y=r;m<y.length;m+=1){var f=y[m];f.bind(),f.setVertexAttribPointers(p,e,n)}i&&(i.bind(),i.setVertexAttribPointers(p,e,n)),o&&o.bind(),a&&(a.bind(),a.setVertexAttribPointers(p,e,n)),l.currentNumAttributes=c},vr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var gr=function(t,r,o,n,i){var a=t.gl;this.program=a.createProgram();var s=o.defines().concat("#define DEVICE_PIXEL_RATIO "+e.browser.devicePixelRatio.toFixed(1));i&&s.push("#define OVERDRAW_INSPECTOR;");var c=s.concat(fr.prelude.fragmentSource,r.fragmentSource).join("\n"),l=s.concat(fr.prelude.vertexSource,r.vertexSource).join("\n"),p=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(p,c),a.compileShader(p),a.attachShader(this.program,p);var u=a.createShader(a.VERTEX_SHADER);a.shaderSource(u,l),a.compileShader(u),a.attachShader(this.program,u);for(var d=o.layoutAttributes||[],h=0;h<d.length;h++)a.bindAttribLocation(this.program,h,d[h].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var m={},y=0;y<this.numAttributes;y++){var f=a.getActiveAttrib(this.program,y);f&&(this.attributes[f.name]=a.getAttribLocation(this.program,f.name))}for(var v=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),g=0;g<v;g++){var _=a.getActiveUniform(this.program,g);_&&(m[_.name]=a.getUniformLocation(this.program,_.name))}this.fixedUniforms=n(t,m),this.binderUniforms=o.getUniforms(t,m)};gr.prototype.draw=function(e,t,r,o,n,i,a,s,c,l,p,u,d,h,m){var y,f=e.gl;for(var v in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(o),e.setColorMode(n),this.fixedUniforms)this.fixedUniforms[v].set(i[v]);d&&d.setUniforms(e,this.binderUniforms,p,{zoom:u});for(var g=(y={},y[f.LINES]=2,y[f.TRIANGLES]=3,y[f.LINE_STRIP]=1,y)[t],_=0,w=l.get();_<w.length;_+=1){var b=w[_],x=b.vaos||(b.vaos={});(x[a]||(x[a]=new vr)).bind(e,this,s,d?d.getPaintVertexBuffers():[],c,b.vertexOffset,h,m),f.drawElements(t,b.primitiveLength*g,f.UNSIGNED_SHORT,b.primitiveOffset*g*2)}};var _r=function(t,r){var o=r.style.light,n=o.properties.get("position"),i=[n.x,n.y,n.z],a=e.create$2();"viewport"===o.properties.get("anchor")&&e.fromRotation(a,-r.transform.angle),e.transformMat3(i,i,a);var s=o.properties.get("color");return{u_matrix:t,u_lightpos:i,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[s.r,s.g,s.b]}},wr=function(t,r,o,n,i){return e.extend(_r(t,r),q(n,r,i),{u_height_factor:-Math.pow(2,o.overscaledZ)/i.tileSize/8})},br=function(t,r,o){var n=e.create();e.ortho(n,0,t.width,t.height,0,0,1);var i=t.context.gl;return{u_matrix:n,u_world:[i.drawingBufferWidth,i.drawingBufferHeight],u_image:o,u_opacity:r.paint.get("fill-extrusion-opacity")}},xr=function(e){return{u_matrix:e}},Sr=function(t,r,o,n){return e.extend(xr(t),q(o,r,n))},kr=function(e,t){return{u_matrix:e,u_world:t}},Pr=function(t,r,o,n,i){return e.extend(Sr(t,r,o,n),{u_world:i})},Er=function(e,t,r,o){var n,i,a=e.transform;if("map"===o.paint.get("circle-pitch-alignment")){var s=D(r,1,a.zoom);n=!0,i=[s,s]}else n=!1,i=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===o.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,r,o.paint.get("circle-translate"),o.paint.get("circle-translate-anchor")),u_pitch_with_map:+n,u_extrude_scale:i}},Cr=function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},Ar=function(e,t,r){var o=D(r,1,t.zoom),n=Math.pow(2,t.zoom-r.tileID.overscaledZ),i=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:o,u_extrude_scale:[t.pixelsToGLUnits[0]/(o*n),t.pixelsToGLUnits[1]/(o*n)],u_overscale_factor:i}},Mr=function(e,t){return{u_matrix:e,u_color:t}},Tr=function(e){return{u_matrix:e}},zr=function(e,t,r,o){return{u_matrix:e,u_extrude_scale:D(t,1,r),u_intensity:o}},Rr=function(t,r,o,n){var i=e.create();e.ortho(i,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:i,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:o,u_color_ramp:n,u_opacity:r.paint.get("heatmap-opacity")}},Fr=function(t,r,o){var n=o.paint.get("hillshade-shadow-color"),i=o.paint.get("hillshade-highlight-color"),a=o.paint.get("hillshade-accent-color"),s=o.paint.get("hillshade-illumination-direction")*(Math.PI/180);return"viewport"===o.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle),{u_matrix:t.transform.calculatePosMatrix(r.tileID.toUnwrapped(),!0),u_image:0,u_latrange:function(t,r){var o=r.toCoordinate(),n=new e.Coordinate(o.column,o.row+1,o.zoom);return[t.transform.coordinateLocation(o).lat,t.transform.coordinateLocation(n).lat]}(t,r.tileID),u_light:[o.paint.get("hillshade-exaggeration"),s],u_shadow:n,u_highlight:i,u_accent:a}},Ir=function(t,r){var o=t.dem.dim,n=e.create();return e.ortho(n,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(n,n,[0,-e.EXTENT,0]),{u_matrix:n,u_image:1,u_dimension:[2*o,2*o],u_zoom:t.tileID.overscaledZ,u_maxzoom:r}},Nr=function(e,t,r){var o=e.transform;return{u_matrix:W(e,t,r),u_ratio:1/D(t,1,o.zoom),u_gl_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Br=function(t,r,o){return e.extend(Nr(t,r,o),{u_image:0})},Or=function(t,r,o,n){var i=t.transform,a=V(r,i);return{u_matrix:W(t,r,o),u_texsize:r.imageAtlasTexture.size,u_ratio:1/D(r,1,i.zoom),u_image:0,u_scale:[e.browser.devicePixelRatio,a,n.fromScale,n.toScale],u_fade:n.t,u_gl_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},jr=function(t,r,o,n,i){var a=t.transform,s=t.lineAtlas,c=V(r,a),l="round"===o.layout.get("line-cap"),p=s.getDash(n.from,l),u=s.getDash(n.to,l),d=p.width*i.fromScale,h=u.width*i.toScale;return e.extend(Nr(t,r,o),{u_patternscale_a:[c/d,-p.height/2],u_patternscale_b:[c/h,-u.height/2],u_sdfgamma:s.width/(256*Math.min(d,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:p.y,u_tex_y_b:u.y,u_mix:i.t})},Dr=function(e,t,r,o,n){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:o.mix,u_opacity:o.opacity*n.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:n.paint.get("raster-brightness-min"),u_brightness_high:n.paint.get("raster-brightness-max"),u_saturation_factor:(a=n.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(i=n.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:function(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}(n.paint.get("raster-hue-rotate"))};var i,a},Lr=function(e,t,r,o,n,i,a,s,c,l){var p=n.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:p.cameraToCenterDistance,u_pitch:p.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:p.width/p.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+c,u_pitch_with_map:+o,u_texsize:l,u_texture:0}},Ur=function(t,r,o,n,i,a,s,c,l,p,u){var d=i.transform;return e.extend(Lr(t,r,o,n,i,a,s,c,l,p),{u_gamma_scale:n?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_is_halo:+u})},qr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Vr=function(t,r,o,n,i,a){return e.extend(function(e,t,r,o){var n=r.imageManager.getPattern(e.from),i=r.imageManager.getPattern(e.to),a=r.imageManager.getPixelSize(),s=a.width,c=a.height,l=Math.pow(2,o.tileID.overscaledZ),p=o.tileSize*Math.pow(2,r.transform.tileZoom)/l,u=p*(o.tileID.canonical.x+o.tileID.wrap*l),d=p*o.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:n.tl,u_pattern_br_a:n.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,c],u_mix:t.t,u_pattern_size_a:n.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/D(o,1,r.transform.tileZoom),u_pixel_coord_upper:[u>>16,d>>16],u_pixel_coord_lower:[65535&u,65535&d]}}(n,a,o,i),{u_matrix:t,u_opacity:r})},Wr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},extrusionTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:Cr,collisionCircle:Cr,debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_maxzoom:new e.Uniform1f(t,r.u_maxzoom)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_image:new e.Uniform1i(t,r.u_image),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,r.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,r.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}},Hr=e.identity(new Float32Array(16)),Gr=e.properties.layout,Zr={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Jr={symbol:function(e,t,r,o){if("translucent"===e.renderPass){var n=Rt.disabled,i=e.colorModeForRenderPass();0!==r.paint.get("icon-opacity").constantOr(1)&&J(e,t,r,o,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),n,i),0!==r.paint.get("text-opacity").constantOr(1)&&J(e,t,r,o,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),n,i),t.map.showCollisionBoxes&&function(e,t,r,o){Z(e,t,r,o,!1),Z(e,t,r,o,!0)}(e,t,r,o)}},circle:function(e,t,r,o){if("translucent"===e.renderPass){var n=r.paint.get("circle-opacity"),i=r.paint.get("circle-stroke-width"),a=r.paint.get("circle-stroke-opacity");if(0!==n.constantOr(1)||0!==i.constantOr(1)&&0!==a.constantOr(1))for(var s=e.context,c=s.gl,l=e.depthModeForSublayer(0,zt.ReadOnly),p=Rt.disabled,u=e.colorModeForRenderPass(),d=0;d<o.length;d++){var h=o[d],m=t.getTile(h),y=m.getBucket(r);if(y){var f=y.programConfigurations.get(r.id);e.useProgram("circle",f).draw(s,c.TRIANGLES,l,p,u,Er(e,h,m,r),r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,e.transform.zoom,f)}}}},heatmap:function(t,r,o,n){if(0!==o.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,a=i.gl,s=t.depthModeForSublayer(0,zt.ReadOnly),c=Rt.disabled,l=new Ft([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var o=e.gl;e.activeTexture.set(o.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var n=r.heatmapFbo;if(n)o.bindTexture(o.TEXTURE_2D,n.colorAttachment.get()),e.bindFramebuffer.set(n.framebuffer);else{var i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),n=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,r,o,n){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width/4,r.height/4,0,i.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),n.colorAttachment.set(o),t.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,n.colorAttachment.setDirty(),e(t,r,o,n))}(e,t,i,n)}}(i,t,o),i.clear({color:e.Color.transparent});for(var p=0;p<n.length;p++){var u=n[p];if(!r.hasRenderableParent(u)){var d=r.getTile(u),h=d.getBucket(o);if(h){var m=h.programConfigurations.get(o.id),y=t.useProgram("heatmap",m),f=t.transform.zoom;y.draw(i,a.TRIANGLES,s,c,l,zr(u.posMatrix,d,f,o.paint.get("heatmap-intensity")),o.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,o.paint,t.transform.zoom,m)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var o=t.context,n=o.gl,i=r.heatmapFbo;if(i){o.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),o.activeTexture.set(n.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(o,r.colorRamp,n.RGBA)),a.bind(n.LINEAR,n.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(o,n.TRIANGLES,zt.disabled,Rt.disabled,t.colorModeForRenderPass(),Rr(t,r,0,1),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,o))},line:function(t,r,o,n){if("translucent"===t.renderPass){var i=o.paint.get("line-opacity"),a=o.paint.get("line-width");if(0!==i.constantOr(1)&&0!==a.constantOr(1)){var s=t.depthModeForSublayer(0,zt.ReadOnly),c=t.colorModeForRenderPass(),l=o.paint.get("line-dasharray"),p=o.paint.get("line-pattern"),u=p.constantOr(1),d=o.paint.get("line-gradient"),h=o.getCrossfadeParameters(),m=l?"lineSDF":u?"linePattern":d?"lineGradient":"line",y=t.context,f=y.gl,v=!0;if(d){y.activeTexture.set(f.TEXTURE0);var g=o.gradientTexture;if(!o.gradient)return;g||(g=o.gradientTexture=new e.Texture(y,o.gradient,f.RGBA)),g.bind(f.LINEAR,f.CLAMP_TO_EDGE)}for(var _=0,w=n;_<w.length;_+=1){var b=w[_],x=r.getTile(b);if(!u||x.patternsLoaded()){var S=x.getBucket(o);if(S){var k=S.programConfigurations.get(o.id),P=t.context.program.get(),E=t.useProgram(m,k),C=v||E.program!==P,A=p.constantOr(null);if(A&&x.imageAtlas){var M=x.imageAtlas.patternPositions[A.to],T=x.imageAtlas.patternPositions[A.from];M&&T&&k.setConstantPatternPositions(M,T)}var z=l?jr(t,x,o,l,h):u?Or(t,x,o,h):d?Br(t,x,o):Nr(t,x,o);l&&(C||t.lineAtlas.dirty)?(y.activeTexture.set(f.TEXTURE0),t.lineAtlas.bind(y)):u&&(y.activeTexture.set(f.TEXTURE0),x.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),k.updatePatternPaintBuffers(h)),E.draw(y,f.TRIANGLES,s,t.stencilModeForClipping(b),c,z,o.id,S.layoutVertexBuffer,S.indexBuffer,S.segments,o.paint,t.transform.zoom,k),v=!1}}}}}},fill:function(t,r,o,n){var i=o.paint.get("fill-color"),a=o.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),c=o.paint.get("fill-pattern").constantOr(1)||1!==i.constantOr(e.Color.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";t.renderPass===c&&K(t,r,o,n,t.depthModeForSublayer(1,"opaque"===t.renderPass?zt.ReadWrite:zt.ReadOnly),s,!1),"translucent"===t.renderPass&&o.paint.get("fill-antialias")&&K(t,r,o,n,t.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,zt.ReadOnly),s,!0)}},"fill-extrusion":function(t,r,o,n){0!==o.paint.get("fill-extrusion-opacity")&&("offscreen"===t.renderPass?(function(t,r){var o=t.context,n=o.gl,i=r.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!i){var a=new e.Texture(o,{width:t.width,height:t.height,data:null},n.RGBA);a.bind(n.LINEAR,n.CLAMP_TO_EDGE),(i=r.viewportFrame=o.createFramebuffer(t.width,t.height)).colorAttachment.set(a.texture)}o.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(o.clear({depth:1}),t.depthRboNeedsClear=!1),o.clear({color:e.Color.transparent})}(t,o),function(e,t,r,o,n,i,a){for(var s=e.context,c=s.gl,l=r.paint.get("fill-extrusion-pattern"),p=l.constantOr(1),u=r.getCrossfadeParameters(),d=0,h=o;d<h.length;d+=1){var m=h[d],y=t.getTile(m),f=y.getBucket(r);if(f){var v=f.programConfigurations.get(r.id),g=e.useProgram(p?"fillExtrusionPattern":"fillExtrusion",v);p&&(e.context.activeTexture.set(c.TEXTURE0),y.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),v.updatePatternPaintBuffers(u));var _=l.constantOr(null);if(_&&y.imageAtlas){var w=y.imageAtlas.patternPositions[_.to],b=y.imageAtlas.patternPositions[_.from];w&&b&&v.setConstantPatternPositions(w,b)}var x=e.translatePosMatrix(m.posMatrix,y,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),S=p?wr(x,e,m,u,y):_r(x,e);g.draw(s,s.gl.TRIANGLES,n,i,a,S,r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,r.paint,e.transform.zoom,v)}}}(t,r,o,n,new zt(t.context.gl.LEQUAL,zt.ReadWrite,[0,1]),Rt.disabled,t.colorModeForRenderPass())):"translucent"===t.renderPass&&function(e,t){var r=t.viewportFrame;if(r){var o=e.context,n=o.gl;o.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),e.useProgram("extrusionTexture").draw(o,n.TRIANGLES,zt.disabled,Rt.disabled,e.colorModeForRenderPass(),br(e,t,0),t.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,t.paint,e.transform.zoom)}}(t,o))},hillshade:function(e,t,r,o){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var n=e.context,i=t.getSource().maxzoom,a=e.depthModeForSublayer(0,zt.ReadOnly),s=Rt.disabled,c=e.colorModeForRenderPass(),l=0,p=o;l<p.length;l+=1){var u=p[l],d=t.getTile(u);d.needsHillshadePrepare&&"offscreen"===e.renderPass?Y(e,d,r,i,a,s,c):"translucent"===e.renderPass&&Q(e,d,r,a,s,c)}n.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,o){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity"))for(var n=e.context,i=n.gl,a=t.getSource(),s=e.useProgram("raster"),c=Rt.disabled,l=e.colorModeForRenderPass(),p=o.length&&o[0].overscaledZ,u=0,d=o;u<d.length;u+=1){var h=d[u],m=e.depthModeForSublayer(h.overscaledZ-p,1===r.paint.get("raster-opacity")?zt.ReadWrite:zt.ReadOnly,i.LESS),y=t.getTile(h),f=e.transform.calculatePosMatrix(h.toUnwrapped(),!0);y.registerFadeDuration(r.paint.get("raster-fade-duration"));var v=t.findLoadedParent(h,0),g=$(y,v,t,r,e.transform),_=void 0,w=void 0,b="nearest"===r.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;n.activeTexture.set(i.TEXTURE0),y.texture.bind(b,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),n.activeTexture.set(i.TEXTURE1),v?(v.texture.bind(b,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),_=Math.pow(2,v.tileID.overscaledZ-y.tileID.overscaledZ),w=[y.tileID.canonical.x*_%1,y.tileID.canonical.y*_%1]):y.texture.bind(b,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);var x=Dr(f,w||[0,0],_||1,g,r);a instanceof Ge?s.draw(n,i.TRIANGLES,m,c,l,x,r.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):y.maskedBoundsBuffer&&y.maskedIndexBuffer&&y.segments?s.draw(n,i.TRIANGLES,m,c,l,x,r.id,y.maskedBoundsBuffer,y.maskedIndexBuffer,y.segments,r.paint,e.transform.zoom):s.draw(n,i.TRIANGLES,m,c,l,x,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var o=r.paint.get("background-color"),n=r.paint.get("background-opacity");if(0!==n){var i=e.context,a=i.gl,s=e.transform,c=s.tileSize,l=r.paint.get("background-pattern");if(!e.isPatternMissing(l)){var p=l||1!==o.a||1!==n?"translucent":"opaque";if(e.renderPass===p){var u=Rt.disabled,d=e.depthModeForSublayer(0,"opaque"===p?zt.ReadWrite:zt.ReadOnly),h=e.colorModeForRenderPass(),m=e.useProgram(l?"backgroundPattern":"background"),y=s.coveringTiles({tileSize:c});l&&(i.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var f=r.getCrossfadeParameters(),v=0,g=y;v<g.length;v+=1){var _=g[v],w=e.transform.calculatePosMatrix(_.toUnwrapped()),b=l?Vr(w,n,e,l,{tileID:_,tileSize:c},f):qr(w,n,o);m.draw(i,a.TRIANGLES,d,u,h,b,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var o=0;o<r.length;o++)ee(e,t,r[o])}},Xr=function(t,r){this.context=new It(t),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=Nt.maxUnderzooming+Nt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new sr};Xr.prototype.resize=function(t,r){var o=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,i=this.style._order;n<i.length;n+=1){var a=i[n];this.style._layers[a].resize()}this.depthRbo&&(o.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Xr.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,dr.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(e.EXTENT,0),o.emplaceBack(0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(o,dr.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var n=new e.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(e.EXTENT,0,e.EXTENT,0),n.emplaceBack(0,e.EXTENT,0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(n,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,dr.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var c=this.context.gl;this.stencilClearMode=new Rt({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO)},Xr.prototype.clearStencil=function(){var t=this.context,r=t.gl,o=e.create();e.ortho(o,0,this.width,this.height,0,0,1),e.scale(o,o,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,zt.disabled,this.stencilClearMode,Ft.disabled,Tr(o),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Xr.prototype._renderTileClippingMasks=function(e){var t=this.context,r=t.gl;t.setColorMode(Ft.disabled),t.setDepthMode(zt.disabled);var o=this.useProgram("clippingMask"),n=1;this._tileClippingMaskIDs={};for(var i=0,a=e;i<a.length;i+=1){var s=a[i],c=this._tileClippingMaskIDs[s.key]=n++;o.draw(t,r.TRIANGLES,zt.disabled,new Rt({func:r.ALWAYS,mask:0},c,255,r.KEEP,r.KEEP,r.REPLACE),Ft.disabled,Tr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}},Xr.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Rt({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},Xr.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ft([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ft.unblended:Ft.alphaBlended},Xr.prototype.depthModeForSublayer=function(e,t,r){var o=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,n=o-1+this.depthRange;return new zt(r||this.context.gl.LEQUAL,t,[n,o])},Xr.prototype.render=function(t,r){this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now());var o=this.style._order,n=this.style.sourceCaches;for(var i in n){var a=n[i];a.used&&a.prepare(this.context)}var s,c={},l={},p={};for(var u in n){var d=n[u];c[u]=d.getVisibleCoordinates(),l[u]=c[u].slice().reverse(),p[u]=d.getVisibleCoordinates(!0).reverse()}for(var h in n){var m=n[h],y=m.getSource();if("raster"===y.type||"raster-dem"===y.type){for(var f=[],v=0,g=c[h];v<g.length;v+=1){var _=g[v];f.push(m.getTile(_))}H(f,this.context)}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var w=0,b=o;w<b.length;w+=1){var x=b[w],S=this.style._layers[x];if(S.hasOffscreenPass()&&!S.isHidden(this.transform.zoom)){var k=l[S.source];k.length&&this.renderLayer(this,n[S.source],S,k)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){var P=this.style._layers[o[this.currentLayer]],E=n[P.source],C=c[P.source];P.source!==s&&E&&(this.clearStencil(),E.getSource().isTileClipped&&this._renderTileClippingMasks(C)),this.renderLayer(this,E,P,C),s=P.source}for(this.renderPass="translucent",this.currentLayer=0,s=null;this.currentLayer<o.length;this.currentLayer++){var A=this.style._layers[o[this.currentLayer]],M=n[A.source],T=("symbol"===A.type?p:l)[A.source];A.source!==s&&M&&(this.clearStencil(),M.getSource().isTileClipped&&this._renderTileClippingMasks(c[A.source])),this.renderLayer(this,M,A,T),s=A.source}if(this.options.showTileBoundaries)for(var z in n){Jr.debug(this,n[z],c[z]);break}},Xr.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},Xr.prototype.renderLayer=function(e,t,r,o){r.isHidden(this.transform.zoom)||("background"===r.type||o.length)&&(this.id=r.id,Jr[r.type](e,t,r,o))},Xr.prototype.translatePosMatrix=function(t,r,o,n,i){if(!o[0]&&!o[1])return t;var a=i?"map"===n?this.transform.angle:0:"viewport"===n?-this.transform.angle:0;if(a){var s=Math.sin(a),c=Math.cos(a);o=[o[0]*c-o[1]*s,o[0]*s+o[1]*c]}var l=[i?o[0]:D(r,o[0],this.transform.zoom),i?o[1]:D(r,o[1],this.transform.zoom),0],p=new Float32Array(16);return e.translate(p,t,l),p},Xr.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},Xr.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},Xr.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from),r=this.imageManager.getPattern(e.to);return!t||!r},Xr.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var r=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new gr(this.context,fr[e],t,Wr[e],this._showOverdrawInspector)),this.cache[r]};var Kr=function(e,t,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=t||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new De(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},Qr={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Kr.prototype.clone=function(){var e=new Kr(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},Qr.minZoom.get=function(){return this._minZoom},Qr.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Qr.maxZoom.get=function(){return this._maxZoom},Qr.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Qr.renderWorldCopies.get=function(){return this._renderWorldCopies},Qr.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Qr.worldSize.get=function(){return this.tileSize*this.scale},Qr.centerPoint.get=function(){return this.size._div(2)},Qr.size.get=function(){return new e.Point(this.width,this.height)},Qr.bearing.get=function(){return-this.angle/Math.PI*180},Qr.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$4(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Qr.pitch.get=function(){return this._pitch/Math.PI*180},Qr.pitch.set=function(t){var r=e.clamp(t,0,60)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},Qr.fov.get=function(){return this._fov/Math.PI*180},Qr.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Qr.zoom.get=function(){return this._zoom},Qr.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Qr.center.get=function(){return this._center},Qr.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Kr.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},Kr.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var o=this.pointCoordinate(new e.Point(0,0),0),n=this.pointCoordinate(new e.Point(this.width,0),0),i=this.pointCoordinate(new e.Point(this.width,this.height),0),a=this.pointCoordinate(new e.Point(0,this.height),0),s=Math.floor(Math.min(o.column,n.column,i.column,a.column)),c=Math.floor(Math.max(o.column,n.column,i.column,a.column)),l=s-1;l<=c+1;l++)0!==l&&r.push(new e.UnwrappedTileID(l,t));return r},Kr.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),o=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var n=this.pointCoordinate(this.centerPoint,r),i=new e.Point(n.column-.5,n.row-.5);return function(t,r,o,n){function i(r,i,c){var l,p,u,d;if(c>=0&&c<=a)for(l=r;l<i;l++)p=Math.floor(l/a),u=(l%a+a)%a,0!==p&&!0!==n||(d=new e.OverscaledTileID(o,p,t,u,c),s[d.key]=d)}void 0===n&&(n=!0);var a=1<<t,s={};return oe(r[0],r[1],r[2],0,a,i),oe(r[2],r[3],r[0],0,a,i),Object.keys(s).map(function(e){return s[e]})}(r,[this.pointCoordinate(new e.Point(0,0),r),this.pointCoordinate(new e.Point(this.width,0),r),this.pointCoordinate(new e.Point(this.width,this.height),r),this.pointCoordinate(new e.Point(0,this.height),r)],t.reparseOverscaled?o:r,this._renderWorldCopies).sort(function(e,t){return i.dist(e.canonical)-i.dist(t.canonical)})},Kr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Qr.unmodified.get=function(){return this._unmodified},Kr.prototype.zoomScale=function(e){return Math.pow(2,e)},Kr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Kr.prototype.project=function(t){return new e.Point(this.lngX(t.lng),this.latY(t.lat))},Kr.prototype.unproject=function(e){return new De(this.xLng(e.x),this.yLat(e.y))},Qr.x.get=function(){return this.lngX(this.center.lng)},Qr.y.get=function(){return this.latY(this.center.lat)},Qr.point.get=function(){return new e.Point(this.x,this.y)},Kr.prototype.lngX=function(e){return(180+e)*this.worldSize/360},Kr.prototype.latY=function(t){return t=e.clamp(t,-this.maxValidLatitude,this.maxValidLatitude),(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Kr.prototype.xLng=function(e){return 360*e/this.worldSize-180},Kr.prototype.yLat=function(e){var t=180-360*e/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90},Kr.prototype.setLocationAtPoint=function(e,t){var r=this.pointCoordinate(t)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(e)._sub(r)),this._renderWorldCopies&&(this.center=this.center.wrap())},Kr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Kr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Kr.prototype.locationCoordinate=function(t){return new e.Coordinate(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Kr.prototype.coordinateLocation=function(e){var t=e.zoomTo(this.zoom);return new De(this.xLng(t.column*this.tileSize),this.yLat(t.row*this.tileSize))},Kr.prototype.pointCoordinate=function(t,r){void 0===r&&(r=this.tileZoom);var o=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(o,o,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var i=o[3],a=n[3],s=o[0]/i,c=n[0]/a,l=o[1]/i,p=n[1]/a,u=o[2]/i,d=n[2]/a,h=u===d?0:(0-u)/(d-u);return new e.Coordinate(e.number(s,c,h)/this.tileSize,e.number(l,p,h)/this.tileSize,this.zoom)._zoomTo(r)},Kr.prototype.coordinatePoint=function(t){var r=t.zoomTo(this.zoom),o=[r.column*this.tileSize,r.row*this.tileSize,0,1];return e.transformMat4(o,o,this.pixelMatrix),new e.Point(o[0]/o[3],o[1]/o[3])},Kr.prototype.getBounds=function(){return(new Le).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Kr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Le([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Kr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Kr.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var o=t.key,n=r?this._alignedPosMatrixCache:this._posMatrixCache;if(n[o])return n[o];var i=t.canonical,a=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,c=e.identity(new Float64Array(16));return e.translate(c,c,[s*a,i.y*a,0]),e.scale(c,c,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(c,r?this.alignedProjMatrix:this.projMatrix,c),n[o]=new Float32Array(c),n[o]},Kr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,o,n,i=-90,a=90,s=-180,c=180,l=this.size,p=this._unmodified;if(this.latRange){var u=this.latRange;i=this.latY(u[1]),t=(a=this.latY(u[0]))-i<l.y?l.y/(a-i):0}if(this.lngRange){var d=this.lngRange;s=this.lngX(d[0]),r=(c=this.lngX(d[1]))-s<l.x?l.x/(c-s):0}var h=Math.max(r||0,t||0);if(h)return this.center=this.unproject(new e.Point(r?(c+s)/2:this.x,t?(a+i)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=p,void(this._constraining=!1);if(this.latRange){var m=this.y,y=l.y/2;m-y<i&&(n=i+y),m+y>a&&(n=a-y)}if(this.lngRange){var f=this.x,v=l.x/2;f-v<s&&(o=s+v),f+v>c&&(o=c-v)}void 0===o&&void 0===n||(this.center=this.unproject(new e.Point(void 0!==o?o:this.x,void 0!==n?n:this.y))),this._unmodified=p,this._constraining=!1}},Kr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,r=Math.PI/2+this._pitch,o=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-r-t),n=this.x,i=this.y,a=1.01*(Math.cos(Math.PI/2-this._pitch)*o+this.cameraToCenterDistance),s=new Float64Array(16);e.perspective(s,this._fov,this.width/this.height,1,a),e.scale(s,s,[1,-1,1]),e.translate(s,s,[0,0,-this.cameraToCenterDistance]),e.rotateX(s,s,this._pitch),e.rotateZ(s,s,this.angle),e.translate(s,s,[-n,-i,0]);var c=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));e.scale(s,s,[1,1,c,1]),this.projMatrix=s;var l=this.width%2/2,p=this.height%2/2,u=Math.cos(this.angle),d=Math.sin(this.angle),h=n-Math.round(n)+u*l+d*p,m=i-Math.round(i)+u*p+d*l,y=new Float64Array(s);if(e.translate(y,y,[h>.5?h-1:h,m>.5?m-1:m,0]),this.alignedProjMatrix=y,s=e.create(),e.scale(s,s,[this.width/2,-this.height/2,1]),e.translate(s,s,[1,-1,0]),this.pixelMatrix=e.multiply(new Float64Array(16),s,this.projMatrix),!(s=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=s,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Kr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)).zoomTo(this.zoom),r=[t.column*this.tileSize,t.row*this.tileSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Kr.prototype,Qr);var Yr=function(){var t,r,o,n,i;e.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),r=300,o=!1,n=0,i=function(){n=0,o&&(t(),n=setTimeout(i,r),o=!1)},function(){return o=!0,n||i(),n})};Yr.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Yr.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Yr.prototype.getHashString=function(e){var t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,o=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,o),i=Math.round(t.lng*n)/n,a=Math.round(t.lat*n)/n,s=this._map.getBearing(),c=this._map.getPitch(),l="";return l+=e?"#/"+i+"/"+a+"/"+r:"#"+r+"/"+a+"/"+i,(s||c)&&(l+="/"+Math.round(10*s)/10),c&&(l+="/"+Math.round(c)),l},Yr.prototype._onHashChange=function(){var t=e.window.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},Yr.prototype._updateHashUnthrottled=function(){var t=this.getHashString();e.window.history.replaceState(e.window.history.state,"",t)};var $r=function(t){function r(r,o,n,i){void 0===i&&(i={});var a=de.mousePos(o.getCanvasContainer(),n),s=o.unproject(a);t.call(this,r,e.extend({point:a,lngLat:s,originalEvent:n},i)),this._defaultPrevented=!1,this.target=o}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,o),r}(e.Event),eo=function(t){function r(r,o,n){var i=de.touchPos(o.getCanvasContainer(),n),a=i.map(function(e){return o.unproject(e)}),s=i.reduce(function(e,t,r,o){return e.add(t.div(o.length))},new e.Point(0,0)),c=o.unproject(s);t.call(this,r,{points:i,point:s,lngLats:a,lngLat:c,originalEvent:n}),this._defaultPrevented=!1}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,o),r}(e.Event),to=function(e){function t(t,r,o){e.call(this,t,{originalEvent:o}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),ro=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};ro.prototype.isEnabled=function(){return!!this._enabled},ro.prototype.isActive=function(){return!!this._active},ro.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},ro.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ro.prototype.onWheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,o=e.browser.now(),n=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(n*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this.isActive()||this._start(t)),t.preventDefault()}},ro.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},ro.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=de.mousePos(this._el,t);this._around=De.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},ro.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var o="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,n=2/(1+Math.exp(-Math.abs(this._delta*o)));this._delta<0&&0!==n&&(n=1/n);var i="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(i*n))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:r.zoom,s=this._startZoom,c=this._easing,l=!1;if("wheel"===this._type&&s&&c){var p=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),u=c(p);r.zoom=e.number(s,a,u),p<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else r.zoom=a,l=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom},200))}},ro.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var o=this._prevEase,n=(e.browser.now()-o.start)/o.duration,i=o.easing(n+.01)-o.easing(n),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r};var oo=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};oo.prototype.isEnabled=function(){return!!this._enabled},oo.prototype.isActive=function(){return!!this._active},oo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},oo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},oo.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),de.disableDrag(),this._startPos=this._lastPos=de.mousePos(this._el,t),this._active=!0)},oo.prototype._onMouseMove=function(e){var t=de.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=t,this._box||(this._box=de.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(r.x,t.x),n=Math.max(r.x,t.x),i=Math.min(r.y,t.y),a=Math.max(r.y,t.y);de.setTransform(this._box,"translate("+o+"px,"+i+"px)"),this._box.style.width=n-o+"px",this._box.style.height=a-i+"px"}},oo.prototype._onMouseUp=function(t){if(0===t.button){var r=this._startPos,o=de.mousePos(this._el,t);this._finish(),de.suppressClick(),r.x===o.x&&r.y===o.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(r,o,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},oo.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},oo.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(de.remove(this._box),this._box=null),de.enableDrag(),delete this._startPos,delete this._lastPos},oo.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var no=e.bezier(0,0,.25,1),io=function(t,r){this._map=t,this._el=r.element||t.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};io.prototype.isEnabled=function(){return"disabled"!==this._state},io.prototype.isActive=function(){return"active"===this._state},io.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},io.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},io.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=de.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==de.mouseButton(t))return;this._eventButton=0}de.disableDrag(),e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=de.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},io.prototype._onMouseMove=function(e){var t=de.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},io.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var r=this._map.transform,o=this._startPos,n=this._lastPos,i=.8*(o.x-n.x),a=-.5*(o.y-n.y),s=r.bearing-i,c=r.pitch-a,l=this._inertia,p=l[l.length-1];this._drainInertiaBuffer(),l.push([e.browser.now(),this._map._normalizeBearing(s,p[1])]),r.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),r.pitch=c),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},io.prototype._onMouseUp=function(e){if(de.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",de.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},io.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},io.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),de.enableDrag()},io.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},io.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var r=this._map,o=r.getBearing(),n=this._inertia,i=function(){Math.abs(o)<t._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(n.length<2)i();else{var a=n[0],s=n[n.length-1],c=n[n.length-2],l=r._normalizeBearing(o,c[1]),p=s[1]-a[1],u=p<0?-1:1,d=(s[0]-a[0])/1e3;if(0!==p&&0!==d){var h=Math.abs(p*(.25/d));h>180&&(h=180);var m=h/180;l+=u*h*(m/2),Math.abs(r._normalizeBearing(l,0))<this._bearingSnap&&(l=r._normalizeBearing(0,l)),r.rotateTo(l,{duration:1e3*m,easing:no,noMoveStart:!0},{originalEvent:e})}else i()}},io.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},io.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var ao=e.bezier(0,0,.3,1),so=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};so.prototype.isEnabled=function(){return"disabled"!==this._state},so.prototype.isActive=function(){return"active"===this._state},so.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},so.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},so.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==de.mouseButton(t)||(de.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),de.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},so.prototype.onTouchStart=function(t){"enabled"===this._state&&(t.touches.length>1||(de.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),de.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},so.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=de.mousePos(this._el,t),this._inertia=[[e.browser.now(),this._startPos]]},so.prototype._onMove=function(t){t.preventDefault();var r=de.mousePos(this._el,t);this._lastPos.equals(r)||"pending"===this._state&&r.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=r,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},so.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._startPos=this._lastPos,delete this._lastMoveEvent}},so.prototype._onMouseUp=function(e){if(0===de.mouseButton(e))switch(this._state){case"active":this._state="enabled",de.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},so.prototype._onTouchEnd=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},so.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},so.prototype._unbind=function(){de.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),de.removeEventListener(e.window.document,"touchend",this._onTouchEnd),de.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),de.removeEventListener(e.window.document,"mouseup",this._onMouseUp),de.removeEventListener(e.window,"blur",this._onBlur)},so.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},so.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var r=t[t.length-1],o=t[0],n=r[1].sub(o[1]),i=(r[0]-o[0])/1e3;if(0===i||r[1].equals(o[1]))this._fireEvent("moveend",e);else{var a=n.mult(.3/i),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var c=s/750,l=a.mult(-c/2);this._map.panBy(l,{duration:1e3*c,easing:ao,noMoveStart:!0},{originalEvent:e})}}},so.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},so.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var co=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};co.prototype.isEnabled=function(){return!!this._enabled},co.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},co.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},co.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,r=0,o=0,n=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),n=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),n=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?o=-1:(i=1,e.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),c={duration:300,delayEndEvents:500,easing:ne,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+15*r,pitch:a.getPitch()+10*o,offset:[100*-n,100*-i],center:a.getCenter()};a.easeTo(c,{originalEvent:e})}};var lo=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};lo.prototype.isEnabled=function(){return!!this._enabled},lo.prototype.isActive=function(){return!!this._active},lo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},lo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},lo.prototype.onTouchStart=function(e){var t=this;this.isEnabled()&&(e.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(e)):this._tapped=setTimeout(function(){t._tapped=null},300)))},lo.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},lo.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},lo.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var po=e.bezier(0,0,.15,1),uo=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};uo.prototype.isEnabled=function(){return!!this._enabled},uo.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},uo.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},uo.prototype.disableRotation=function(){this._rotationDisabled=!0},uo.prototype.enableRotation=function(){this._rotationDisabled=!1},uo.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var r=de.mousePos(this._el,t.touches[0]),o=de.mousePos(this._el,t.touches[1]),n=r.add(o).div(2);this._startVec=r.sub(o),this._startAround=this._map.transform.pointLocation(n),this._gestureIntent=void 0,this._inertia=[],de.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),de.addEventListener(e.window.document,"touchend",this._onEnd)}},uo.prototype._getTouchEventData=function(e){var t=de.mousePos(this._el,e.touches[0]),r=de.mousePos(this._el,e.touches[1]),o=t.sub(r);return{vec:o,center:t.add(r).div(2),scale:o.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI}},uo.prototype._onMove=function(t){if(2===t.touches.length){var r=this._getTouchEventData(t),o=r.vec,n=r.scale,i=r.bearing;if(!this._gestureIntent){var a=Math.abs(1-n)>.15;Math.abs(i)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=o)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},uo.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var o=this._getTouchEventData(this._lastTouchEvent),n=o.center,i=o.bearing,a=o.scale,s=r.pointLocation(n),c=r.locationPoint(s);"rotate"===t&&(r.bearing=this._startBearing+i),r.zoom=r.scaleZoom(this._startScale*a),r.setLocationAtPoint(this._startAround,c),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),a,n])}},uo.prototype._onEnd=function(t){de.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),de.removeEventListener(e.window.document,"touchend",this._onEnd);var r=this._gestureIntent,o=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new e.Event(r+"end",{originalEvent:t})),this._drainInertiaBuffer();var n=this._inertia,i=this._map;if(n.length<2)i.snapToNorth({},{originalEvent:t});else{var a=n[n.length-1],s=n[0],c=i.transform.scaleZoom(o*a[1]),l=i.transform.scaleZoom(o*s[1]),p=c-l,u=(a[0]-s[0])/1e3,d=a[2];if(0!==u&&c!==l){var h=.15*p/u;Math.abs(h)>2.5&&(h=h>0?2.5:-2.5);var m=1e3*Math.abs(h/(12*.15)),y=c+h*m/2e3;y<0&&(y=0),i.easeTo({zoom:y,duration:m,easing:po,around:this._aroundCenter?i.getCenter():i.unproject(d),noMoveStart:!0},{originalEvent:t})}else i.snapToNorth({},{originalEvent:t})}}},uo.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>2&&r-t[0][0]>160;)t.shift()};var ho={scrollZoom:ro,boxZoom:oo,dragRotate:io,dragPan:so,keyboard:co,doubleClickZoom:lo,touchZoomRotate:uo},mo=function(t){function r(r,o){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=o.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCenter=function(){return this.transform.center},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,o){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),o)},r.prototype.panTo=function(t,r,o){return this.easeTo(e.extend({center:t},r),o)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,o){return this.easeTo(e.extend({zoom:t},r),o)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.rotateTo=function(t,r,o){return this.easeTo(e.extend({bearing:t},r),o)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(e,t){return e=Le.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,t)},r.prototype._cameraForBoxAndBearing=function(t,r,o,n){if("number"==typeof(n=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},n)).padding){var i=n.padding;n.padding={top:i,bottom:i,right:i,left:i}}if(e.deepEqual(Object.keys(n.padding).sort(function(e,t){return e<t?-1:e>t?1:0}),["bottom","left","right","top"])){var a=[(n.padding.left-n.padding.right)/2,(n.padding.top-n.padding.bottom)/2],s=Math.min(n.padding.right,n.padding.left),c=Math.min(n.padding.top,n.padding.bottom);n.offset=[n.offset[0]+a[0],n.offset[1]+a[1]];var l=this.transform,p=l.project(De.convert(t)),u=l.project(De.convert(r)),d=p.rotate(-o*Math.PI/180),h=u.rotate(-o*Math.PI/180),m=new e.Point(Math.max(d.x,h.x),Math.max(d.y,h.y)),y=new e.Point(Math.min(d.x,h.x),Math.min(d.y,h.y)),f=e.Point.convert(n.offset),v=m.sub(y),g=(l.width-2*s-2*Math.abs(f.x))/v.x,_=(l.height-2*c-2*Math.abs(f.y))/v.y;if(!(_<0||g<0))return n.center=l.unproject(p.add(u).div(2)),n.zoom=Math.min(l.scaleZoom(l.scale*Math.min(g,_)),n.maxZoom),n.bearing=o,n;e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,o,n,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),o,n),n,i)},r.prototype._fitInternal=function(t,r,o){return t?(r=e.extend(t,r)).linear?this.easeTo(r,o):this.flyTo(r,o):this},r.prototype.jumpTo=function(t,r){this.stop();var o=this.transform,n=!1,i=!1,a=!1;return"zoom"in t&&o.zoom!==+t.zoom&&(n=!0,o.zoom=+t.zoom),void 0!==t.center&&(o.center=De.convert(t.center)),"bearing"in t&&o.bearing!==+t.bearing&&(i=!0,o.bearing=+t.bearing),"pitch"in t&&o.pitch!==+t.pitch&&(a=!0,o.pitch=+t.pitch),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),n&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),i&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var o=this;this.stop(),!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate&&(t.duration=0);var n=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),c="zoom"in t?+t.zoom:i,l="bearing"in t?this._normalizeBearing(t.bearing,a):a,p="pitch"in t?+t.pitch:s,u=n.centerPoint.add(e.Point.convert(t.offset)),d=n.pointLocation(u),h=De.convert(t.center||d);this._normalizeCenter(h);var m,y,f=n.project(d),v=n.project(h).sub(f),g=n.zoomScale(c-i);return t.around&&(m=De.convert(t.around),y=n.locationPoint(m)),this._zooming=c!==i,this._rotating=a!==l,this._pitching=p!==s,this._prepareEase(r,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(o._zooming&&(n.zoom=e.number(i,c,t)),o._rotating&&(n.bearing=e.number(a,l,t)),o._pitching&&(n.pitch=e.number(s,p,t)),m)n.setLocationAtPoint(m,y);else{var d=n.zoomScale(n.zoom-i),h=c>i?Math.min(2,g):Math.max(.5,g),_=Math.pow(h,1-t),w=n.unproject(f.add(v.mult(t*_)).mult(d));n.setLocationAtPoint(n.renderWorldCopies?w.wrap():w,u)}o._fireMoveEvents(r)},function(){t.delayEndEvents?o._easeEndTimeoutID=setTimeout(function(){return o._afterEase(r)},t.delayEndEvents):o._afterEase(r)},t),this},r.prototype._prepareEase=function(t,r){this._moving=!0,r||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t){var r=this._zooming,o=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new e.Event("zoomend",t)),o&&this.fire(new e.Event("rotateend",t)),n&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},r.prototype.flyTo=function(t,r){function o(e){var t=(x*x-b*b+(e?-1:1)*E*E*S*S)/(2*(e?x:b)*E*S);return Math.log(Math.sqrt(t*t+1)-t)}function n(e){return(Math.exp(e)-Math.exp(-e))/2}function i(e){return(Math.exp(e)+Math.exp(-e))/2}var a=this;this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var s=this.transform,c=this.getZoom(),l=this.getBearing(),p=this.getPitch(),u="zoom"in t?e.clamp(+t.zoom,s.minZoom,s.maxZoom):c,d="bearing"in t?this._normalizeBearing(t.bearing,l):l,h="pitch"in t?+t.pitch:p,m=s.zoomScale(u-c),y=s.centerPoint.add(e.Point.convert(t.offset)),f=s.pointLocation(y),v=De.convert(t.center||f);this._normalizeCenter(v);var g=s.project(f),_=s.project(v).sub(g),w=t.curve,b=Math.max(s.width,s.height),x=b/m,S=_.mag();if("minZoom"in t){var k=e.clamp(Math.min(t.minZoom,c,u),s.minZoom,s.maxZoom),P=b/s.zoomScale(k-c);w=Math.sqrt(P/S*2)}var E=w*w,C=o(0),A=function(e){return i(C)/i(C+w*e)},M=function(e){return b*((i(C)*(n(t=C+w*e)/i(t))-n(C))/E)/S;var t},T=(o(1)-C)/w;if(Math.abs(S)<1e-6||!isFinite(T)){if(Math.abs(b-x)<1e-6)return this.easeTo(t,r);var z=x<b?-1:1;T=Math.abs(Math.log(x/b))/w,M=function(){return 0},A=function(e){return Math.exp(z*w*e)}}if("duration"in t)t.duration=+t.duration;else{var R="screenSpeed"in t?+t.screenSpeed/w:+t.speed;t.duration=1e3*T/R}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=l!==d,this._pitching=h!==p,this._prepareEase(r,!1),this._ease(function(t){var o=t*T,n=1/A(o);s.zoom=1===t?u:c+s.scaleZoom(n),a._rotating&&(s.bearing=e.number(l,d,t)),a._pitching&&(s.pitch=e.number(p,h,t));var i=1===t?v:s.unproject(g.add(_.mult(M(o))).mult(n));s.setLocationAtPoint(s.renderWorldCopies?i.wrap():i,y),a._fireMoveEvents(r)},function(){return a._afterEase(r)},t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},r.prototype._ease=function(t,r,o){!1===o.animate||0===o.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=o,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var o=Math.abs(t-r);return Math.abs(t-360-r)<o&&(t-=360),Math.abs(t+360-r)<o&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),yo=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};yo.prototype.getDefaultPosition=function(){return"bottom-right"},yo.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=de.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},yo.prototype.onRemove=function(){de.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},yo.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var t=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:_e.ACCESS_TOKEN}];if(e){var r=t.reduce(function(e,r,o){return r.value&&(e+=r.key+"="+r.value+(o<t.length-1?"&":"")),e},"?");e.href="https://www.mapbox.com/feedback/"+r+(this._map._hash?this._map._hash.getHashString(!0):"")}},yo.prototype._updateData=function(e){e&&"metadata"===e.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},yo.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var o in r){var n=r[o].getSource();n.attribution&&e.indexOf(n.attribution)<0&&e.push(n.attribution)}e.sort(function(e,t){return e.length-t.length}),(e=e.filter(function(t,r){for(var o=r+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return!1;return!0})).length?(this._container.innerHTML=e.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},yo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var fo=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};fo.prototype.onAdd=function(e){this._map=e,this._container=de.create("div","mapboxgl-ctrl");var t=de.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),t.setAttribute("rel","noopener"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},fo.prototype.onRemove=function(){de.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},fo.prototype.getDefaultPosition=function(){return"bottom-left"},fo.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},fo.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},fo.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var vo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};vo.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},vo.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,o=t?this._queue.concat(t):this._queue;r<o.length;r+=1){var n=o[r];if(n.id===e)return void(n.cancelled=!0)}},vo.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,r=e;t<r.length;t+=1){var o=r[t];if(!o.cancelled&&(o.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},vo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var go=e.window.HTMLImageElement,_o=e.window.HTMLElement,wo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},bo=function(t){function r(r){var o=this;if(null!=(r=e.extend({},wo,r)).minZoom&&null!=r.maxZoom&&r.minZoom>r.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Kr(r.minZoom,r.maxZoom,r.renderWorldCopies);t.call(this,n,r),this._interactive=r.interactive,this._maxTileCacheSize=r.maxTileCacheSize,this._failIfMajorPerformanceCaveat=r.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=r.preserveDrawingBuffer,this._trackResize=r.trackResize,this._bearingSnap=r.bearingSnap,this._refreshExpiredTiles=r.refreshExpiredTiles,this._fadeDuration=r.fadeDuration,this._crossSourceCollisions=r.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=r.collectResourceTiming,this._renderTaskQueue=new vo,this._controls=[];var i=r.transformRequest;if(this._transformRequest=i?function(e,t){return i(e,t)||{url:e}}:function(e){return{url:e}},"string"==typeof r.container){if(this._container=e.window.document.getElementById(r.container),!this._container)throw new Error("Container '"+r.container+"' not found.")}else{if(!(r.container instanceof _o))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=r.container}if(r.maxBounds&&this.setMaxBounds(r.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return o._update(!1)}),this.on("zoom",function(){return o._update(!0)}),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var r=e.getCanvasContainer(),o=null,n=!1,i=null;for(var a in ho)e[a]=new ho[a](e,t),t.interactive&&t[a]&&e[a].enable(t[a]);de.addEventListener(r,"mouseout",function(t){e.fire(new $r("mouseout",e,t))}),de.addEventListener(r,"mousedown",function(o){n=!0,i=de.mousePos(r,o);var a=new $r("mousedown",e,o);e.fire(a),a.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(o),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(o),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(o))}),de.addEventListener(r,"mouseup",function(t){var r=e.dragRotate.isActive();o&&!r&&e.fire(new $r("contextmenu",e,o)),o=null,n=!1,e.fire(new $r("mouseup",e,t))}),de.addEventListener(r,"mousemove",function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var o=t.target;o&&o!==r;)o=o.parentNode;o===r&&e.fire(new $r("mousemove",e,t))}}),de.addEventListener(r,"mouseover",function(t){for(var o=t.target;o&&o!==r;)o=o.parentNode;o===r&&e.fire(new $r("mouseover",e,t))}),de.addEventListener(r,"touchstart",function(r){var o=new eo("touchstart",e,r);e.fire(o),o.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(r),e.touchZoomRotate.onStart(r),e.doubleClickZoom.onTouchStart(o))},{passive:!1}),de.addEventListener(r,"touchmove",function(t){e.fire(new eo("touchmove",e,t))},{passive:!1}),de.addEventListener(r,"touchend",function(t){e.fire(new eo("touchend",e,t))}),de.addEventListener(r,"touchcancel",function(t){e.fire(new eo("touchcancel",e,t))}),de.addEventListener(r,"click",function(o){var n=de.mousePos(r,o);(n.equals(i)||n.dist(i)<t.clickTolerance)&&e.fire(new $r("click",e,o))}),de.addEventListener(r,"dblclick",function(t){var r=new $r("dblclick",e,t);e.fire(r),r.defaultPrevented||e.doubleClickZoom.onDblClick(r)}),de.addEventListener(r,"contextmenu",function(t){var r=e.dragRotate.isActive();n||r?n&&(o=t):e.fire(new $r("contextmenu",e,t)),t.preventDefault()}),de.addEventListener(r,"wheel",function(r){t.interactive&&e.stop();var o=new to("wheel",e,r);e.fire(o),o.defaultPrevented||e.scrollZoom.onWheel(r)},{passive:!1})}(this,r),this._hash=r.hash&&(new Yr).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch}),this.resize(),r.style&&this.setStyle(r.style,{localIdeographFontFamily:r.localIdeographFontFamily}),r.attributionControl&&this.addControl(new yo({customAttribution:r.customAttribution})),this.addControl(new fo,r.logoPosition),this.on("style.load",function(){o.transform.unmodified&&o.jumpTo(o.style.stylesheet)}),this.on("data",function(t){o._update("style"===t.dataType),o.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",function(t){o.fire(new e.Event(t.dataType+"dataloading",t))})}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return r.prototype.addControl=function(t,r){if(void 0===r&&t.getDefaultPosition&&(r=t.getDefaultPosition()),void 0===r&&(r="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var o=t.onAdd(this);this._controls.push(t);var n=this._controlPositions[r];return-1!==r.indexOf("bottom")?n.insertBefore(o,n.firstChild):n.appendChild(o),this},r.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},r.prototype.resize=function(t){var r=this._containerDimensions(),o=r[0],n=r[1];return this._resizeCanvas(o,n),this.transform.resize(o,n),this.painter.resize(o,n),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(Le.convert(e)),this._update()},r.prototype.setMinZoom=function(e){if((e=null==e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.project=function(e){return this.transform.locationPoint(De.convert(e))},r.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},r.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},r.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},r.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},r.prototype.on=function(e,r,o){var n,i=this;if(void 0===o)return t.prototype.on.call(this,e,r);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:r,listener:o,delegates:{mousemove:function(n){var a=i.getLayer(r)?i.queryRenderedFeatures(n.point,{layers:[r]}):[];a.length?t||(t=!0,o.call(i,new $r(e,i,n.originalEvent,{features:a}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:r,listener:o,delegates:{mousemove:function(t){(i.getLayer(r)?i.queryRenderedFeatures(t.point,{layers:[r]}):[]).length?a=!0:a&&(a=!1,o.call(i,new $r(e,i,t.originalEvent)))},mouseout:function(t){a&&(a=!1,o.call(i,new $r(e,i,t.originalEvent)))}}}}return{layer:r,listener:o,delegates:(n={},n[e]=function(e){var t=i.getLayer(r)?i.queryRenderedFeatures(e.point,{layers:[r]}):[];t.length&&(e.features=t,o.call(i,e),delete e.features)},n)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a),a.delegates)i.on(s,a.delegates[s]);return this},r.prototype.off=function(e,r,o){if(void 0===o)return t.prototype.off.call(this,e,r);if(this._delegatedListeners&&this._delegatedListeners[e])for(var n=this._delegatedListeners[e],i=0;i<n.length;i++){var a=n[i];if(a.layer===r&&a.listener===o){for(var s in a.delegates)this.off(s,a.delegates[s]);return n.splice(i,1),this}}return this},r.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var o;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])o=[e.Point.convert(t)];else{var n=e.Point.convert(t[0]),i=e.Point.convert(t[1]);o=[n,new e.Point(i.x,n.y),i,new e.Point(n.x,i.y),n]}return this.style.queryRenderedFeatures(o,r,this.transform)},r.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},r.prototype.setStyle=function(t,r){if((!r||!1!==r.diff&&!r.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){e.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new ur(this,r||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},r.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},r.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var o in r){var n=r[o];if("loaded"!==n.state&&"errored"!==n.state)return!1}}return!0},r.prototype.addSourceType=function(e,t,r){return this.style.addSourceType(e,t,r)},r.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},r.prototype.getSource=function(e){return this.style.getSource(e)},r.prototype.addImage=function(t,r,o){void 0===o&&(o={});var n=o.pixelRatio;void 0===n&&(n=1);var i=o.sdf;if(void 0===i&&(i=!1),r instanceof go){var a=e.browser.getImageData(r),s=a.width,c=a.height,l=a.data;this.style.addImage(t,{data:new e.RGBAImage({width:s,height:c},l),pixelRatio:n,sdf:i})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var p=r.width,u=r.height,d=r.data;this.style.addImage(t,{data:new e.RGBAImage({width:p,height:u},new Uint8Array(d)),pixelRatio:n,sdf:i})}},r.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(e){this.style.removeImage(e)},r.prototype.loadImage=function(t,r){e.getImage(this._transformRequest(t,e.ResourceType.Image),r)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},r.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},r.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},r.prototype.getLayer=function(e){return this.style.getLayer(e)},r.prototype.setFilter=function(e,t){return this.style.setFilter(e,t),this._update(!0)},r.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},r.prototype.getFilter=function(e){return this.style.getFilter(e)},r.prototype.setPaintProperty=function(e,t,r){return this.style.setPaintProperty(e,t,r),this._update(!0)},r.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},r.prototype.setLayoutProperty=function(e,t,r){return this.style.setLayoutProperty(e,t,r),this._update(!0)},r.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},r.prototype.setLight=function(e){return this.style.setLight(e),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},r.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=de.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=de.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=de.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var o=this._controlContainer=de.create("div","mapboxgl-control-container",e),n=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){n[e]=de.create("div","mapboxgl-ctrl-"+e,o)})},r.prototype._resizeCanvas=function(t,r){var o=e.window.devicePixelRatio||1;this._canvas.width=o*t,this._canvas.height=o*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},r.prototype._setupPainter=function(){var t=e.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},ue.webGLContextAttributes),r=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);r?this.painter=new Xr(r,this.transform):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},r.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender(),this):this},r.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},r.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},r.prototype._render=function(){this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var r=this.transform.zoom,o=e.browser.now();this.style.zoomHistory.update(r,o);var n=new e.EvaluationParameters(r,{now:o,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=n.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(n)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},r.prototype.remove=function(){this._hash&&this._hash.remove(),this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[];var o=this.painter.context.gl.getExtension("WEBGL_lose_context");o&&o.loseContext(),ie(this._canvasContainer),ie(this._controlContainer),ie(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},r.prototype._rerender=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame(function(){t._frame=null,t._render()}))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint=e,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},Object.defineProperties(r.prototype,o),r}(mo),xo={showCompass:!0,showZoom:!0},So=function(t){var r=this;this.options=e.extend({},xo,t),this._container=de.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return r._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return r._map.zoomOut()})),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return r._map.resetNorth()}),this._compassArrow=de.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};So.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},So.prototype.onAdd=function(e){return this._map=e,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new io(e,{button:"left",element:this._compass}),de.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},So.prototype.onRemove=function(){de.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),de.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},So.prototype._createButton=function(e,t,r){var o=de.create("button",e,this._container);return o.type="button",o.setAttribute("aria-label",t),o.addEventListener("click",r),o};var ko,Po={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},Eo=function(t){function r(r){if(t.call(this),(arguments[0]instanceof e.window.HTMLElement||2===arguments.length)&&(r=e.extend({element:r},arguments[1])),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=de.create("div");var o=de.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var n=de.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var i=de.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"fill-rule","nonzero");var a=de.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"transform","translate(3.0, 29.0)"),a.setAttributeNS(null,"fill","#000000");for(var s=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];s<c.length;s+=1){var l=c[s],p=de.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",l.rx),p.setAttributeNS(null,"ry",l.ry),a.appendChild(p)}var u=de.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);var d=de.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(d);var h=de.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"opacity","0.25"),h.setAttributeNS(null,"fill","#000000");var m=de.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),h.appendChild(m);var y=de.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var f=de.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=de.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var g=de.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#FFFFFF"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962"),f.appendChild(v),f.appendChild(g),i.appendChild(a),i.appendChild(u),i.appendChild(h),i.appendChild(y),i.appendChild(f),o.appendChild(i),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),delete this._map),de.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=De.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=ae(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),de.setTransform(this._element,Po[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),se(this._element,this._anchor,"marker"))},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r}(e.Evented),Co={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Ao=function(t){function r(r){t.call(this),this.options=e.extend({},Co,r),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=de.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==ko?r(ko):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(function(e){ko="denied"!==e.state,r(ko)}):(ko=!!e.window.navigator.geolocation,r(ko)),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),de.remove(this._container),this._map=void 0},r.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},r.prototype._updateCamera=function(e){var t=new De(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy;this._map.fitBounds(t.toBounds(r),this.options.fitBoundsOptions,{geolocateSource:!0})},r.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},r.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;!1!==t?(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=de.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=de.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Eo(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))})):e.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Mo={maxWidth:100,unit:"metric"},To=function(t){this.options=e.extend({},Mo,t),e.bindAll(["_onMove","setUnit"],this)};To.prototype.getDefaultPosition=function(){return"bottom-left"},To.prototype._onMove=function(){ce(this._map,this._container,this.options)},To.prototype.onAdd=function(e){return this._map=e,this._container=de.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},To.prototype.onRemove=function(){de.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},To.prototype.setUnit=function(e){this.options.unit=e,ce(this._map,this._container,this.options)};var zo=function(){this._fullscreen=!1,e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};zo.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=de.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._container},zo.prototype.onRemove=function(){de.remove(this._container),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},zo.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},zo.prototype._setupUI=function(){var t=this._fullscreenButton=de.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},zo.prototype._isFullscreen=function(){return this._fullscreen},zo.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},zo.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Ro={closeButton:!0,closeOnClick:!0,className:""},Fo=function(t){function r(r){t.call(this),this.options=e.extend(Object.create(Ro),r),e.bindAll(["_update","_onClickClose"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&de.remove(this._content),this._container&&(de.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=De.convert(e),this._pos=null,this._update(),this},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var r,o=e.window.document.createDocumentFragment(),n=e.window.document.createElement("body");for(n.innerHTML=t;r=n.firstChild;)o.appendChild(r);return this.setDOMContent(o)},r.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},r.prototype._createContent=function(){this._content&&de.remove(this._content),this._content=de.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=de.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},r.prototype._update=function(){var t=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=de.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=de.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(e){return t._container.classList.add(e)})),this._map.transform.renderWorldCopies&&(this._lngLat=ae(this._lngLat,this._pos,this._map.transform));var r=this._pos=this._map.project(this._lngLat),o=this.options.anchor,n=function t(r){if(r){if("number"==typeof r){var o=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(o,o),"top-right":new e.Point(-o,o),bottom:new e.Point(0,-r),"bottom-left":new e.Point(o,-o),"bottom-right":new e.Point(-o,-o),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var n=e.Point.convert(r);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var i,a=this._container.offsetWidth,s=this._container.offsetHeight;i=r.y+n.bottom.y<s?["top"]:r.y>this._map.transform.height-s?["bottom"]:[],r.x<a/2?i.push("left"):r.x>this._map.transform.width-a/2&&i.push("right"),o=0===i.length?"bottom":i.join("-")}var c=r.add(n[o]).round();de.setTransform(this._container,Po[o]+" translate("+c.x+"px,"+c.y+"px)"),se(this._container,o,"popup")}},r.prototype._onClickClose=function(){this.remove()},r}(e.Evented),Io={version:"0.49.0",supported:ue,setRTLTextPlugin:e.setRTLTextPlugin,Map:bo,NavigationControl:So,GeolocateControl:Ao,AttributionControl:yo,ScaleControl:To,FullscreenControl:zo,Popup:Fo,Marker:Eo,Style:ur,LngLat:De,LngLatBounds:Le,Point:e.Point,Evented:e.Evented,config:_e,get accessToken(){return _e.ACCESS_TOKEN},set accessToken(e){_e.ACCESS_TOKEN=e},get workerCount(){return Ot.workerCount},set workerCount(e){Ot.workerCount=e},workerUrl:""};return Io}),o})},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",_id:"cafe-steam-rochester-2",properties:{name:"Cafe Steam",label:[{value:"Cafe Steam"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/MhJ4vJgdnPiz13BMTAghCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"315 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072084160"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.463493,44.019878]}},{type:"Feature",_id:"chesters-kitchen-and-bar-rochester",properties:{name:"Chester's Kitchen and Bar",label:[{value:"Chester's Kitchen and Bar"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Lf8EOD30O9UzvVtcMBh1gg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074241211"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"pasquales-neighborhood-pizzeria-rochester",properties:{name:"Pasquale's Neighborhood Pizzeria",label:[{value:"Pasquale's Neighborhood Pizzeria"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rpSawY8t87L1JKCiAqIAYw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"130 5th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074247800"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.4649423101647,44.0180986164811]}},{type:"Feature",_id:"tonic-rochester-2",properties:{name:"Tonic",label:[{value:"Tonic"}],category:[{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vegetarian",term:"vegetarian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/2fXQBJu-ddUwKtt5BF16ZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1217 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585224"},updated:1510719318834},geometry:{type:"Point",coordinates:[-92.48228,44.02191]}},{type:"Feature",_id:"pescara-rochester",properties:{name:"Pescara",label:[{value:"Pescara"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Seafood",term:"seafood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/MhJ4vJgdnPiz13BMTAghCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"DoubleTree Hotel, 150 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806900"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46256,44.02199]}},{type:"Feature",_id:"nupa-mediterranean-cuisine-rochester",properties:{name:"Nupa Mediterranean Cuisine",label:[{value:"Nupa Mediterranean Cuisine"}],category:[{value:"Mediterranean",term:"mediterranean",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Greek",term:"greek",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1VYwqxh9WrFX8HHL0UWFkQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1035 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072065044"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.478606,44.0285828]}},{type:"Feature",_id:"the-doggery-rochester",properties:{name:"The Doggery",label:[{value:"The Doggery"}],category:[{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/GdKmydZXS7vFHBnay2s_Yw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072892742"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.463938,44.020227]}},{type:"Feature",_id:"pho-chau-rochester",properties:{name:"Pho Chau",label:[{value:"Pho Chau"}],category:[{value:"Vietnamese",term:"vietnamese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1014 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072813342"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.462526,44.033622]}},{type:"Feature",_id:"terza-ristorante-rochester",properties:{name:"Terza Ristorante",label:[{value:"Terza Ristorante"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pasta Shops",term:"pastashops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/arM148-XROnDlUfRexG8lg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 3rd St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072169590"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46258,44.02027]}},{type:"Feature",_id:"mango-thai-rochester",properties:{name:"Mango Thai",label:[{value:"Mango Thai"}],category:[{value:"Thai",term:"thai",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Asian Fusion",term:"asianfusion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4in4HQsovlyaZ5gCV8FJqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"318 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072882360"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.462653,44.019815]}},{type:"Feature",_id:"newts-downtown-rochester-2",properties:{name:"Newt's Downtown",label:[{value:"Newt's Downtown"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Beer Bar",term:"beerbar",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"216 1/2 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890577"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.4641192797623,44.0209629976761]}},{type:"Feature",_id:"porch-and-cellar-rochester",properties:{name:"Porch And Cellar",label:[{value:"Porch And Cellar"}],category:[{value:"Southern",term:"southern",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/5e5INeaXgx0fPWRUMGXo9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073226551"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46128,44.01887]}},{type:"Feature",_id:"the-loop-rochester",properties:{name:"The Loop",label:[{value:"The Loop"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/lEfx35vYpS6YwvJSknrm5Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"318 First Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072268644"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.4643224477768,44.0198890768274]}},{type:"Feature",_id:"snappy-stop-rochester",properties:{name:"Snappy Stop",label:[{value:"Snappy Stop"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hot Dogs",term:"hotdog",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"37 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072896116"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.462059753384,44.012779808254]}},{type:"Feature",_id:"the-tap-house-on-historic-3rd-st-rochester",properties:{name:"The Tap House On Historic 3rd St",label:[{value:"The Tap House On Historic 3rd St"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/XT0tDLspS1XpyKKt32nNzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"10 Historic 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072584017"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.46359,44.02024]}},{type:"Feature",_id:"300-first-rochester",properties:{name:"300 First",label:[{value:"300 First"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9R27gEzW5hlkLW4n1vlh3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812451"},updated:1510719318835},geometry:{type:"Point",coordinates:[-92.4640655517578,44.0264930725098]}},{type:"Feature",_id:"redwood-room-rochester",properties:{name:"Redwood Room",label:[{value:"Redwood Room"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Jazz & Blues",term:"jazzandblues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/6EAraPjZG1aU7CB6vhrz1Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812978"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4640639,44.026493]}},{type:"Feature",_id:"city-market-downtown-rochester",properties:{name:"City Market Downtown",label:[{value:"City Market Downtown"}],category:[{value:"Delis",term:"delis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/zt4nbybeAAKdODDCvtrXjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"212 1st Ave SW, Ste 12",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075364748"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46407,44.0210999]}},{type:"Feature",_id:"kutzky-market-rochester",properties:{name:"Kutzky Market",label:[{value:"Kutzky Market"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1001 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072587490"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.478641815825,44.0171808351232]}},{type:"Feature",_id:"the-half-barrel-rochester-2",properties:{name:"The Half Barrel",label:[{value:"The Half Barrel"}],category:[{value:"Lounges",term:"lounges",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Euwrgeqek79vZUZ-YhyZ1A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"304 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072586606"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46417,44.02021]}},{type:"Feature",_id:"old-abe-coffee-company-rochester",properties:{name:"Old Abe Coffee Company",label:[{value:"Old Abe Coffee Company"}],category:[{value:"Street Vendors",term:"streetvendors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/h0VnsS_oybPe4UM4HUdulw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"832 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"6514104137"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4752535,44.0308259]}},{type:"Feature",_id:"china-1-rochester",properties:{name:"China 1",label:[{value:"China 1"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 Civic Center Dr",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072811588"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4801335214623,44.0287960417207]}},{type:"Feature",_id:"la-poblana-rochester-2",properties:{name:"La Poblana",label:[{value:"La Poblana"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1121 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072927791"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4793146550655,44.0283094346523]}},{type:"Feature",_id:"bleu-duck-kitchen-rochester-2",properties:{name:"Bleu Duck Kitchen",label:[{value:"Bleu Duck Kitchen"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/NppVfkmTIXAQQ1aNloUvgg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 4th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072584663"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4634245783091,44.0192804485559]}},{type:"Feature",_id:"nupa-mediterranean-cuisine-rochester-3",properties:{name:"Nupa Mediterranean Cuisine",label:[{value:"Nupa Mediterranean Cuisine"}],category:[{value:"Greek",term:"greek",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mediterranean",term:"mediterranean",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"412 Crossroads Dr",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072183130"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46848,44.00557]}},{type:"Feature",_id:"prescotts-grill-rochester-2",properties:{name:"Prescott's Grill",label:[{value:"Prescott's Grill"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/RDFXuk8iKvZ8J-sfBzzg_g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075367775"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.464523,44.004871]}},{type:"Feature",_id:"pannekoeken-rochester",properties:{name:"Pannekoeken",label:[{value:"Pannekoeken"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/emHIgZJBRPJZkXBQOFnwww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072870722"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.46407,44.0237]}},{type:"Feature",_id:"franciscos-cuban-cafe-rochester",properties:{name:"Francisco's Cuban Cafe",label:[{value:"Francisco's Cuban Cafe"}],category:[{value:"Cuban",term:"cuban",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Ste 206, First Avenue Food Ct",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072587722"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4640582501888,44.022596047659]}},{type:"Feature",_id:"casablanca-creative-cuisine-and-wine-rochester",properties:{name:"Casablanca Creative Cuisine & Wine",label:[{value:"Casablanca Creative Cuisine & Wine"}],category:[{value:"Moroccan",term:"moroccan",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"French",term:"french",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4YD4sUTvzrtJkAachkn-Cw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1208 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072880274"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.4813385009766,44.0312805175781]}},{type:"Feature",_id:"victorias-ristorante-and-wine-bar-rochester",properties:{name:"Victoria's Ristorante & Wine Bar",label:[{value:"Victoria's Ristorante & Wine Bar"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/4uR_9pnV5yROqywy6Hwzrw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806232"},updated:1510719318836},geometry:{type:"Point",coordinates:[-92.464643502439,44.023269063858]}},{type:"Feature",_id:"india-garden-rochester",properties:{name:"India Garden",label:[{value:"India Garden"}],category:[{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/AHCJeRQn2RPpgSo1BWeIhw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1107 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072886280"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.4634323,44.034359]}},{type:"Feature",_id:"moka-rochester",properties:{name:"MOKA",label:[{value:"MOKA"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/dc-T2yRVg_tAanWWHfCj7w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1023 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072826652"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.46343,44.03382]}},{type:"Feature",_id:"bravo-espresso-rochester",properties:{name:"Bravo Espresso",label:[{value:"Bravo Espresso"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/dVUAlqoDDAiJTzU__2IG0Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:null},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"lazeez-restaurant-and-catering-rochester-6",properties:{name:"Lazeez Restaurant and Catering",label:[{value:"Lazeez Restaurant and Catering"}],category:[{value:"Halal",term:"halal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Middle Eastern",term:"mideastern",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/5hfgpyJfOWulVxWmBXaa0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"303 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072822822"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.467658996582,44.0450134277344]}},{type:"Feature",_id:"cafe-presto-rochester",properties:{name:"Cafe Presto",label:[{value:"Cafe Presto"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1223 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072892690"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.482467,44.021911]}},{type:"Feature",_id:"zpizza-rochester",properties:{name:"zpizza",label:[{value:"zpizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vegan",term:"vegan",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gluten-Free",term:"gluten_free",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/unCLsSgBRw3Zsn-dHa6cXw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074240440"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"twigs-tavern-and-grille-rochester",properties:{name:"Twigs Tavern and Grille",label:[{value:"Twigs Tavern and Grille"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/o06JDIj93WjiKqrigfA2Dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"401 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072880206"},updated:1510719318837},geometry:{type:"Point",coordinates:[-92.46842,44.01735]}},{type:"Feature",_id:"hunan-chinese-restaurant-rochester",properties:{name:"Hunan Chinese Restaurant",label:[{value:"Hunan Chinese Restaurant"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ql84oCC9YLEzs2KjEYhCjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"844 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072870002"},updated:1510719318838},geometry:{type:"Point",coordinates:[-92.4629022,44.0136255]}},{type:"Feature",_id:"dunn-brotherscoffee-rochester-4",properties:{name:"Dunn Brothers Coffee",label:[{value:"Dunn Brothers Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/_Rftlofr_pgrjpVFMdzwWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2550 Broadway Ave S",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073220250"},updated:1510719318838},geometry:{type:"Point",coordinates:[-92.464058,44.022273]}},{type:"Feature",_id:"canadian-honker-rochester-5",properties:{name:"Canadian Honker",label:[{value:"Canadian Honker"}],category:[{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/g9AltqtxUxWNofcdJYrVFw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1203 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826572"},updated:1510719318838},geometry:{type:"Point",coordinates:[-92.481556,44.021872]}},{type:"Feature",_id:"taqueria-el-sueno-rochester",properties:{name:"Taqueria El Sueno",label:[{value:"Taqueria El Sueno"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1203 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073220202"},updated:1510719319498},geometry:{type:"Point",coordinates:[-92.48052,44.0317999]}},{type:"Feature",_id:"cheap-charlies-rochester",properties:{name:"Cheap Charlies",label:[{value:"Cheap Charlies"}],category:[{value:"Diners",term:"diners",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 5th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897693"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4639129638672,44.0283546447754]}},{type:"Feature",_id:"potbelly-sandwich-shop-rochester",properties:{name:"Potbelly Sandwich Shop",label:[{value:"Potbelly Sandwich Shop"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/UmNuRnbIKrJcLEnFS8NY8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"318 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074241661"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4640784,44.0198783]}},{type:"Feature",_id:"mayo-clinic-rochester",properties:{name:"Mayo Clinic",label:[{value:"Mayo Clinic"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/th0sLzGacreY6sb4hBC-Tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"200 1st St SW",city:"Rochester",state_code:"MN",zip:"55905"},phone:"5072842511"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.466629,44.022129]}},{type:"Feature",_id:"daubes-bakery-rochester-2",properties:{name:"Daube's Bakery",label:[{value:"Daube's Bakery"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Delis",term:"delis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1310 5th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893095"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.48182,44.02823]}},{type:"Feature",_id:"kathys-pub-rochester",properties:{name:"Kathy's Pub",label:[{value:"Kathy's Pub"}],category:[{value:"Pubs",term:"pubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rTLy4ipZIh90eQMaI62nuQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"307 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528355"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4634857177734,44.0201187133789]}},{type:"Feature",_id:"brothers-bar-and-grill-rochester",properties:{name:"Brothers Bar & Grill",label:[{value:"Brothers Bar & Grill"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/0UD_xjZnAV1kq7fcOsImJg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"812 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072818902"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4628633260727,44.0141788870096]}},{type:"Feature",_id:"caribou-coffee-rochester-3",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4YD4sUTvzrtJkAachkn-Cw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072804375"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4677429199219,44.0237503051758]}},{type:"Feature",_id:"hefe-rojo-rochester",properties:{name:"Hefe Rojo",label:[{value:"Hefe Rojo"}],category:[{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/_drlWwOHAraf-dxu7KGQVQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"216 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072891949"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4640731811523,44.0209884643555]}},{type:"Feature",_id:"salute-wine-bar-and-more-rochester",properties:{name:"Salute Wine Bar & More",label:[{value:"Salute Wine Bar & More"}],category:[{value:"Wine Bars",term:"wine_bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wtdgpcYm_9IxaADV4mWMiA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852766"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4649823188431,44.0210134365375]}},{type:"Feature",_id:"macs-cafe-and-restaurant-rochester-2",properties:{name:"Mac's Cafe & Restaurant",label:[{value:"Mac's Cafe & Restaurant"}],category:[{value:"Greek",term:"greek",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1VYwqxh9WrFX8HHL0UWFkQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894219"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.464489,44.023349]}},{type:"Feature",_id:"brueggers-bagels-rochester-2",properties:{name:"Bruegger's Bagels",label:[{value:"Bruegger's Bagels"}],category:[{value:"Bagels",term:"bagels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW, Ste 140",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074244777"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.46509,44.021936]}},{type:"Feature",_id:"5-dollar-pizza-rochester",properties:{name:"5 Dollar Pizza",label:[{value:"5 Dollar Pizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1105 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072585528"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4797129631042,44.0318113102729]}},{type:"Feature",_id:"dunn-brothers-rochester-4",properties:{name:"Dunn Brothers",label:[{value:"Dunn Brothers"}],category:[{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/_l_jPBg-oLuRSt9dbQ9ShA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"120 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072852516"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.463686,44.041765]}},{type:"Feature",_id:"dunn-brothers-coffee-rochester-3",properties:{name:"Dunn Brothers Coffee",label:[{value:"Dunn Brothers Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/T1ku3u2k1hP4c7hs-d89BQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"120 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072854991"},updated:1510719319499},geometry:{type:"Point",coordinates:[-92.4637239128361,44.0416505113174]}},{type:"Feature",_id:"tinns-grilled-philly-steak-subs-rochester-4",properties:{name:"Tinn's Grilled Philly Steak Subs",label:[{value:"Tinn's Grilled Philly Steak Subs"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882188"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4634170532227,44.0245666503906]}},{type:"Feature",_id:"moka-rochester-2",properties:{name:"MOKA",label:[{value:"MOKA"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"306 12th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:null},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.45831,44.0067499]}},{type:"Feature",_id:"grandmas-kitchen-rochester-2",properties:{name:"Grandma's Kitchen",label:[{value:"Grandma's Kitchen"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1514 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072890331"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46136,44.03807]}},{type:"Feature",_id:"soldiers-field-veterans-memorial-rochester",properties:{name:"Soldiers Field Veterans Memorial",label:[{value:"Soldiers Field Veterans Memorial"}],category:[{value:"Parks",term:"parks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/o06JDIj93WjiKqrigfA2Dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 7th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4682061,44.015956]}},{type:"Feature",_id:"valentinos-pizza-and-pasta-rochester",properties:{name:"Valentino's Pizza & Pasta",label:[{value:"Valentino's Pizza & Pasta"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/gisH0qDPIKaS0_iI4WUpfQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"130 Elton Hills Ln, Ste 200",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812100"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.462909963736,44.0413630021125]}},{type:"Feature",_id:"dooleys-pub-rochester",properties:{name:"Dooleys Pub",label:[{value:"Dooleys Pub"}],category:[{value:"Pubs",term:"pubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"255 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072084085"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46469676095,44.020707506672]}},{type:"Feature",_id:"starbucks-rochester-12",properties:{name:"Starbucks",label:[{value:"Starbucks"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Un7-j0-sCockhprElpv7_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852781"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"healing-touch-spa-downtown-rochester",properties:{name:"Healing Touch Spa Downtown",label:[{value:"Healing Touch Spa Downtown"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reflexology",term:"reflexology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reiki",term:"reiki",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lSFSWrG56RJldj4Xtp6irw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Fl 2",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072876162"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"kabab-restaurant-rochester",properties:{name:"Kabab Restaurant",label:[{value:"Kabab Restaurant"}],category:[{value:"Halal",term:"halal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Afghan",term:"afghani",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"125 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072882181"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46044,44.02376]}},{type:"Feature",_id:"huhot-mongolian-grill-rochester",properties:{name:"HuHot Mongolian Grill",label:[{value:"HuHot Mongolian Grill"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Asian Fusion",term:"asianfusion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mongolian",term:"mongolian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/N32WHDMYK3xCm9uM7rB2Hw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072064422"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.478310620871,44.0048846705178]}},{type:"Feature",_id:"wabi-sabi-express-rochester",properties:{name:"Wabi Sabi Express",label:[{value:"Wabi Sabi Express"}],category:[{value:"Sushi Bars",term:"sushi",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Japanese",term:"japanese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/dEQZZ8XUwKN3iK64L1pojA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585288"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4642296614187,44.0224311528042]}},{type:"Feature",_id:"damsy-restaurant-rochester",properties:{name:"Damsy's Restaurant",label:[{value:"Damsy's Restaurant"}],category:[{value:"Middle Eastern",term:"mideastern",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mediterranean",term:"mediterranean",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"405 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073220203"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46492,44.01908]}},{type:"Feature",_id:"peoples-food-co-op-rochester-2",properties:{name:"People's Food Co-op",label:[{value:"People's Food Co-op"}],category:[{value:"Fruits & Veggies",term:"markets",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Health Markets",term:"healthmarkets",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"519 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072899061"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46493,44.01738]}},{type:"Feature",_id:"royal-indian-cuisine-rochester",properties:{name:"Royal Indian Cuisine",label:[{value:"Royal Indian Cuisine"}],category:[{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Buffets",term:"buffets",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1647 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072587500"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4641513418078,43.9979998948506]}},{type:"Feature",_id:"salad-brothers-cafe-and-deli-rochester",properties:{name:"Salad Brothers Cafe & Deli",label:[{value:"Salad Brothers Cafe & Deli"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/8RNzedthIUS7i6SFPXK6rQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072891560"},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.46348,44.02239]}},{type:"Feature",_id:"dunkin-donuts-rochester-31",properties:{name:"Dunkin' Donuts",label:[{value:"Dunkin' Donuts"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Donuts",term:"donuts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/XT0tDLspS1XpyKKt32nNzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1ST Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719319500},geometry:{type:"Point",coordinates:[-92.4645221,44.0230265]}},{type:"Feature",_id:"caribou-coffee-rochester-4",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/VwHKhPh65sPA2A_IJrv9Tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1147 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072811052"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.48102,44.02191]}},{type:"Feature",_id:"cb3-burgers-and-brews-rochester",properties:{name:"CB3 Burgers & Brews",label:[{value:"CB3 Burgers & Brews"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"W Center & 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072859200"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4682329,44.0235141]}},{type:"Feature",_id:"glynners-pub-rochester",properties:{name:"Glynner's Pub",label:[{value:"Glynner's Pub"}],category:[{value:"Pubs",term:"pubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sports Bars",term:"sportsbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/AKhL4xKggead_F3j9dGqQA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1643 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072528800"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4628757819366,44.0382080457257]}},{type:"Feature",_id:"tea-time-rochester-2",properties:{name:"Tea Time",label:[{value:"Tea Time"}],category:[{value:"Bubble Tea",term:"bubbletea",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zcCwyEjh5I7cowAA_Q0WdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 7",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072619868"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"newts-south-rochester-2",properties:{name:"Newt's South",label:[{value:"Newt's South"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/IGP7goeb9J_xhS7odv54cQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072587575"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4649317180537,44.0046172683737]}},{type:"Feature",_id:"mr-pizza-rochester",properties:{name:"Mr Pizza",label:[{value:"Mr Pizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/RWB2KVbWJlIBEGQsKhi9iQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1729 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072881488"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4640274,43.9971504]}},{type:"Feature",_id:"jimmy-johns-rochester-2",properties:{name:"Jimmy John's",label:[{value:"Jimmy John's"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072899900"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.4677429199219,44.0237503051758]}},{type:"Feature",_id:"fiesta-cafe-bar-rochester",properties:{name:"Fiesta Cafe Bar",label:[{value:"Fiesta Cafe Bar"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Seafood",term:"seafood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1645 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072881116"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.46154,44.03993]}},{type:"Feature",_id:"quiznos-rochester-10",properties:{name:"Quiznos",label:[{value:"Quiznos"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Ste 11",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072925725"},updated:1510719319501},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"chocolaterie-stam-rochester",properties:{name:"Chocolaterie Stam",label:[{value:"Chocolaterie Stam"}],category:[{value:"Chocolatiers & Shops",term:"chocolate",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Jtw4tFMNH1Cm0_fArGR7kg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 208",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075362722"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.46371,44.022501]}},{type:"Feature",_id:"la-vetta-rochester-2",properties:{name:"La Vetta",label:[{value:"La Vetta"}],category:[{value:"Cocktail Bars",term:"cocktailbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/z22hWmV_k8aF8O2mjZwkUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 3rd St SE",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074134033"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4627178162336,44.0203633904457]}},{type:"Feature",_id:"forager-brewing-company-rochester-3",properties:{name:"Forager Brewing Company",label:[{value:"Forager Brewing Company"}],category:[{value:"Breweries",term:"breweries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072587490"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4780221511959,44.0293365173244]}},{type:"Feature",_id:"blue-sky-dental-rochester",properties:{name:"Blue Sky Dental",label:[{value:"Blue Sky Dental"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Orthodontists",term:"orthodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KuexRXpTwrKzUe2h-sRkjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 3rd St SW, Ste 300",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585260"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4639358520508,44.0202255249023]}},{type:"Feature",_id:"kingdom-buffet-rochester",properties:{name:"Kingdom Buffet",label:[{value:"Kingdom Buffet"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1639 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072820211"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4616248,44.040308]}},{type:"Feature",_id:"applebees-neighborhood-grill-and-bar-rochester-21",properties:{name:"Applebee's Neighborhood Grill & Bar",label:[{value:"Applebee's Neighborhood Grill & Bar"}],category:[{value:"Sports Bars",term:"sportsbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"320 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072520155"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4786239,44.0049339]}},{type:"Feature",_id:"chinese-chinhs-express-rochester-2",properties:{name:"Chinese Chinh's Express",label:[{value:"Chinese Chinh's Express"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W7jievfSHX_21V022U7kRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Fl 2",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585350"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4640579223633,44.022274017334]}},{type:"Feature",_id:"freshens-fresh-food-studio-rochester",properties:{name:"Freshens Fresh Food Studio",label:[{value:"Freshens Fresh Food Studio"}],category:[{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Subway Level",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852705"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"red-lobster-rochester-4",properties:{name:"Red Lobster",label:[{value:"Red Lobster"}],category:[{value:"Seafood",term:"seafood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4DgWUpTEvoNSMHoCRFiDjA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1280 Hwy 14 SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072880688"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4805078,44.0068051]}},{type:"Feature",_id:"zzest-lunch-counter-rochester",properties:{name:"ZZest Lunch Counter",label:[{value:"ZZest Lunch Counter"}],category:[{value:"Salad",term:"salad",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Soup",term:"soup",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/3blIxi1V2FZ2ugqkdXa3cg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Ste 203",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074240080"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4640579223633,44.022274017334]}},{type:"Feature",_id:"grand-grill-rochester",properties:{name:"Grand Grill",label:[{value:"Grand Grill"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/iNHSeezPYVOehS8HXBxo6g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806200"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4657902866602,44.0232018381357]}},{type:"Feature",_id:"roscoes-root-beer-and-ribs-rochester-3",properties:{name:"Roscoe's Root Beer & Ribs",label:[{value:"Roscoe's Root Beer & Ribs"}],category:[{value:"Barbeque",term:"bbq",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hot Dogs",term:"hotdog",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JhnxhXplxCSQ6Swtyg-5Mw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"603 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072850501"},updated:1510719320181},geometry:{type:"Point",coordinates:[-92.4547289,44.019574]}},{type:"Feature",_id:"pc-maid-computer-repair-services-rochester",properties:{name:"PC-Maid Computer Repair Services",label:[{value:"PC-Maid Computer Repair Services"}],category:[{value:"IT Services & Computer Repair",term:"itservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xLf6wjYespuDoAOhubt4gw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823385"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4647938103118,44.0217737625931]}},{type:"Feature",_id:"martinis-rochester-2",properties:{name:"Martini's",label:[{value:"Martini's"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Salad",term:"salad",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Mew8QrqoNVNKIKtHWUgalg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072852728"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"silver-lake-park-rochester-2",properties:{name:"Silver Lake Park",label:[{value:"Silver Lake Park"}],category:[{value:"Parks",term:"parks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ddoHOEON6K68k1dCncCRlw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"701-1399 E Silver Lake Dr",city:"Rochester",state_code:"MN",zip:"55906"},phone:null},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4539781734347,44.0323399264311]}},{type:"Feature",_id:"bakers-square-rochester-2",properties:{name:"Bakers Square",label:[{value:"Bakers Square"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/SOKu1d2Yz2tCLr_u6zbu5Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"819 Apache Ln SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072521224"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4743118286133,44.0063552856445]}},{type:"Feature",_id:"great-harvest-bread-co-rochester-3",properties:{name:"Great Harvest Bread Co",label:[{value:"Great Harvest Bread Co"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/RVR6px6TYdNBIHiLqETQnw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"706 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072861101"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46258,44.0307]}},{type:"Feature",_id:"doubletree-hotel-rochester",properties:{name:"Doubletree Hotel",label:[{value:"Doubletree Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/7T3SDw-Y9s6xfR1fghzibA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"150 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072818000"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46256,44.02199]}},{type:"Feature",_id:"grand-rounds-brewpub-rochester",properties:{name:"Grand Rounds Brewpub",label:[{value:"Grand Rounds Brewpub"}],category:[{value:"Brewpubs",term:"brewpubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4 3rd St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072921628"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46337890625,44.0202407836914]}},{type:"Feature",_id:"jimmy-johns-rochester-5",properties:{name:"Jimmy John's",label:[{value:"Jimmy John's"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/gisH0qDPIKaS0_iI4WUpfQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"90 14th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074242000"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4653778,44.0024605]}},{type:"Feature",_id:"brueggers-bagels-rochester-4",properties:{name:"Bruegger's Bagels",label:[{value:"Bruegger's Bagels"}],category:[{value:"Bagels",term:"bagels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-NM17tQZVdg1W9GjwXMq9w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072876045"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4630074948072,44.0417667478323]}},{type:"Feature",_id:"doubletree-by-hilton-rochester",properties:{name:"Doubletree by Hilton",label:[{value:"Doubletree by Hilton"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Otpa7OFD4ofplWVkX-yxzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"150 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072818000"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46256,44.02199]}},{type:"Feature",_id:"freshens-rochester",properties:{name:"Freshens",label:[{value:"Freshens"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/WCDMKs7OBHViwuJrQP_u_A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 Third Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072852727"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4674988,44.0238686]}},{type:"Feature",_id:"chipotle-mexican-grill-rochester-8",properties:{name:"Chipotle Mexican Grill",label:[{value:"Chipotle Mexican Grill"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/wIyv1gY5f4A0kwpaxd3HRA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 60",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075295484"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4645233154297,44.0048713684082]}},{type:"Feature",_id:"outback-steakhouse-rochester-2",properties:{name:"Outback Steakhouse",label:[{value:"Outback Steakhouse"}],category:[{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Or2gSRG-gvDRDMPEzWJF7A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072521150"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"gingerbread-house-rochester",properties:{name:"Gingerbread House",label:[{value:"Gingerbread House"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/3VdIlJzu6wX6l0Jca3KuGw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1104 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882621"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4625854492188,44.0342407226562]}},{type:"Feature",_id:"papa-murphys-rochester-2",properties:{name:"Papa Murphy's",label:[{value:"Papa Murphy's"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"410 Crossroads Drive South West",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075360630"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.46849,44.00575]}},{type:"Feature",_id:"hunan-garden-chinese-restaurant-rochester",properties:{name:"Hunan Garden Chinese Restaurant",label:[{value:"Hunan Garden Chinese Restaurant"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ifsLhAQAcWj6iLwdFFUFTw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1120 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851438"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4803,44.03094]}},{type:"Feature",_id:"plaza-morena-campestre-grill-rochester-3",properties:{name:"Plaza Morena Campestre Grill",label:[{value:"Plaza Morena Campestre Grill"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Latin American",term:"latin",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tex-Mex",term:"tex-mex",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 17th Ave NW",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810121"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.48679,44.02369]}},{type:"Feature",_id:"perkins-restaurant-and-bakery-rochester-7",properties:{name:"Perkins Restaurant & Bakery",label:[{value:"Perkins Restaurant & Bakery"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/IGP7goeb9J_xhS7odv54cQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"432 16th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072881996"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.483726888895,44.0284059257251]}},{type:"Feature",_id:"63-club-rochester",properties:{name:"63 Club",label:[{value:"63 Club"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/sDNh4FI5JSkYwRXsexubSA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1726 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810632"},updated:1510719320182},geometry:{type:"Point",coordinates:[-92.4634172022343,43.9974070340395]}},{type:"Feature",_id:"the-lord-essex-steakhouse-rochester",properties:{name:"The Lord Essex Steakhouse",label:[{value:"The Lord Essex Steakhouse"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Salad",term:"salad",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072854042"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4656171,44.0233826]}},{type:"Feature",_id:"rochester-public-library-rochester-8",properties:{name:"Rochester Public Library",label:[{value:"Rochester Public Library"}],category:[{value:"Libraries",term:"libraries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"publicservicesgovt",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/47FbjU847yHqs2KYUGlpWg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 2nd St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073282309"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4608383178711,44.0218849182129]}},{type:"Feature",_id:"paseo-del-rio-rochester",properties:{name:"Paseo Del Rio",label:[{value:"Paseo Del Rio"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"20 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073989577"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4612808227539,44.018871307373]}},{type:"Feature",_id:"dairy-queen-rochester-5",properties:{name:"Dairy Queen",label:[{value:"Dairy Queen"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Ste S9",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826633"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"homewood-suites-by-hilton-rochester",properties:{name:"Homewood Suites By Hilton",label:[{value:"Homewood Suites By Hilton"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/aekSUlayF5fMOGroJhomXA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"165 13th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072183320"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.4835163354874,44.0220149606466]}},{type:"Feature",_id:"gander-plumbing-and-heating-rochester",properties:{name:"Gander Plumbing and Heating",label:[{value:"Gander Plumbing and Heating"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Heater Installation/Repair",term:"waterheaterinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/XK4Av4JIyWyhPHUFlRHEoA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"236 5th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072827540"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.46727,44.02804]}},{type:"Feature",_id:"subway-rochester-21",properties:{name:"Subway",label:[{value:"Subway"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/kYVb4yDi0HGoc6FmUvz2YQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1103 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072800545"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.47944,44.03177]}},{type:"Feature",_id:"catering-for-all-its-worth-food-truck-rochester-2",properties:{name:"Catering For All It's Worth Food Truck",label:[{value:"Catering For All It's Worth Food Truck"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/nBEh-QbtLYys5k9u3qIT0Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5079905144"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.465943172574,44.0201767043756]}},{type:"Feature",_id:"brentwood-inn-and-suites-rochester",properties:{name:"Brentwood Inn & Suites",label:[{value:"Brentwood Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ks63UcZwq8KmIsmg-oyJAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"123 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072888011"},updated:1510719320183},geometry:{type:"Point",coordinates:[-92.46841,44.02505]}},{type:"Feature",_id:"carrolls-corn-rochester",properties:{name:"Carroll's Corn",label:[{value:"Carroll's Corn"}],category:[{value:"Specialty Food",term:"gourmet",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/GEQkhPxaM7oCZtKfcA8fBA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072873307"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"rice-n-spice-rochester",properties:{name:"Rice N Spice",label:[{value:"Rice N Spice"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Imported Food",term:"importedfood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/9_v8o1PnfrOIVhpKmdU8Kw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"810 S Broadway, Ste B",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075290258"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4624099731445,44.0136795043945]}},{type:"Feature",_id:"big-brads-on-broadway-rochester",properties:{name:"Big Brad's On Broadway",label:[{value:"Big Brad's On Broadway"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"309 S Broadway",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072268100"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.46348,44.02006]}},{type:"Feature",_id:"socialice-rochesters-ice-bar-rochester",properties:{name:"SocialIce Rochester's Ice Bar",label:[{value:"SocialIce Rochester's Ice Bar"}],category:[{value:"Local Flavor",term:"localflavor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localflavor",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1ST Ave And 1st St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074244774"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4644089,44.0224915]}},{type:"Feature",_id:"field-of-fun-rochester",properties:{name:"Field of Fun",label:[{value:"Field of Fun"}],category:[{value:"Parks",term:"parks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0l4b5t3AzN-9i7HRatCmWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"922 George Gibbs Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073282525"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.468958,44.0146581]}},{type:"Feature",_id:"broadstreet-cafe-and-bar-rochester",properties:{name:"Broadstreet Cafe & Bar",label:[{value:"Broadstreet Cafe & Bar"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/lEwSR1A3ZK5PIy05lwyjgw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072812451"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.464065,44.026493]}},{type:"Feature",_id:"rochester-honkers-baseball-rochester",properties:{name:"Rochester Honkers Baseball",label:[{value:"Rochester Honkers Baseball"}],category:[{value:"Amateur Sports Teams",term:"amateursportsteams",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"307 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072891170"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.458252,44.0237389]}},{type:"Feature",_id:"eagle-store-rochester-2",properties:{name:"Eagle Store",label:[{value:"Eagle Store"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cards & Stationery",term:"stationery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Newspapers & Magazines",term:"mags",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"23 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072893141"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.464222,44.021897]}},{type:"Feature",_id:"scheels-rochester",properties:{name:"Scheels",label:[{value:"Scheels"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JdB-rR7iCTHZYY4uUC_Z8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 102 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4756098538637,44.0048447996378]}},{type:"Feature",_id:"o-and-b-shoe-rochester",properties:{name:"O & B Shoe",label:[{value:"O & B Shoe"}],category:[{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JkGCU_Gzqj60_twJlKH8zw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"19 First Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072895189"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.46471,44.0229]}},{type:"Feature",_id:"med-city-dental-rochester",properties:{name:"Med City Dental",label:[{value:"Med City Dental"}],category:[{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"30 3rd St SE, Ste 202",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072898707"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4627178162336,44.0203633904457]}},{type:"Feature",_id:"fiddlehead-coffee-rochester-2",properties:{name:"Fiddlehead Coffee",label:[{value:"Fiddlehead Coffee"}],category:[{value:"Coffee Roasteries",term:"coffeeroasteries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/V_f80QnoF5KcM-otQ0xrcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072587490"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4782822962501,44.0295736781615]}},{type:"Feature",_id:"dominos-pizza-rochester-21",properties:{name:"Domino's Pizza",label:[{value:"Domino's Pizza"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chicken Wings",term:"chicken_wings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/2XNMARA6xt88-GWPo-wkEw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"444 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072883030"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4587287008762,44.0186943858862]}},{type:"Feature",_id:"apache-nails-rochester",properties:{name:"Apache Nails",label:[{value:"Apache Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Day Spas",term:"spas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/2Fg5zGE_IgC7WVDVwIeeZg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072586318"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4787987647401,44.0046915673242]}},{type:"Feature",_id:"chuck-e-cheeses-rochester-3",properties:{name:"Chuck E Cheese's",label:[{value:"Chuck E Cheese's"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W7jievfSHX_21V022U7kRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1250 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075295055"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.480980260948,44.0002173267537]}},{type:"Feature",_id:"springhill-suites-by-marriott-rochester",properties:{name:"Springhill Suites by Marriott",label:[{value:"Springhill Suites by Marriott"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/4p0nmfwZyjzmKoG7Mx7p6g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1125 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072815455"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4802017211914,44.022144317627]}},{type:"Feature",_id:"running-room-rochester",properties:{name:"Running Room",label:[{value:"Running Room"}],category:[{value:"Sports Wear",term:"sportswear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JdB-rR7iCTHZYY4uUC_Z8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"711 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072873341"},updated:1510719320877},geometry:{type:"Point",coordinates:[-92.4635,44.015232]}},{type:"Feature",_id:"legends-bar-and-grill-rochester",properties:{name:"Legends Bar & Grill",label:[{value:"Legends Bar & Grill"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/fI5LuAH-Xt1FDJoQkjzBNg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074241896"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.46239,44.0195]}},{type:"Feature",_id:"vfw-post-1215-rochester",properties:{name:"Vfw Post 1215",label:[{value:"Vfw Post 1215"}],category:[{value:"Restaurants",term:"restaurants",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/TXBwpqNf_RY13BRVLuNoiw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072896299"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4639129638672,44.0167770385742]}},{type:"Feature",_id:"rochester-area-family-ymca-rochester-3",properties:{name:"Rochester Area Family YMCA",label:[{value:"Rochester Area Family YMCA"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Swimming Pools",term:"swimmingpools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Day Camps",term:"daycamps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KG0Nmf3jS4CVLBGl6kTi5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"709 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072872260"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4649658203125,44.0151672363281]}},{type:"Feature",_id:"caribou-coffee-house-rochester",properties:{name:"Caribou Coffee House",label:[{value:"Caribou Coffee House"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"308 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885117"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4779739,44.005867]}},{type:"Feature",_id:"kahler-inn-and-suites-rochester",properties:{name:"Kahler Inn & Suites",label:[{value:"Kahler Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/wm_oS40wg7mfsz_xjYw9hQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072859200"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4677449,44.023751]}},{type:"Feature",_id:"subway-rochester-67",properties:{name:"Subway",label:[{value:"Subway"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072827976"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.46495,44.02184]}},{type:"Feature",_id:"counterpoint-home-rochester-2",properties:{name:"Counterpoint Home",label:[{value:"Counterpoint Home"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Children's Clothing",term:"childcloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/OdJDslg41Gs8Y6xJHi1roQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 212",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072806419"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.463333,44.022385]}},{type:"Feature",_id:"cowboy-jacks-rochester",properties:{name:"Cowboy Jack's",label:[{value:"Cowboy Jack's"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Px8QU1_W1R-7Y3O9e_2Kng/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072585840"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4647316821728,43.9988120832194]}},{type:"Feature",_id:"joes-auto-and-tire-rochester-2",properties:{name:"Joe's Auto & Tire",label:[{value:"Joe's Auto & Tire"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/yZEY1R71I3FtDQgicc7fcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"923 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072817944"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.477391,44.029385]}},{type:"Feature",_id:"sacred-heart-studios-rochester",properties:{name:"Sacred Heart Studios",label:[{value:"Sacred Heart Studios"}],category:[{value:"Tattoo",term:"tattoo",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Piercing",term:"piercing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"821 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072714954"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4630473,44.0320608]}},{type:"Feature",_id:"trader-joes-rochester-2",properties:{name:"Trader Joe's",label:[{value:"Trader Joe's"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072814411"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.48021,44.00033]}},{type:"Feature",_id:"rochester-marriott-mayo-clinic-area-rochester-3",properties:{name:"Rochester Marriott Mayo Clinic Area",label:[{value:"Rochester Marriott Mayo Clinic Area"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/jP7uqXRPviHkaciOmefG0Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806000"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.464917,44.022289]}},{type:"Feature",_id:"mayo-clinic-healthy-living-program-and-rejuvenate-spa-rochester",properties:{name:"Mayo Clinic Healthy Living Program and Rejuvenate Spa",label:[{value:"Mayo Clinic Healthy Living Program and Rejuvenate Spa"}],category:[{value:"Fitness & Instruction",term:"fitness",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Life Coach",term:"lifecoach",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lmHOkNQfwFVZIW6-HbRGOw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"565 First St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072932933"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4704,44.02296]}},{type:"Feature",_id:"thyme-rochester-2",properties:{name:"Thyme",label:[{value:"Thyme"}],category:[{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Lounges",term:"lounges",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/5VWQ2Kp6n5Q2QXe4Jciv0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528200"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4698791503906,44.0215492248535]}},{type:"Feature",_id:"blu-h2o-salon-rochester",properties:{name:"Blu H2O Salon",label:[{value:"Blu H2O Salon"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Day Spas",term:"spas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyelash Service",term:"eyelashservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/16-DcIUZBOF7iYQv4bDhng/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"150 South Broadway, Ste 201",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072927888"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4625388,44.0219958]}},{type:"Feature",_id:"canvas-and-chardonnay-rochester",properties:{name:"Canvas & Chardonnay",label:[{value:"Canvas & Chardonnay"}],category:[{value:"Art Classes",term:"artclasses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"education",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"317 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072584268"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.463493347168,44.0198173522949]}},{type:"Feature",_id:"residence-inn-by-marriott-rochester-4",properties:{name:"Residence Inn by Marriott",label:[{value:"Residence Inn by Marriott"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"441 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072921400"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.469131,44.023702]}},{type:"Feature",_id:"hy-vee-food-stores-rochester-3",properties:{name:"Hy-Vee Food Stores",label:[{value:"Hy-Vee Food Stores"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/VwHKhPh65sPA2A_IJrv9Tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1315 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072888233"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4812118126126,44.0298054419966]}},{type:"Feature",_id:"taco-bell-rochester-2",properties:{name:"Taco Bell",label:[{value:"Taco Bell"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tex-Mex",term:"tex-mex",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/fUT18lZ9sT2cZ7IOEOmj7Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"516 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072821868"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.463064,44.028308]}},{type:"Feature",_id:"blue-diamond-restaurant-rochester",properties:{name:"Blue Diamond Restaurant",label:[{value:"Blue Diamond Restaurant"}],category:[{value:"Indian",term:"indpak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vegetarian",term:"vegetarian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9R27gEzW5hlkLW4n1vlh3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, Ste 209",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072929009"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4640579223633,44.022274017334]}},{type:"Feature",_id:"dennys-rochester-3",properties:{name:"Denny's",label:[{value:"Denny's"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Diners",term:"diners",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/lmtK9zRsWd80EbQGYAyoZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1226 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072886482"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.4625747219216,44.0054242]}},{type:"Feature",_id:"the-ups-store-rochester-2",properties:{name:"The UPS Store",label:[{value:"The UPS Store"}],category:[{value:"Shipping Centers",term:"shipping_centers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Notaries",term:"notaries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Printing Services",term:"copyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JdB-rR7iCTHZYY4uUC_Z8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"110 West Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074241212"},updated:1510719320878},geometry:{type:"Point",coordinates:[-92.465,44.02333]}},{type:"Feature",_id:"saint-marys-hospital-rochester",properties:{name:"Saint Marys Hospital",label:[{value:"Saint Marys Hospital"}],category:[{value:"Hospitals",term:"hospitals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KG0Nmf3jS4CVLBGl6kTi5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072554000"},updated:1510719320879},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"little-caesars-pizza-rochester",properties:{name:"Little Caesars Pizza",label:[{value:"Little Caesars Pizza"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1641 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072891008"},updated:1510719321476},geometry:{type:"Point",coordinates:[-92.46154,44.03993]}},{type:"Feature",_id:"thee-only-shoe-repair-rochester",properties:{name:"Thee Only Shoe Repair",label:[{value:"Thee Only Shoe Repair"}],category:[{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"908 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072892932"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4627609,44.0325394]}},{type:"Feature",_id:"newts-express-rochester",properties:{name:"Newt's Express",label:[{value:"Newt's Express"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890577"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.465457,44.0215889]}},{type:"Feature",_id:"go-rochester-direct-rochester",properties:{name:"Go Rochester Direct",label:[{value:"Go Rochester Direct"}],category:[{value:"Taxis",term:"taxis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/69LjpUfDEymudoRtYePh0w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8002809270"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"joes-auto-and-tire-rochester",properties:{name:"Joe's Auto & Tire",label:[{value:"Joe's Auto & Tire"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Transmission Repair",term:"transmissionrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1420 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072817970"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.482646,44.0287409]}},{type:"Feature",_id:"med-city-vapors-rochester",properties:{name:"Med City Vapors",label:[{value:"Med City Vapors"}],category:[{value:"Vape Shops",term:"vapeshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0hpDcCGiQtR0Lo42jq5H7g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1111 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072585052"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.47994,44.03184]}},{type:"Feature",_id:"kinney-creek-brewery-rochester",properties:{name:"Kinney Creek Brewery",label:[{value:"Kinney Creek Brewery"}],category:[{value:"Breweries",term:"breweries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/5jNLMGop-TNlCz30__lAGQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1016 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072822739"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.478226,44.030941]}},{type:"Feature",_id:"center-street-cafe-rochester",properties:{name:"Center Street Cafe",label:[{value:"Center Street Cafe"}],category:[{value:"Cafes",term:"cafes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/kvcyb-CT4ObnnbktEFNyug/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9 3rd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072898646"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4675,44.02387]}},{type:"Feature",_id:"the-freight-yard-rochester",properties:{name:"The Freight Yard",label:[{value:"The Freight Yard"}],category:[{value:"Bars",term:"bars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"821 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073220553"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.47475,44.02858]}},{type:"Feature",_id:"midas-rochester-8",properties:{name:"Midas",label:[{value:"Midas"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/b9BVDBjT3xuZta95R-7TVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1225 North Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072824414"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.46345,44.03563]}},{type:"Feature",_id:"perkins-restaurant-and-bakery-rochester-6",properties:{name:"Perkins Restaurant & Bakery",label:[{value:"Perkins Restaurant & Bakery"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Breakfast & Brunch",term:"breakfast_brunch",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/-Ua0UuCZA6tcGhworyZ3jA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1818 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072889400"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4625052511692,43.9956095375446]}},{type:"Feature",_id:"justin-schwirtz-edina-realty-rochester-6",properties:{name:"Justin Schwirtz - Edina Realty",label:[{value:"Justin Schwirtz - Edina Realty"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1301 Salem Rd SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072710699"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.48624,44.00641]}},{type:"Feature",_id:"rochester-shuttle-service-rochester",properties:{name:"Rochester Shuttle Service",label:[{value:"Rochester Shuttle Service"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/TuTjwsv_IGb1v3Ivc4ochg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Kahler Grand Lobby",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072166354"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.465698,44.0232749]}},{type:"Feature",_id:"daubes-rochester",properties:{name:"Daube's",label:[{value:"Daube's"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/zce0mGnJUr5w-mzy_RXjdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072528878"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4649505615234,44.0218391418457]}},{type:"Feature",_id:"barnes-and-noble-rochester",properties:{name:"Barnes & Noble",label:[{value:"Barnes & Noble"}],category:[{value:"Bookstores",term:"bookstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PM7hO-j8yxfue2BGNXCSGg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"425 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072817950"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4796448,44.006115]}},{type:"Feature",_id:"fast-phone-repair-rochester",properties:{name:"Fast Phone Repair",label:[{value:"Fast Phone Repair"}],category:[{value:"Mobile Phone Repair",term:"mobilephonerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-x38OIC0JIsJg9v7cK0ZLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"27 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5077220110"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.46212,44.013512]}},{type:"Feature",_id:"nuha-browz-rochester",properties:{name:"Nuha Browz",label:[{value:"Nuha Browz"}],category:[{value:"Eyebrow Services",term:"eyebrowservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Threading Services",term:"threadingservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/mQ_eFyha5JLtzIAt7rhUsQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 24, Sola Salon Studios",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072714862"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.464522,44.004872]}},{type:"Feature",_id:"tangerine-gifts-rochester",properties:{name:"Tangerine Gifts",label:[{value:"Tangerine Gifts"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/FoU9M9v0onC587u6AopI0w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"110 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072528119"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4643586575985,44.0222858637571]}},{type:"Feature",_id:"tinns-on-2nd-rochester",properties:{name:"Tinn's On 2nd",label:[{value:"Tinn's On 2nd"}],category:[{value:"Cheesesteaks",term:"cheesesteaks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/CQOkvwzrLLT78zBmzrKtbA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1219 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072587506"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.4823399,44.02178]}},{type:"Feature",_id:"herbergers-rochester-3",properties:{name:"Herberger's",label:[{value:"Herberger's"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/AcwH-jdwY5EBeynGU-mKAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 SW 12 Street",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075351780"},updated:1510719321477},geometry:{type:"Point",coordinates:[-92.480452,44.004579]}},{type:"Feature",_id:"courtyard-by-marriott-rochester-4",properties:{name:"Courtyard by Marriott",label:[{value:"Courtyard by Marriott"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/3GyoSx7uxxelrfj9RytdLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"161 13th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075360040"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4838047198358,44.0221179413953]}},{type:"Feature",_id:"dan-abraham-healthy-living-center-rochester-2",properties:{name:"Dan Abraham Healthy Living Center",label:[{value:"Dan Abraham Healthy Living Center"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/PVEXXd0_OoaTAK4Ow86HAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"565 1st St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072664688"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.47044,44.02302]}},{type:"Feature",_id:"mayo-clinic-blood-donor-center-rochester",properties:{name:"Mayo Clinic Blood Donor Center",label:[{value:"Mayo Clinic Blood Donor Center"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/KxPtPXdG_S5xSYzC-aoy_Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072667890"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4662040174007,44.0212580075217]}},{type:"Feature",_id:"optical-vision-w-flair-rochester",properties:{name:"Optical Vision W/Flair",label:[{value:"Optical Vision W/Flair"}],category:[{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/tUe5xxTfrRqdSr9YkmKV1g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"15 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072878444"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46471,44.02297]}},{type:"Feature",_id:"broadway-residence-and-suites-rochester",properties:{name:"Broadway Residence and Suites",label:[{value:"Broadway Residence and Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/iW20_j1xV4PUTNamBdlWlA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"15 1st St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072928807"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46257,44.0227999]}},{type:"Feature",_id:"tinns-grilled-philly-steak-subs-rochester-3",properties:{name:"Tinn's Grilled Philly Steak Subs",label:[{value:"Tinn's Grilled Philly Steak Subs"}],category:[{value:"Steakhouses",term:"steak",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW, First Avenue Food Court",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585552"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.464058,44.022273]}},{type:"Feature",_id:"caribou-coffee-rochester-8",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/SodrvYEb1LPVGOpK-jHdfg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW, Ste S24",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072886230"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"salem-corners-services-rochester",properties:{name:"Salem Corners Services",label:[{value:"Salem Corners Services"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Sb_v3jaF9PIyXxkYFijSYQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072597369"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4599999,44.02]}},{type:"Feature",_id:"hilton-garden-inn-rochester-downtown-rochester",properties:{name:"Hilton Garden Inn Rochester Downtown",label:[{value:"Hilton Garden Inn Rochester Downtown"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Travel Services",term:"travelservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/u6nj0o41IrDSBix5znXB-g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"225 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072851234"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4634857177734,44.0208053588867]}},{type:"Feature",_id:"flapdoodles-ice-cream-south-store-rochester",properties:{name:"Flapdoodles Ice Cream - South Store",label:[{value:"Flapdoodles Ice Cream - South Store"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Glq8jCgRRoI2POMh6EyCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1710 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073220022"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.463165,43.997657]}},{type:"Feature",_id:"autozone-rochester-5",properties:{name:"Autozone",label:[{value:"Autozone"}],category:[{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/gkcUR3sJqz_XBQstDIJtTA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1880 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072814768"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4593505859375,44.0429267883301]}},{type:"Feature",_id:"star-shuttle-service-rochester",properties:{name:"Star Shuttle Service",label:[{value:"Star Shuttle Service"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/YOsZUphBDEuJok-Ml1EHAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 12",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8664402907"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"ginnys-fine-fabrics-and-support-group-rochester",properties:{name:"Ginny's Fine Fabrics & Support Group",label:[{value:"Ginny's Fine Fabrics & Support Group"}],category:[{value:"Fabric Stores",term:"fabricstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OD0k0EN54fNjzzI2Q43-6g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"211 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072859134"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.463485,44.02111]}},{type:"Feature",_id:"fagan-studios-rochester-2",properties:{name:"Fagan Studios",label:[{value:"Fagan Studios"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/InTg4jL5VXmvjUgVKhK3EQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"324 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072592973"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46268,44.01964]}},{type:"Feature",_id:"aspen-suites-rochester",properties:{name:"Aspen Suites",label:[{value:"Aspen Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1211 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072896600"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.48175,44.02184]}},{type:"Feature",_id:"rochester-downtown-farmers-market-rochester",properties:{name:"Rochester Downtown Farmers Market",label:[{value:"Rochester Downtown Farmers Market"}],category:[{value:"Farmers Market",term:"farmersmarket",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/PVEXXd0_OoaTAK4Ow86HAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4TH St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072738232"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.45125,44.01931]}},{type:"Feature",_id:"terraloco-rochester",properties:{name:"TerraLoco",label:[{value:"TerraLoco"}],category:[{value:"Sports Wear",term:"sportswear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW, Ste 150",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072895626"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4793750047684,44.0006766468287]}},{type:"Feature",_id:"flowers-by-jerry-rochester-2",properties:{name:"Flowers By Jerry",label:[{value:"Flowers By Jerry"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Floral Designers",term:"floraldesigners",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Nurseries & Gardening",term:"gardening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rDn8DsmYna1iwmf2J4zG9g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"122 10th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072893967"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.46019,44.0329]}},{type:"Feature",_id:"walgreens-rochester-7",properties:{name:"Walgreens",label:[{value:"Walgreens"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Convenience Stores",term:"convenience",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/prV5mc3h8F3pjDWNaiu4JQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"80 14Th St Sw",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072065132"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.465271,44.003139]}},{type:"Feature",_id:"charter-house-rochester-2",properties:{name:"Charter House",label:[{value:"Charter House"}],category:[{value:"Health & Medical",term:"health",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/1KcZZ55187HvMlazWZqotQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"211 2nd St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072668572"},updated:1510719321478},geometry:{type:"Point",coordinates:[-92.4667434692383,44.0257301330566]}},{type:"Feature",_id:"rochester-methodist-hospital-rochester",properties:{name:"Rochester Methodist Hospital",label:[{value:"Rochester Methodist Hospital"}],category:[{value:"Hospitals",term:"hospitals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Gti7RFklMjwiSofjjVICrQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072667890"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.465934753418,44.0239372253418]}},{type:"Feature",_id:"rochester-methodist-hospital-cafeteria-rochester-3",properties:{name:"Rochester Methodist Hospital Cafeteria",label:[{value:"Rochester Methodist Hospital Cafeteria"}],category:[{value:"Cafeteria",term:"cafeteria",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ql84oCC9YLEzs2KjEYhCjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4659621052216,44.0238511076374]}},{type:"Feature",_id:"a-1-all-brand-vacuums-rochester",properties:{name:"A-1 All Brand Vacuums",label:[{value:"A-1 All Brand Vacuums"}],category:[{value:"Appliances & Repair",term:"homeappliancerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Appliances",term:"appliances",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1004 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072809060"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.477723,44.030766]}},{type:"Feature",_id:"international-spices-and-groceries-rochester",properties:{name:"International Spices & Groceries",label:[{value:"International Spices & Groceries"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Imported Food",term:"importedfood",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"125 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072824856"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4604416,44.0237617]}},{type:"Feature",_id:"custom-costumes-tailor-maid-rochester",properties:{name:"Custom Costumes Tailor Maid",label:[{value:"Custom Costumes Tailor Maid"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Costumes",term:"costumes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/h5NoD_J-G5tnYZycIBrLrg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"603 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072813777"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4713592529297,44.0297164916992]}},{type:"Feature",_id:"an-honest-bike-shop-rochester",properties:{name:"An Honest Bike Shop",label:[{value:"An Honest Bike Shop"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/WqydL6_YAiBfbjTmQcMevQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"44 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072888888"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.461067199707,44.01904296875]}},{type:"Feature",_id:"great-wall-rochester-2",properties:{name:"Great Wall",label:[{value:"Great Wall"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Zo5TsOWrnY4Mw-EWmImaVQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1516 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072920888"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4618727,44.0386644]}},{type:"Feature",_id:"tires-plus-rochester-2",properties:{name:"Tires Plus",label:[{value:"Tires Plus"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ofgf_16ieePXEzhoYrlzeA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1228 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072825366"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4748,44.0058099]}},{type:"Feature",_id:"kahler-hotels-rochester-5",properties:{name:"Kahler Hotels",label:[{value:"Kahler Hotels"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/MhJ4vJgdnPiz13BMTAghCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 SW 2nd Ave",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8005331655"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"clements-chevrolet-cadillac-rochester-2",properties:{name:"Clements Chevrolet Cadillac",label:[{value:"Clements Chevrolet Cadillac"}],category:[{value:"Car Dealers",term:"car_dealers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rTLy4ipZIh90eQMaI62nuQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1000 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890491"},updated:1510719322393},geometry:{type:"Point",coordinates:[-92.4766540527344,44.0061645507812]}},{type:"Feature",_id:"john-kruesels-general-merchandise-and-auction-rochester",properties:{name:"John Kruesel's General Merchandise & Auction",label:[{value:"John Kruesel's General Merchandise & Auction"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/zcCcNyBV2uCD3J8xeB_geA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"22 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072898049"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.463501,44.0202866]}},{type:"Feature",_id:"broadway-laundromat-rochester",properties:{name:"Broadway Laundromat",label:[{value:"Broadway Laundromat"}],category:[{value:"Laundromat",term:"laundromat",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/OdJDslg41Gs8Y6xJHi1roQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072855870"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.46343,44.03473]}},{type:"Feature",_id:"k-and-m-glass-rochester-2",properties:{name:"K & M Glass",label:[{value:"K & M Glass"}],category:[{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Glass & Mirrors",term:"glassandmirrors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windshield Installation & Repair",term:"windshieldinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xLf6wjYespuDoAOhubt4gw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"208 16th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072893261"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4599099,43.99966]}},{type:"Feature",_id:"aspen-select-rochester-3",properties:{name:"Aspen Select",label:[{value:"Aspen Select"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/SmLbgJB2XvHWoQ0njil9gg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1215 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882671"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4821,44.02191]}},{type:"Feature",_id:"taco-johns-rochester",properties:{name:"Taco John's",label:[{value:"Taco John's"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/gpi1yRK5cmD5qo9lJhKu0A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1045 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072819409"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4784934744457,44.031697]}},{type:"Feature",_id:"the-back-alley-kitchen-rochester",properties:{name:"The Back Alley Kitchen",label:[{value:"The Back Alley Kitchen"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/UbDYzBTgCcfQo0R2vSumpQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"301-399 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55905"},phone:"5072547249"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4659225315197,44.0202828535887]}},{type:"Feature",_id:"jems-confections-rochester-2",properties:{name:"Jem's Confections",label:[{value:"Jem's Confections"}],category:[{value:"Desserts",term:"desserts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cupcakes",term:"cupcakes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 117",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072590474"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4659310721027,44.0231292868772]}},{type:"Feature",_id:"rennings-flowers-rochester-2",properties:{name:"Renning's Flowers",label:[{value:"Renning's Flowers"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/7HZQMVRb19KPw4LL0lvwfg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"331 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072891818"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4687194824219,44.045524597168]}},{type:"Feature",_id:"escape-challenge-rochester-2",properties:{name:"Escape Challenge",label:[{value:"Escape Challenge"}],category:[{value:"Escape Games",term:"escapegames",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/IGxfHqp241URrwOKGawkUQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072723041"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4640502929688,44.029354095459]}},{type:"Feature",_id:"calvary-cemetery-rochester",properties:{name:"Calvary Cemetery",label:[{value:"Calvary Cemetery"}],category:[{value:"Funeral Services & Cemeteries",term:"funeralservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xe2irXiMNLrBfqlQ1etYBQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"500 11th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072881770"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4487384200916,44.0280673707242]}},{type:"Feature",_id:"pauls-lock-and-key-shop-rochester-2",properties:{name:"Paul's Lock & Key Shop",label:[{value:"Paul's Lock & Key Shop"}],category:[{value:"Keys & Locksmiths",term:"locksmiths",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1303 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072890633"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.463488,44.036087]}},{type:"Feature",_id:"99-giggles-rochester",properties:{name:"99 Giggles",label:[{value:"99 Giggles"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/U3N4aJklw4XpcyDhfD8Mqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529900"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4656171,44.0233826]}},{type:"Feature",_id:"games-by-james-rochester-2",properties:{name:"Games by James",label:[{value:"Games by James"}],category:[{value:"Toy Stores",term:"toys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072808828"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"silver-lake-foods-rochester",properties:{name:"Silver Lake Foods",label:[{value:"Silver Lake Foods"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/5e5INeaXgx0fPWRUMGXo9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1402 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072823414"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4614487,44.0378189]}},{type:"Feature",_id:"great-clips-rochester-9",properties:{name:"Great Clips",label:[{value:"Great Clips"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880880"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"burger-king-rochester-27",properties:{name:"Burger King",label:[{value:"Burger King"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/_ogUF9qHdwvw-70Z8F_WpA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1550 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072851621"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4616241455078,44.0386276245117]}},{type:"Feature",_id:"pizza-hut-rochester-11",properties:{name:"Pizza Hut",label:[{value:"Pizza Hut"}],category:[{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chicken Wings",term:"chicken_wings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"840 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072855000"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4625397,44.0136719]}},{type:"Feature",_id:"automotive-procare-rochester-4",properties:{name:"Automotive Procare",label:[{value:"Automotive Procare"}],category:[{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Transmission Repair",term:"transmissionrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/uK66d5fuAilMitq6EVfzPg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"457 16th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072825200"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4845586,44.0282555]}},{type:"Feature",_id:"fedex-office-print-and-ship-center-rochester-2",properties:{name:"FedEx Office Print & Ship Center",label:[{value:"FedEx Office Print & Ship Center"}],category:[{value:"Shipping Centers",term:"shipping_centers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Printing Services",term:"copyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Signmaking",term:"signmaking",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"440 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882233"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.469255,44.005334]}},{type:"Feature",_id:"old-rooster-antique-mall-rochester",properties:{name:"Old Rooster Antique Mall",label:[{value:"Old Rooster Antique Mall"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ROFgZ1HvJ8lAER8GPYm41w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"106 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072876228"},updated:1510719322394},geometry:{type:"Point",coordinates:[-92.4625701904297,44.0246925354004]}},{type:"Feature",_id:"apache-mall-rochester-2",properties:{name:"Apache Mall",label:[{value:"Apache Mall"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/e43YLI3WoN2D2cja8h9HVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Hwys 52 South & 14 East",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072807291"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4793178994446,44.0044876319473]}},{type:"Feature",_id:"ye-olde-butcher-shoppe-rochester",properties:{name:"Ye Olde Butcher Shoppe",label:[{value:"Ye Olde Butcher Shoppe"}],category:[{value:"Meat Shops",term:"meats",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/NivUDZVgDwFy3_ZpmxPR7g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"902 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072825908"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4759902954102,44.0305824279785]}},{type:"Feature",_id:"centerstone-plaza-hotel-soldier-field-rochester",properties:{name:"Centerstone Plaza Hotel Soldiers Field - Mayo Clinic Area",label:[{value:"Centerstone Plaza Hotel Soldiers Field - Mayo Clinic Area"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Jq-ozJiW27IeXtjrr5gLZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"401 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882677"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.468682,44.017651]}},{type:"Feature",_id:"arbys-rochester-14",properties:{name:"Arby's",label:[{value:"Arby's"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/HdSHchuryCNRN7-h2Ot3xw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1218 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072812729"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4750214,44.0063591]}},{type:"Feature",_id:"lasker-jewelers-rochester",properties:{name:"Lasker Jewelers",label:[{value:"Lasker Jewelers"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Watches",term:"watches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gold Buyers",term:"goldbuyers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/HaYojGMPRK56ekS0qRy-hg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 First St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885214"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4651404676684,44.022534966125]}},{type:"Feature",_id:"hampton-inn-hotel-rochester",properties:{name:"Hampton Inn Hotel",label:[{value:"Hampton Inn Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/NFfTRDstOOKs1gJ14Cgylg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1755 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072879050"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4640119200393,43.9963662639385]}},{type:"Feature",_id:"virgils-auto-clinic-and-towing-rochester-3",properties:{name:"Virgil's Auto Clinic & Towing",label:[{value:"Virgil's Auto Clinic & Towing"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Roadside Assistance",term:"roadsideassist",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1101 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883600"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4793511,44.0220101]}},{type:"Feature",_id:"mestads-bridal-and-formal-wear-rochester",properties:{name:"Mestad's Bridal & Formal Wear",label:[{value:"Mestad's Bridal & Formal Wear"}],category:[{value:"Bridal",term:"bridal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Formal Wear",term:"formalwear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1171 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072892444"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4797464907169,44.0291771292686]}},{type:"Feature",_id:"eriks-bike-board-ski-rochester",properties:{name:"ERIK'S Bike Board Ski",label:[{value:"ERIK'S Bike Board Ski"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bike Repair/Maintenance",term:"bike_repair_maintenance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Ski & Snowboard Shops",term:"skishops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1220 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072920024"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4802166,44.0007192]}},{type:"Feature",_id:"semva-art-gallery-rochester",properties:{name:"Semva Art Gallery",label:[{value:"Semva Art Gallery"}],category:[{value:"Art Galleries",term:"galleries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/3mip-eC4NkG7y2jduWlEtw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"320 S Broadway",city:"Rochester",state_code:"MN",zip:"14602"},phone:"5072814920"},updated:1510719322395},geometry:{type:"Point",coordinates:[-92.4626613,44.0197315]}},{type:"Feature",_id:"tejano-western-wear-rochester",properties:{name:"Tejano Western Wear",label:[{value:"Tejano Western Wear"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"815 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072801900"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4517212,44.0194588]}},{type:"Feature",_id:"schmitt-automotive-repair-rochester",properties:{name:"Schmitt Automotive Repair",label:[{value:"Schmitt Automotive Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KuexRXpTwrKzUe2h-sRkjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 Broadway N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882696"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.46257,44.02457]}},{type:"Feature",_id:"players-sports-grille-rochester",properties:{name:"Players Sports Grille",label:[{value:"Players Sports Grille"}],category:[{value:"Sports Bars",term:"sportsbars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"American (New)",term:"newamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/iBKtK1i8l4Px7yTzBDlQlQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"821 Civic Ctr Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074242908"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.474785,44.02866]}},{type:"Feature",_id:"asian-food-store-rochester",properties:{name:"Asian Food Store",label:[{value:"Asian Food Store"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1010 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075369097"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4780197143555,44.0308876037598]}},{type:"Feature",_id:"manchu-wok-rochester",properties:{name:"Manchu Wok",label:[{value:"Manchu Wok"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/fWbSZ8gVas1oVuKrSpiwZg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"210 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072521218"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4774954468012,44.0048447996378]}},{type:"Feature",_id:"rochester-cycling-rochester",properties:{name:"Rochester Cycling",label:[{value:"Rochester Cycling"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1211 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897410"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.480827331543,44.031982421875]}},{type:"Feature",_id:"mcdonalds-rochester-35",properties:{name:"McDonald's",label:[{value:"McDonald's"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/_eyVIFPl5L9oxawpdYARJw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1116 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072884454"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4624863,44.0346909]}},{type:"Feature",_id:"quality-inn-and-suites-rochester",properties:{name:"Quality Inn & Suites",label:[{value:"Quality Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1620 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072828091"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.46134,43.999328]}},{type:"Feature",_id:"bobs-smoke-stack-ribs-down-rochester",properties:{name:"Bob's Smoke Stack Ribs Down",label:[{value:"Bob's Smoke Stack Ribs Down"}],category:[{value:"Barbeque",term:"bbq",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/zce0mGnJUr5w-mzy_RXjdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075295699"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.462227,44.019657]}},{type:"Feature",_id:"mcdonalds-rochester",properties:{name:"McDonald's",label:[{value:"McDonald's"}],category:[{value:"Burgers",term:"burgers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xkJ1HtmOmRcLlYOdn2FhaA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1306 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072881163"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4749755859375,44.0050621032715]}},{type:"Feature",_id:"rochester-civic-theatre-rochester-2",properties:{name:"Rochester Civic Theatre",label:[{value:"Rochester Civic Theatre"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wI9vQc3ddulD0njl8wegLA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072828481"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4601036,44.022731]}},{type:"Feature",_id:"holiday-inn-rochester-downtown-rochester-2",properties:{name:"Holiday Inn Rochester Downtown",label:[{value:"Holiday Inn Rochester Downtown"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/7In3jFcEONJxP3x-NbHyFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528200"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.462577,44.020866]}},{type:"Feature",_id:"bicycle-sports-inc-rochester",properties:{name:"Bicycle Sports Inc",label:[{value:"Bicycle Sports Inc"}],category:[{value:"Bikes",term:"bikes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/3Dw_uvJ2zXavAQf27djkTQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1400 5th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075364619"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4824829101562,44.0282325744629]}},{type:"Feature",_id:"the-machine-shed-rochester",properties:{name:"The Machine Shed",label:[{value:"The Machine Shed"}],category:[{value:"Arcades",term:"arcades",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"11 2nd St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072026761"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4627133,44.0254049]}},{type:"Feature",_id:"rochester-civic-music-riverside-concerts-rochester",properties:{name:"Rochester Civic Music-Riverside Concerts",label:[{value:"Rochester Civic Music-Riverside Concerts"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"201 4th St SE, Ste 170",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072858076"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4594039916992,44.0201072692871]}},{type:"Feature",_id:"joy-body-and-foot-massage-rochester",properties:{name:"Joy Body & Foot Massage",label:[{value:"Joy Body & Foot Massage"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reflexology",term:"reflexology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/jpKNyBSyRQw8Ss8nb8iafA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"204 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073192227"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4594740412143,44.0192750353239]}},{type:"Feature",_id:"pearl-house-rochester",properties:{name:"Pearl House",label:[{value:"Pearl House"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/J2nFVxnEeBzttbmFohYdQg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 Civic Ctr Dr",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072823662"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.4795761,44.0283966]}},{type:"Feature",_id:"the-compadres-rochester",properties:{name:"The compadres",label:[{value:"The compadres"}],category:[{value:"Mexican",term:"mexican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073581901"},updated:1510719323253},geometry:{type:"Point",coordinates:[-92.463444,44.03345]}},{type:"Feature",_id:"hannys-rochester-2",properties:{name:"Hanny's",label:[{value:"Hanny's"}],category:[{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/OdJDslg41Gs8Y6xJHi1roQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste S23",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894077"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"the-nordic-shop-rochester",properties:{name:"The Nordic Shop",label:[{value:"The Nordic Shop"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ZrWUak3es85JUTWt9AYmHw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 202",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8002826673"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634851,44.0224002]}},{type:"Feature",_id:"artistic-framers-rochester-2",properties:{name:"Artistic Framers",label:[{value:"Artistic Framers"}],category:[{value:"Art Galleries",term:"galleries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072814890"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4638777,44.0202775]}},{type:"Feature",_id:"scrub-your-butt-soap-rochester",properties:{name:"Scrub Your Butt Soap",label:[{value:"Scrub Your Butt Soap"}],category:[{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1VYwqxh9WrFX8HHL0UWFkQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072599019"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.46491,44.0222399]}},{type:"Feature",_id:"tessas-office-wine-boutique-rochester",properties:{name:"Tessa's Office Wine Boutique",label:[{value:"Tessa's Office Wine Boutique"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/HI2hvPZWuLNZUn8qaXkdhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072267763"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4633807817976,44.0203412899326]}},{type:"Feature",_id:"eye-q-intelligent-eyewear-rochester",properties:{name:"Eye-Q Intelligent Eyewear",label:[{value:"Eye-Q Intelligent Eyewear"}],category:[{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 Second Ave SW, Ste 77",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882311"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4654922,44.0229607]}},{type:"Feature",_id:"adam-howell-coldwell-banker-burnet-rochester-2",properties:{name:"Adam Howell  - Coldwell Banker Burnet",label:[{value:"Adam Howell  - Coldwell Banker Burnet"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/opKxj8PHL0XBGSCOgIXSWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"140 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072526785"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.464321,44.042018]}},{type:"Feature",_id:"goodyear-auto-service-center-rochester-11",properties:{name:"Goodyear Auto Service Center",label:[{value:"Goodyear Auto Service Center"}],category:[{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"12 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072882485"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4626272916794,44.0238101422704]}},{type:"Feature",_id:"yoga-tribe-rochester",properties:{name:"Yoga Tribe",label:[{value:"Yoga Tribe"}],category:[{value:"Yoga",term:"yoga",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4mZYaPXdEXqKhZjWeVdT8w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"328 S Broadway Ave",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072511596"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.462692,44.019542]}},{type:"Feature",_id:"welhaven-music-company-rochester",properties:{name:"Welhaven Music Company",label:[{value:"Welhaven Music Company"}],category:[{value:"Musical Instruments & Teachers",term:"musicalinstrumentsandteachers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Bhwi-zp5TuQJ03CCICQ_6w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"15 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072820287"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634857177734,44.0240325927734]}},{type:"Feature",_id:"struves-paint-and-decorating-rochester",properties:{name:"Struve's Paint And Decorating",label:[{value:"Struve's Paint And Decorating"}],category:[{value:"Shades & Blinds",term:"blinds",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Paint Stores",term:"paintstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pressure Washers",term:"pressurewashers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"501 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072822660"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634131,44.028285]}},{type:"Feature",_id:"essential-cold-pressed-juice-rochester",properties:{name:"Essential Cold-Pressed Juice",label:[{value:"Essential Cold-Pressed Juice"}],category:[{value:"Juice Bars & Smoothies",term:"juicebars",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/aAKC9snjEpgKk5GK2FePoQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 First Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.464058,44.022273]}},{type:"Feature",_id:"ell-boutiques-rochester",properties:{name:"Ell Boutiques",label:[{value:"Ell Boutiques"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/hfzZk377lo2LsvzXILeHqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585258"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4634797,44.0202851]}},{type:"Feature",_id:"avis-rent-a-car-rochester-3",properties:{name:"Avis Rent A Car",label:[{value:"Avis Rent A Car"}],category:[{value:"Car Rental",term:"carrental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/9UbhdPoyuyew4ih4c-bbww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885222"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"skinlab-piercing-and-tattoo-rochester",properties:{name:"SkinLab Piercing & Tattoo",label:[{value:"SkinLab Piercing & Tattoo"}],category:[{value:"Piercing",term:"piercing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tattoo",term:"tattoo",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/KnzafbZE1sBl4YmG8G4Alg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072084465"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4802703857422,44.0318908691406]}},{type:"Feature",_id:"torrid-rochester-2",properties:{name:"Torrid",label:[{value:"Torrid"}],category:[{value:"Plus Size Fashion",term:"plus_size_fashion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/aX5IBLJbjJVewNvUxFylKw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"US Hwy 52 And US Hwy 14 E, Sp 416",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072817928"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4591522216797,44.0193481445312]}},{type:"Feature",_id:"rochester-towing-rochester-3",properties:{name:"Rochester Towing",label:[{value:"Rochester Towing"}],category:[{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/_oxxZ7NKyBHB6ozu--KG5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072887317"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.465953,44.02157]}},{type:"Feature",_id:"kfc-rochester-20",properties:{name:"KFC",label:[{value:"KFC"}],category:[{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Chicken Wings",term:"chicken_wings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/1vVgVvdR--J6BlM7sd7Saw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"717 12th Street, South East",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072886200"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4535,44.00683]}},{type:"Feature",_id:"absolute-theatre-rochester",properties:{name:"Absolute Theatre",label:[{value:"Absolute Theatre"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/hfzZk377lo2LsvzXILeHqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"730 2nd St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072829000"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.47378,44.02509]}},{type:"Feature",_id:"thursdays-on-first-and-3rd-rochester",properties:{name:"Thursdays on First & 3rd",label:[{value:"Thursdays on First & 3rd"}],category:[{value:"Festivals",term:"festivals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/SAi3pALCIz-KD_mYmuDAIw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1ST Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072169882"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4645256251097,44.021566121062]}},{type:"Feature",_id:"ronald-mcdonald-house-rochester-2",properties:{name:"Ronald McDonald House",label:[{value:"Ronald McDonald House"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"850 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823955"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.4756164550781,44.0212860107422]}},{type:"Feature",_id:"woodys-liquor-rochester",properties:{name:"Woody's Liquor",label:[{value:"Woody's Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/l_2C5OmpVOXnzUQAPPmUsw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"316 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072822426"},updated:1510719323254},geometry:{type:"Point",coordinates:[-92.46835,44.04372]}},{type:"Feature",_id:"imperial-wok-rochester",properties:{name:"Imperial Wok",label:[{value:"Imperial Wok"}],category:[{value:"Chinese",term:"chinese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/mceolrP3bAmvlkriWBy60A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"90 14th St, Ste 700",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072084288"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4654487,44.0027801]}},{type:"Feature",_id:"radioshack-rochester-3",properties:{name:"RadioShack",label:[{value:"RadioShack"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/YE_saTJKNtj1rGmv8N8yUA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"638 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072888868"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4818497,44.0047951]}},{type:"Feature",_id:"christ-united-methodist-church-rochester",properties:{name:"Christ United Methodist Church",label:[{value:"Christ United Methodist Church"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"400 5th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894019"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4695892,44.0188103]}},{type:"Feature",_id:"canadian-honker-hospitality-services-rochester",properties:{name:"Canadian Honker Hospitality Services",label:[{value:"Canadian Honker Hospitality Services"}],category:[{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072888682"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4593811,44.02248]}},{type:"Feature",_id:"calvary-episcopal-church-rochester",properties:{name:"Calvary Episcopal Church",label:[{value:"Calvary Episcopal Church"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/xyqDpAIlb6gHK0lglIm73A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3 Avenue & SW 2 St",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072829429"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4658557239933,44.0204136023616]}},{type:"Feature",_id:"rossi-auto-body-rochester",properties:{name:"Rossi Auto Body",label:[{value:"Rossi Auto Body"}],category:[{value:"Body Shops",term:"bodyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"524 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806737"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.455336,44.019056]}},{type:"Feature",_id:"lovett-chiropractic-rochester",properties:{name:"Lovett Chiropractic",label:[{value:"Lovett Chiropractic"}],category:[{value:"Chiropractors",term:"chiropractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/jLbie4cbC2Nowvs0JSz32g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 3rd Ave SE, Ste 206",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072525448"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4584350585938,44.0202789306641]}},{type:"Feature",_id:"eagles-club-rochester-2",properties:{name:"Eagles Club",label:[{value:"Eagles Club"}],category:[{value:"Wedding Planning",term:"wedding_planning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party & Event Planning",term:"eventplanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Caterers",term:"catering",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W7jievfSHX_21V022U7kRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"917 15th Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072899532"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4458299577236,44.0119579148641]}},{type:"Feature",_id:"recon-sign-and-graphics-rochester",properties:{name:"Recon Sign and Graphics",label:[{value:"Recon Sign and Graphics"}],category:[{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Advertising",term:"advertising",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"526 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073982898"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4625930786133,44.0289764404297]}},{type:"Feature",_id:"unraveled-escape-room-rochester",properties:{name:"UNRAVELED Escape Room",label:[{value:"UNRAVELED Escape Room"}],category:[{value:"Escape Games",term:"escapegames",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Team Building Activities",term:"teambuilding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Qbnn_ZU1mjQiZUgb93xzeA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074000386"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4787851,44.0263833]}},{type:"Feature",_id:"wash-me-car-wash-rochester-2",properties:{name:"Wash Me Car Wash",label:[{value:"Wash Me Car Wash"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/XLDqbSsCre7IKtWRNDeAcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1727 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5073616037"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.46456,43.99715]}},{type:"Feature",_id:"gift-of-life-transplant-house-rochester",properties:{name:"Gift of Life Transplant House",label:[{value:"Gift of Life Transplant House"}],category:[{value:"Flowers & Gifts",term:"flowers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"705 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072887470"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4729232788086,44.0220909118652]}},{type:"Feature",_id:"firestone-complete-auto-care-rochester-4",properties:{name:"Firestone Complete Auto Care",label:[{value:"Firestone Complete Auto Care"}],category:[{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/NyrFef6JnPJfSUOT_8ZTMA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"8778903037"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.4779700889418,44.0068754017083]}},{type:"Feature",_id:"minnesota-childrens-museum-rochester-rochester",properties:{name:"Minnesota Children's Museum Rochester",label:[{value:"Minnesota Children's Museum Rochester"}],category:[{value:"Children's Museums",term:"childrensmuseums",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0l4b5t3AzN-9i7HRatCmWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1643 N Broadway St, Ste A",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072183100"},updated:1510719323952},geometry:{type:"Point",coordinates:[-92.462736,44.040252]}},{type:"Feature",_id:"mayo-civic-center-presentation-hall-rochester",properties:{name:"Mayo Civic Center Presentation Hall",label:[{value:"Mayo Civic Center Presentation Hall"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/HiuTU4JiG6N5zolUvn_5hw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072521010"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4593811,44.02248]}},{type:"Feature",_id:"rochester-oriental-food-and-jewelry-rochester",properties:{name:"Rochester Oriental Food and Jewelry",label:[{value:"Rochester Oriental Food and Jewelry"}],category:[{value:"Shopping",term:"shopping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ebZYsx58dY4WcPTVOI1_Iw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"605 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072808434"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4710949,44.0297356]}},{type:"Feature",_id:"salon-chic-and-day-spa-rochester",properties:{name:"Salon Chic & Day Spa",label:[{value:"Salon Chic & Day Spa"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Waxing",term:"waxing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Spray Tanning",term:"spraytanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/z-f97uac3QPseesVnXlwcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072851888"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4617355,44.0400715]}},{type:"Feature",_id:"majestic-tents-and-events-rochester",properties:{name:"Majestic Tents and Events",label:[{value:"Majestic Tents and Events"}],category:[{value:"Party Supplies",term:"partysupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"522 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5078761127"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4703604,44.0287562]}},{type:"Feature",_id:"jcpenney-rochester-3",properties:{name:"JCPenney",label:[{value:"JCPenney"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/AcwH-jdwY5EBeynGU-mKAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072888383"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4776486122342,44.0045024795308]}},{type:"Feature",_id:"sue-madden-state-farm-insurance-agent-rochester",properties:{name:"Sue Madden - State Farm Insurance Agent",label:[{value:"Sue Madden - State Farm Insurance Agent"}],category:[{value:"Insurance",term:"insurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"914 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072810100"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.46276,44.03279]}},{type:"Feature",_id:"the-power-movers-of-mn-rochester",properties:{name:"The Power Movers of MN",label:[{value:"The Power Movers of MN"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"907 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073584327"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.46857,44.03257]}},{type:"Feature",_id:"magic-1-nails-rochester",properties:{name:"Magic 1 Nails",label:[{value:"Magic 1 Nails"}],category:[{value:"Tanning",term:"tanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/yZW6wKkXGIZLpBMJ2fxcPg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1119 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075290708"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4799777,44.0284233]}},{type:"Feature",_id:"mayo-clinic-hospital-rochester",properties:{name:"Mayo Clinic Hospital",label:[{value:"Mayo Clinic Hospital"}],category:[{value:"Hospitals",term:"hospitals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/4uR_9pnV5yROqywy6Hwzrw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072555123"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"refashion-consigned-furniture-and-clothing-rochester",properties:{name:"Refashion Consigned Furniture and Clothing",label:[{value:"Refashion Consigned Furniture and Clothing"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/oI0WXK-E1d6jvQhcU-zZhA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"321 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810808"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.463493347168,44.0196952819824]}},{type:"Feature",_id:"nickelson-painting-rochester",properties:{name:"Nickelson Painting",label:[{value:"Nickelson Painting"}],category:[{value:"Painters",term:"painters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/URKL4KlvRbE8X3DIrTzAOg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1204 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072800202"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4625778198242,44.0351524353027]}},{type:"Feature",_id:"kwik-trip-433-rochester",properties:{name:"Kwik Trip #433",label:[{value:"Kwik Trip #433"}],category:[{value:"Convenience Stores",term:"convenience",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"560 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072926981"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4789505451918,44.0287734568119]}},{type:"Feature",_id:"waynes-fine-jewelry-rochester",properties:{name:"Wayne's Fine Jewelry",label:[{value:"Wayne's Fine Jewelry"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Jewelry Repair",term:"jewelryrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Watch Repair",term:"watch_repair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/7xxJDiDgrke0XvLiM83eJA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1134 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072876894"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.480911,44.031058]}},{type:"Feature",_id:"fifth-place-awards-rochester",properties:{name:"Fifth Place Awards",label:[{value:"Fifth Place Awards"}],category:[{value:"Trophy Shops",term:"trophyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/VU4-yIN0BL7GQjvflNCmWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"27 10th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072823125"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4643630981445,44.0334434509277]}},{type:"Feature",_id:"st-marys-barbers-rochester",properties:{name:"St Mary's Barbers",label:[{value:"St Mary's Barbers"}],category:[{value:"Barbers",term:"barbers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/tW0uPY3IJDnBcoz1ey48vQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823200"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"ronningen-roofing-rochester",properties:{name:"Ronningen Roofing",label:[{value:"Ronningen Roofing"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gutter Services",term:"gutterservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PC_KtAp2xcVpY55IRoE_QA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"608 11th Ave NW, Ste 200 and 300",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072818899"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4790352,44.0297767]}},{type:"Feature",_id:"andersons-wheelchairs-rochester",properties:{name:"Anderson's Wheelchairs",label:[{value:"Anderson's Wheelchairs"}],category:[{value:"Mobility Equipment Sales & Services",term:"mobilityequipment",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/q_WTgIK4-IJiRQvfkPQhVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072880113"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4796371459961,44.0219535827637]}},{type:"Feature",_id:"pharmaceutical-specialties-rochester-2",properties:{name:"Pharmaceutical Specialties",label:[{value:"Pharmaceutical Specialties"}],category:[{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ukv4Q9Y6Yt4JDXBgtsKBYQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"8003258232"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"super-8-rochester-fairgrounds-area-rochester",properties:{name:"Super 8 Rochester/Fairgrounds Area",label:[{value:"Super 8 Rochester/Fairgrounds Area"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/3BwxXsV53q2vXfHsKHl_Iw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1230 S Broadway, Hwy 63 and 14, 10 mi N of I-90",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8005369326"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.46158,44.00531]}},{type:"Feature",_id:"o-k-barbershop-rochester",properties:{name:"O K Barbershop",label:[{value:"O K Barbershop"}],category:[{value:"Barbers",term:"barbers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/arb-WKayuoYA97Rsrm4gFw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"810 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072899840"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4801989,44.0121221]}},{type:"Feature",_id:"le-petit-caf\xe9-rochester",properties:{name:"Le Petit Caf\xe9",label:[{value:"Le Petit Caf\xe9"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/yhpkHySDduPgJbqmW5Yjtw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"35 Fairgrounds Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"6513807224"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4604906935333,44.0033579855974]}},{type:"Feature",_id:"think-mutual-bank-rochester",properties:{name:"Think Mutual Bank",label:[{value:"Think Mutual Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883425"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"walgreens-rochester-8",properties:{name:"Walgreens",label:[{value:"Walgreens"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Convenience Stores",term:"convenience",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1112 Civic Center Dr Nw",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072065173"},updated:1510719323953},geometry:{type:"Point",coordinates:[-92.4792502820492,44.0281149744987]}},{type:"Feature",_id:"savers-rochester",properties:{name:"Savers",label:[{value:"Savers"}],category:[{value:"Thrift Stores",term:"thrift_stores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/DVmToO9y4fC8fCgZoK7ZAg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste B",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075362564"},updated:1510719323954},geometry:{type:"Point",coordinates:[-92.4645233154297,44.0048713684082]}},{type:"Feature",_id:"jason-elsmore-plumbing-rochester-5",properties:{name:"Elsmore Plumbing",label:[{value:"Elsmore Plumbing"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Appliances & Repair",term:"homeappliancerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Heater Installation/Repair",term:"waterheaterinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ERkSJkLPxiceit7pqouTTQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1984 68th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072548680"},updated:1510719323954},geometry:{type:"Point",coordinates:[-92.4806231352295,44.0109309297886]}},{type:"Feature",_id:"american-legion-post-92-rochester",properties:{name:"American Legion Post 92",label:[{value:"American Legion Post 92"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Social Clubs",term:"social_clubs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/B7PlBqwHI40Yk36unE-mHg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"315 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072821322"},updated:1510719323954},geometry:{type:"Point",coordinates:[-92.4651947021484,44.0267944335938]}},{type:"Feature",_id:"cold-stone-creamery-rochester-5",properties:{name:"Cold Stone Creamery",label:[{value:"Cold Stone Creamery"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Aox-lgKLdQxulOyN1SdiFw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1050 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074242990"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4777249,44.002886]}},{type:"Feature",_id:"hy-vee-rochester-2",properties:{name:"Hy-Vee",label:[{value:"Hy-Vee"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rFMhsHM0BUIOWa7s3VfzVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"500 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072897500"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.47026,44.00513]}},{type:"Feature",_id:"psimos-nicholas-h-dds-rochester",properties:{name:"Psimos Nicholas H DDS",label:[{value:"Psimos Nicholas H DDS"}],category:[{value:"Oral Surgeons",term:"oralsurgeons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1101 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072880126"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4634323,44.0342407]}},{type:"Feature",_id:"minuteman-press-rochester-rochester-3",properties:{name:"Minuteman Press - Rochester",label:[{value:"Minuteman Press - Rochester"}],category:[{value:"Printing Services",term:"copyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1316 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072884777"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.48222,44.03152]}},{type:"Feature",_id:"wild-goose-sports-rochester",properties:{name:"Wild Goose Sports",label:[{value:"Wild Goose Sports"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1117 Broadway Ave N, Ste 1",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072892520"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4634323,44.034729]}},{type:"Feature",_id:"everything-hobby-rochester-2",properties:{name:"Everything Hobby",label:[{value:"Everything Hobby"}],category:[{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Toy Stores",term:"toys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1310 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074050370"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4818828701973,44.0317896008492]}},{type:"Feature",_id:"lakeside-dentistry-rochester-4",properties:{name:"Lakeside Dentistry",label:[{value:"Lakeside Dentistry"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Endodontists",term:"endodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"24 W Silver Lake Dr NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072828222"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4626923,44.0356596]}},{type:"Feature",_id:"automotive-md-rochester",properties:{name:"Automotive MD",label:[{value:"Automotive MD"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/qGwYGHHOS4kq68Uc1wcv-A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1829 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072898992"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4588928,43.9949493]}},{type:"Feature",_id:"calvary-chapel-rochester-rochester",properties:{name:"Calvary Chapel Rochester",label:[{value:"Calvary Chapel Rochester"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ip3P0Bo1dOujUsVOR3PpiQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"814 11th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072870023"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4484267,44.0319393]}},{type:"Feature",_id:"andys-liquor-rochester",properties:{name:"Andy's Liquor",label:[{value:"Andy's Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072890777"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.464188,44.005148]}},{type:"Feature",_id:"sarku-japan-rochester-2",properties:{name:"Sarku Japan",label:[{value:"Sarku Japan"}],category:[{value:"Japanese",term:"japanese",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/GEQkhPxaM7oCZtKfcA8fBA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075369412"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4818754941225,44.0033991522736]}},{type:"Feature",_id:"days-inn-rochester-downtown-rochester",properties:{name:"Days Inn Rochester Downtown",label:[{value:"Days Inn Rochester Downtown"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1c8vMLzUuCbd1cOkXEk9Hw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1st Avenue Northwest",city:"Rochester",state_code:"MN",zip:"55901"},phone:"8003291073"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4644666081938,44.0234282230112]}},{type:"Feature",_id:"edge-fitness-rochester-3",properties:{name:"Edge Fitness",label:[{value:"Edge Fitness"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Trainers",term:"healthtrainers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"Crossroads Ctr, 1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072586475"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4641037,44.0048485]}},{type:"Feature",_id:"tangles-hair-extensions-and-more-rochester",properties:{name:"Tangles Hair Extensions and More",label:[{value:"Tangles Hair Extensions and More"}],category:[{value:"Hair Extensions",term:"hair_extensions",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/8r35-66ilwO4_dCuR3OPWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 24, Studio 1",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5079238614"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.466432899833,44.0046678702699]}},{type:"Feature",_id:"fish-and-pets-rochester",properties:{name:"Fish & Pets",label:[{value:"Fish & Pets"}],category:[{value:"Pet Stores",term:"petstore",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/bfJlU5QHT2j6ODgkEHgBUw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072814661"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4662366705234,44.0052837352205]}},{type:"Feature",_id:"pier-1-rochester",properties:{name:"Pier 1",label:[{value:"Pier 1"}],category:[{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/-c4W5Fwe51OBej7bP0X8tA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072896006"},updated:1510719325237},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"weber-and-judd-rochester",properties:{name:"Weber & Judd",label:[{value:"Weber & Judd"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/TSoWxYXW4jALmL_Kn3VKKQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890716"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"shops-at-university-square-rochester",properties:{name:"Shops At University Square",label:[{value:"Shops At University Square"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 Broadway Ave S",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072811364"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46348,44.02239]}},{type:"Feature",_id:"southern-touch-rochester",properties:{name:"Southern Touch",label:[{value:"Southern Touch"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ErSAkdKgDHVv2ebxl2Sq9w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1315 2nd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072693685"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46584,44.03654]}},{type:"Feature",_id:"sola-salon-studios-rochester",properties:{name:"Sola Salon Studios",label:[{value:"Sola Salon Studios"}],category:[{value:"Nail Technicians",term:"nailtechnicians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 24",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072733318"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4664100066229,44.004559301223]}},{type:"Feature",_id:"subway-rochester-14",properties:{name:"Subway",label:[{value:"Subway"}],category:[{value:"Sandwiches",term:"sandwiches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fast Food",term:"hotdogs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/LIwJKVReAzk7UNWj8XnJHg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"205 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072929449"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4805196297209,44.0041373170632]}},{type:"Feature",_id:"rochester-feed-and-country-store-rochester-2",properties:{name:"Rochester Feed And Country Store",label:[{value:"Rochester Feed And Country Store"}],category:[{value:"Pet Stores",term:"petstore",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pet Groomers",term:"groomer",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1ffW9FxTmOJ7Zl-KOtqkRA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5 11 1/2 St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072855547"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4576445075576,44.0003485467589]}},{type:"Feature",_id:"cinnabon-rochester",properties:{name:"Cinnabon",label:[{value:"Cinnabon"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/c_CDSuh22EJYXIA4L1SfZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072811233"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.464917,44.022289]}},{type:"Feature",_id:"peace-plaza-rochester",properties:{name:"Peace Plaza",label:[{value:"Peace Plaza"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/W82_iAZGtX_eOwgLXyIvXQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074245677"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4649939002336,44.0225184963339]}},{type:"Feature",_id:"carrolls-cup-rochester",properties:{name:"Carroll's Cup",label:[{value:"Carroll's Cup"}],category:[{value:"Ice Cream & Frozen Yogurt",term:"icecream",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882470"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"rc-nails-rochester",properties:{name:"Rc Nails",label:[{value:"Rc Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/b0kdU4VOBDEF23KHhf7uRg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1613 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072829666"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.46353,44.03987]}},{type:"Feature",_id:"post-bulletin-company-rochester",properties:{name:"Post-Bulletin Company",label:[{value:"Post-Bulletin Company"}],category:[{value:"Print Media",term:"printmedia",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"massmedia",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072857600"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4608383,44.0229988]}},{type:"Feature",_id:"field-house-rochester",properties:{name:"Field House",label:[{value:"Field House"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074245880"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4649429321289,43.9985466003418]}},{type:"Feature",_id:"toys-r-us-rochester",properties:{name:"Toys R Us",label:[{value:"Toys R Us"}],category:[{value:"Toy Stores",term:"toys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/z-f97uac3QPseesVnXlwcQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"808 Apache Lane",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072869291"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4731597900391,44.0060195922852]}},{type:"Feature",_id:"caribou-coffee-rochester-6",properties:{name:"Caribou Coffee",label:[{value:"Caribou Coffee"}],category:[{value:"Coffee & Tea",term:"coffee",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/eKyUptH0TmmKj1ZGrZRnNQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4788971,44.0068054]}},{type:"Feature",_id:"essence-skin-clinic-permanent-cosmetics-rochester",properties:{name:"Essence Skin Clinic Permanent Cosmetics",label:[{value:"Essence Skin Clinic Permanent Cosmetics"}],category:[{value:"Hair Removal",term:"hairremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Dermatologists",term:"dermatology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/jWNov1Tg2wcRxqq36fjfkg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"25 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855505"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4635229,44.0216897]}},{type:"Feature",_id:"knights-chamber-rochester-2",properties:{name:"Knights Chamber",label:[{value:"Knights Chamber"}],category:[{value:"Fashion",term:"fashion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072850517"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"minnesota-auto-license-bureau-rochester-2",properties:{name:"Minnesota Auto License Bureau",label:[{value:"Minnesota Auto License Bureau"}],category:[{value:"Notaries",term:"notaries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/rJMFqOV6_9StUxkEUnFLZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072824711"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"mayo-civic-center-arena-rochester",properties:{name:"Mayo Civic Center Arena",label:[{value:"Mayo Civic Center Arena"}],category:[{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/pkntKlHssgGG1r9EmJBc8g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"30 Civic Ctr Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8006538000"},updated:1510719325238},geometry:{type:"Point",coordinates:[-92.4593811,44.02248]}},{type:"Feature",_id:"charleys-philly-steak-rochester",properties:{name:"Charleys Philly Steak",label:[{value:"Charleys Philly Steak"}],category:[{value:"American (Traditional)",term:"tradamerican",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072816381"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.4780121,44.0059547]}},{type:"Feature",_id:"the-salvation-army-rochester-2",properties:{name:"The Salvation Army",label:[{value:"The Salvation Army"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/YE_saTJKNtj1rGmv8N8yUA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"118 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072920967"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.462914288044,44.0246710181236]}},{type:"Feature",_id:"once-upon-a-child-rochester",properties:{name:"Once Upon A Child",label:[{value:"Once Upon A Child"}],category:[{value:"Children's Clothing",term:"childcloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xw7c6jL1Pit39GLfvu2R5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1115 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072525090"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.47991,44.0287099]}},{type:"Feature",_id:"go-rochester-direct-rochester-2",properties:{name:"GO Rochester Direct",label:[{value:"GO Rochester Direct"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ql84oCC9YLEzs2KjEYhCjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"8002809270"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.46441,44.02277]}},{type:"Feature",_id:"zales-jewelers-rochester",properties:{name:"Zales Jewelers",label:[{value:"Zales Jewelers"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/5ibEE4yUJnM3rDvtZbiThA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"240 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855320"},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.4779663,44.0050812]}},{type:"Feature",_id:"jubilee-bubble-tea-rochester",properties:{name:"Jubilee Bubble Tea",label:[{value:"Jubilee Bubble Tea"}],category:[{value:"Bubble Tea",term:"bubbletea",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/OYDc89EY2QdQHdNN37htIw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:null},phone:null},updated:1510719325239},geometry:{type:"Point",coordinates:[-92.46295,44.0234]}},{type:"Feature",_id:"rochester-area-chamber-of-commerce-rochester",properties:{name:"Rochester Area Chamber of Commerce",label:[{value:"Rochester Area Chamber of Commerce"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway, Ste 100",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072881122"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.462577,44.020866]}},{type:"Feature",_id:"northgate-health-club-rochester-2",properties:{name:"Northgate Health Club",label:[{value:"Northgate Health Club"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Trainers",term:"healthtrainers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PM7hO-j8yxfue2BGNXCSGg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1112 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072824445"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.479659,44.030881]}},{type:"Feature",_id:"kismet-rochester-4",properties:{name:"Kismet",label:[{value:"Kismet"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/zHKoYALOiQKMqjMVDWfgwQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"601 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5074242636"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4631233,44.0295473]}},{type:"Feature",_id:"sport-clips-rochester-4",properties:{name:"Sport Clips",label:[{value:"Sport Clips"}],category:[{value:"Men's Hair Salons",term:"menshair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"414 Crossroads Dr",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072813798"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4685931950808,44.0061952918768]}},{type:"Feature",_id:"villa-italian-kitchen-rochester",properties:{name:"Villa Italian Kitchen",label:[{value:"Villa Italian Kitchen"}],category:[{value:"Italian",term:"italian",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"restaurants",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/B2EpI7FiAnzLUx-GPoQ_vA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823086"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4782263487577,44.0071052312851]}},{type:"Feature",_id:"pipsqueaks-rochester",properties:{name:"pipsqueaks",label:[{value:"pipsqueaks"}],category:[{value:"Playgrounds",term:"playgrounds",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0l4b5t3AzN-9i7HRatCmWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"903 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.477053,44.023988]}},{type:"Feature",_id:"tonna-mechanical-rochester",properties:{name:"Tonna Mechanical",label:[{value:"Tonna Mechanical"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/i0qS6-fjh9zLHd7fYEiGLQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2411 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072881908"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4598378,44.0434966]}},{type:"Feature",_id:"residences-of-old-town-hall-rochester",properties:{name:"Residences of Old Town Hall",label:[{value:"Residences of Old Town Hall"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ouSSLeZ2C0K8iVEy-XmCnQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"607 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072814668"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4546432495117,44.0244903564453]}},{type:"Feature",_id:"boston-shoe-and-boot-repair-rochester",properties:{name:"Boston Shoe & Boot Repair",label:[{value:"Boston Shoe & Boot Repair"}],category:[{value:"Shoe Repair",term:"shoerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/HaCc7qnbzTpPI5Gq9_7KmA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"335 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826527"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.480159,44.004702]}},{type:"Feature",_id:"advance-auto-parts-rochester-13",properties:{name:"Advance Auto Parts",label:[{value:"Advance Auto Parts"}],category:[{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/z_WsYWbEQXnLfwFh0mPf5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1764 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072819170"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.462357737204,43.9962570447519]}},{type:"Feature",_id:"kismet-central-rochester",properties:{name:"Kismet Central",label:[{value:"Kismet Central"}],category:[{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"607 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5074242636"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4632249,44.0297298]}},{type:"Feature",_id:"olmsted-county-fairgrounds-rochester",properties:{name:"Olmsted County Fairgrounds",label:[{value:"Olmsted County Fairgrounds"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072829862"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.46441,44.02277]}},{type:"Feature",_id:"brow-art-23-rochester",properties:{name:"Brow Art 23",label:[{value:"Brow Art 23"}],category:[{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Removal",term:"hairremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyelash Service",term:"eyelashservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/JzlHVPVr0qtHciuQhm6yig/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 12th St, Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072893006"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4782263487577,44.0071052312851]}},{type:"Feature",_id:"soldiers-memorial-field-golf-course-rochester",properties:{name:"Soldiers Memorial Field Golf Course",label:[{value:"Soldiers Memorial Field Golf Course"}],category:[{value:"Golf",term:"golf",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/9S7nF6dFdQ1aiA6nbrlgbw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"244 Soldiers Field Dr SE",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072816176"},updated:1510719326067},geometry:{type:"Point",coordinates:[-92.4660186767578,44.0108528137207]}},{type:"Feature",_id:"french-touch-photography-rochester-3",properties:{name:"French Touch Photography",label:[{value:"French Touch Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xfcnGMBwQlsioaFKR3yfog/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1262 17th Av NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072714248"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4874900281429,44.0352456271648]}},{type:"Feature",_id:"natures-best-cleaners-rochester-5",properties:{name:"Nature's Best Cleaners",label:[{value:"Nature's Best Cleaners"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/5hfgpyJfOWulVxWmBXaa0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1430 5th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072815765"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.48298,44.02817]}},{type:"Feature",_id:"ohly-law-office-rochester",properties:{name:"Ohly Law Office",label:[{value:"Ohly Law Office"}],category:[{value:"Lawyers",term:"lawyers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1850 North Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072894529"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4594727,44.0425415]}},{type:"Feature",_id:"shoot-n-save-sports-rochester",properties:{name:"Shoot-N-Save Sports",label:[{value:"Shoot-N-Save Sports"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"106 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072859593"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4655914306641,43.9997100830078]}},{type:"Feature",_id:"bcs-computer-support-rochester",properties:{name:"BCS Computer Support",label:[{value:"BCS Computer Support"}],category:[{value:"IT Services & Computer Repair",term:"itservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Computers",term:"computers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2330 6th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072260123"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4540349,44.0423719]}},{type:"Feature",_id:"uc-nails-rochester",properties:{name:"UC Nails",label:[{value:"UC Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/H1zT_Cn1AdjjK0pDeQuQjQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW, Ste 400",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890646"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4793750047684,44.0006766468287]}},{type:"Feature",_id:"green-planet-disposal-rochester",properties:{name:"Green Planet Disposal",label:[{value:"Green Planet Disposal"}],category:[{value:"Recycling Center",term:"recyclingcenter",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/WUS_sokwjmxK8qkqgC-JSQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072814285"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.46441,44.02277]}},{type:"Feature",_id:"home-federal-rochester",properties:{name:"Home Federal",label:[{value:"Home Federal"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/IYuBt7AI3V1WAGYNbzEZNQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1016 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075295680"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4780960083008,44.0277137756348]}},{type:"Feature",_id:"panera-bread-rochester-11",properties:{name:"Panera Bread",label:[{value:"Panera Bread"}],category:[{value:"Bakeries",term:"bakeries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bagels",term:"bagels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"825 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855800"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.476175,44.0004496]}},{type:"Feature",_id:"mayo-employees-federal-credit-union-rochester",properties:{name:"Mayo Employees Federal Credit Union",label:[{value:"Mayo Employees Federal Credit Union"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/mceolrP3bAmvlkriWBy60A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW, Centerplace Building Main Fl",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.464951,44.021839]}},{type:"Feature",_id:"victorias-secret-store-644-rochester",properties:{name:"Victoria's Secret Store 644",label:[{value:"Victoria's Secret Store 644"}],category:[{value:"Lingerie",term:"lingerie",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072809530"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4780149,44.0059551]}},{type:"Feature",_id:"plummer-house-rochester",properties:{name:"Plummer House",label:[{value:"Plummer House"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/vChvdcQVQ7YbjQQTyWbKqA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1091 Plummer Ln SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073282525"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.479813,44.010483]}},{type:"Feature",_id:"us-postal-service-tty-assistance-rochester",properties:{name:"US Postal Service-Tty Assistance",label:[{value:"US Postal Service-Tty Assistance"}],category:[{value:"Post Offices",term:"postoffices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"publicservicesgovt",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/EBpbHv4DqDFO4EL9cdsPqg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8778777833"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4625701904297,44.0223541259766]}},{type:"Feature",_id:"shops-at-university-square-rochester-2",properties:{name:"Shops at University Square",label:[{value:"Shops at University Square"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/o06JDIj93WjiKqrigfA2Dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8882806419"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4634781,44.0223885]}},{type:"Feature",_id:"serenity-couture-salon-and-spa-rochester",properties:{name:"Serenity Couture Salon & Spa",label:[{value:"Serenity Couture Salon & Spa"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyelash Service",term:"eyelashservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"702 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072890123"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4818218,44.0040387]}},{type:"Feature",_id:"color-me-mine-rochester-2",properties:{name:"Color Me Mine",label:[{value:"Color Me Mine"}],category:[{value:"Paint-Your-Own Pottery",term:"paintyourownpottery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"416 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072585436"},updated:1510719326068},geometry:{type:"Point",coordinates:[-92.4687424,44.0058517]}},{type:"Feature",_id:"danielles-consignment-boutique-rochester",properties:{name:"Danielle's Consignment Boutique",label:[{value:"Danielle's Consignment Boutique"}],category:[{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/0X_60t-PW2727IQu979bOg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1922 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072066575"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4631832,44.0171272]}},{type:"Feature",_id:"hindu-samaj-temple-of-minnesota-rochester",properties:{name:"Hindu Samaj Temple of Minnesota",label:[{value:"Hindu Samaj Temple of Minnesota"}],category:[{value:"Hindu Temples",term:"hindu_temples",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"911 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072811590"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.47944,44.03276]}},{type:"Feature",_id:"pro-nails-rochester",properties:{name:"Pro Nails",label:[{value:"Pro Nails"}],category:[{value:"Nail Salons",term:"othersalons",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Waxing",term:"waxing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lSFSWrG56RJldj4Xtp6irw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"834 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880937"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4628593027592,44.0138147771358]}},{type:"Feature",_id:"gentling-dental-care-rochester",properties:{name:"Gentling Dental Care",label:[{value:"Gentling Dental Care"}],category:[{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2210 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072887379"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4569202020996,44.0458516323205]}},{type:"Feature",_id:"5th-on-5th-rochester",properties:{name:"5th On 5th",label:[{value:"5th On 5th"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/wbwF79yFn-OGiGDHadHXnw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"510 5th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:null},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4701843,44.0180244]}},{type:"Feature",_id:"firefly-barre-fitness-rochester",properties:{name:"Firefly Barre Fitness",label:[{value:"Firefly Barre Fitness"}],category:[{value:"Barre Classes",term:"barreclasses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"18 3rd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073223969"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4643275573091,44.0201701683824]}},{type:"Feature",_id:"cut-above-home-rochester",properties:{name:"Cut Above Home",label:[{value:"Cut Above Home"}],category:[{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xLf6wjYespuDoAOhubt4gw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883808"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4804897,44.0043312]}},{type:"Feature",_id:"civic-inn-rochester",properties:{name:"Civic Inn",label:[{value:"Civic Inn"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4iWWRVAjrUR2PpLCw6GeyA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"101 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072893343"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.461296081543,44.0237617492676]}},{type:"Feature",_id:"hunts-rochester",properties:{name:"Hunt's",label:[{value:"Hunt's"}],category:[{value:"Drugstores",term:"drugstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetics & Beauty Supply",term:"cosmetics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1510 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072893901"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4619064,44.0386047]}},{type:"Feature",_id:"silver-lake-liquor-rochester",properties:{name:"Silver Lake Liquor",label:[{value:"Silver Lake Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1400 North Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072895575"},updated:1510719326069},geometry:{type:"Point",coordinates:[-92.4612274,44.0374908]}},{type:"Feature",_id:"rochester-pro-music-rochester",properties:{name:"Rochester Pro Music",label:[{value:"Rochester Pro Music"}],category:[{value:"Musical Instruments & Teachers",term:"musicalinstrumentsandteachers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/YE_saTJKNtj1rGmv8N8yUA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1312 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072529197"},updated:1510719326732},geometry:{type:"Point",coordinates:[-92.48212,44.0313299]}},{type:"Feature",_id:"junk-it-rochester-3",properties:{name:"Junk-It",label:[{value:"Junk-It"}],category:[{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"116 18th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072547833"},updated:1510719326732},geometry:{type:"Point",coordinates:[-92.461311340332,43.9957695007324]}},{type:"Feature",_id:"sixty-three-club-rochester",properties:{name:"Sixty-Three Club",label:[{value:"Sixty-Three Club"}],category:[{value:"Nightlife",term:"nightlife",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Kish6nNPoiio00xzygNCAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1726 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072810632"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4634172022343,43.9974070340395]}},{type:"Feature",_id:"always-caring-inc-rochester",properties:{name:"Always Caring, Inc",label:[{value:"Always Caring, Inc"}],category:[{value:"Home Health Care",term:"homehealthcare",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1652 Greenview Dr SW, Ste 160",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072724059"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4864933,44.0002234]}},{type:"Feature",_id:"centerstone-plaza-hotel-rochester",properties:{name:"Centerstone Plaza Hotel",label:[{value:"Centerstone Plaza Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-nTfJ-9BQSAnuQd5PjCw1Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"401 6th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882677"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4684219,44.0173492]}},{type:"Feature",_id:"wyndham-garden-rochester-rochester",properties:{name:"Wyndham Garden Rochester",label:[{value:"Wyndham Garden Rochester"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/sCOmo8JsNxqicnN6ZmnKzQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"8885959874"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.46494,43.99855]}},{type:"Feature",_id:"5th-avenue-inn-and-suites-rochester",properties:{name:"5th Avenue Inn & Suites",label:[{value:"5th Avenue Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/XgfE6ohYOWX7zdHwn2_FSQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 5th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893987"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.46913,44.02419]}},{type:"Feature",_id:"recreation-center-rochester",properties:{name:"Recreation Center",label:[{value:"Recreation Center"}],category:[{value:"Amateur Sports Teams",term:"amateursportsteams",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/TSoWxYXW4jALmL_Kn3VKKQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"21 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073282500"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4618799,44.04209]}},{type:"Feature",_id:"rochester-art-center-rochester-2",properties:{name:"Rochester Art Center",label:[{value:"Rochester Art Center"}],category:[{value:"Museums",term:"museums",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Art Galleries",term:"galleries",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"40 Civic Center Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072828629"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4600351,44.0230604]}},{type:"Feature",_id:"disons-cleaners-and-launderers-rochester",properties:{name:"Dison's Cleaners & Launderers",label:[{value:"Dison's Cleaners & Launderers"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DJ_3iYbSgw6Ju65WHd7Ag/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"214 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072893944"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4625473,44.0258293]}},{type:"Feature",_id:"junk-pros-llc-rochester",properties:{name:"Junk Pros LLC",label:[{value:"Junk Pros LLC"}],category:[{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/-x38OIC0JIsJg9v7cK0ZLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:null},phone:"5073986207"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.45985,44.01932]}},{type:"Feature",_id:"cloud-9-spa-and-salon-rochester",properties:{name:"Cloud 9 Spa and Salon",label:[{value:"Cloud 9 Spa and Salon"}],category:[{value:"Acupuncture",term:"acupuncture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Massage Therapy",term:"massage_therapy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Removal",term:"hairremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Lf8EOD30O9UzvVtcMBh1gg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"108 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072886689"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4643578971764,44.0222992733652]}},{type:"Feature",_id:"love-from-minnesota-rochester",properties:{name:"Love From Minnesota",label:[{value:"Love From Minnesota"}],category:[{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Souvenir Shops",term:"souvenirs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 12th St SW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072823102"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4782263487577,44.0071052312851]}},{type:"Feature",_id:"servpro-of-rochester-rochester-2",properties:{name:"SERVPRO of Rochester",label:[{value:"SERVPRO of Rochester"}],category:[{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/LMZjT2LDdqnNKfkpBM6CvQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072869170"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.465953,44.02157]}},{type:"Feature",_id:"maurices-rochester",properties:{name:"Maurices",label:[{value:"Maurices"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/p0E3h2vtU5K3kYjDoOmkxA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072897372"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4780121,44.0059547]}},{type:"Feature",_id:"rochester-recreation-center-rochester",properties:{name:"Rochester Recreation Center",label:[{value:"Rochester Recreation Center"}],category:[{value:"Recreation Centers",term:"recreation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/uclvBYEW0NkPYasxNLiAlA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"21 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073282500"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.462769,44.042633]}},{type:"Feature",_id:"graham-arena-complex-rochester",properties:{name:"Graham Arena Complex",label:[{value:"Graham Arena Complex"}],category:[{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 St & 3 Ave SE",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072816189"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4586525599937,43.9999704524023]}},{type:"Feature",_id:"the-buckle-rochester",properties:{name:"The Buckle",label:[{value:"The Buckle"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 414 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072886570"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4794464,44.006115]}},{type:"Feature",_id:"exquisite-leather-and-luggage-rochester",properties:{name:"Exquisite Leather & Luggage",label:[{value:"Exquisite Leather & Luggage"}],category:[{value:"Luggage",term:"luggage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072896982"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"rochester-city-of-rochester-53",properties:{name:"Rochester-City of",label:[{value:"Rochester-City of"}],category:[{value:"Stadiums & Arenas",term:"stadiumsarenas",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"16 St & 3 Ave SE",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072816189"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4586525599937,43.9999704524023]}},{type:"Feature",_id:"travelers-hotel-rochester",properties:{name:"Travelers Hotel",label:[{value:"Travelers Hotel"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/YRTOfQA-zlmsH8gniiXpCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"426 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894095"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.469367980957,44.0212364196777]}},{type:"Feature",_id:"the-kitchen-design-studio-rochester",properties:{name:"The Kitchen Design Studio",label:[{value:"The Kitchen Design Studio"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cabinetry",term:"cabinetry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"23 W Center St",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882930"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4635162,44.0236206]}},{type:"Feature",_id:"metropolitan-market-place-rochester",properties:{name:"Metropolitan Market Place",label:[{value:"Metropolitan Market Place"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"515 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072268335"},updated:1510719326733},geometry:{type:"Point",coordinates:[-92.4649276733398,44.0176544189453]}},{type:"Feature",_id:"lenscrafters-rochester-6",properties:{name:"LensCrafters",label:[{value:"LensCrafters"}],category:[{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Optometrists",term:"optometrists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PSy6upRWVZBBDNb58kA9Ww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072814050"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4633092123032,44.0226384441336]}},{type:"Feature",_id:"bls-repair-rochester",properties:{name:"BLS Repair",label:[{value:"BLS Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/mceolrP3bAmvlkriWBy60A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1701 2nd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806918"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4606399536133,43.9977188110352]}},{type:"Feature",_id:"u-s-bank-rochester-3",properties:{name:"U.S. Bank",label:[{value:"U.S. Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/mac7meOiVGTQwAePxWowjg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072857900"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.46495,44.02184]}},{type:"Feature",_id:"lairs-shoes-rochester",properties:{name:"Lair's Shoes",label:[{value:"Lair's Shoes"}],category:[{value:"Shoe Stores",term:"shoes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"155 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072823141"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4649505615234,44.0218391418457]}},{type:"Feature",_id:"kitchen-collection-rochester",properties:{name:"Kitchen Collection",label:[{value:"Kitchen Collection"}],category:[{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/OeqnsFgl2gd4r1l-RaqU5w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"507 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075293634"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4810296,44.0060762]}},{type:"Feature",_id:"olmsted-medical-center-rochester",properties:{name:"Olmsted Medical Center",label:[{value:"Olmsted Medical Center"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/yMENVZnJ7TQCjqY12atPyw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"210 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072872780"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.459877,44.0124283]}},{type:"Feature",_id:"smart-home-innovations-and-engineering-rochester",properties:{name:"Smart Home Innovations & Engineering",label:[{value:"Smart Home Innovations & Engineering"}],category:[{value:"Home Theatre Installation",term:"hometheatreinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Automation",term:"homeautomation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/1OYBaAM8yWBL9kiQEeroGw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"212 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072268555"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4628251,44.02589]}},{type:"Feature",_id:"rochester-chamber-toastmasters-rochester",properties:{name:"Rochester Chamber Toastmasters",label:[{value:"Rochester Chamber Toastmasters"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Educational Services",term:"educationservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wghSUP0IbLkT3PBzDoyCVw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"220 S Broadway, Ste 100",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5079909342"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4628199,44.02133]}},{type:"Feature",_id:"sterling-state-bank-rochester-5",properties:{name:"Sterling State Bank",label:[{value:"Sterling State Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/Ve2LSZOQcF0W-avdPUI2tA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"102 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072821845"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4625701904297,44.0223541259766]}},{type:"Feature",_id:"total-image-salon-and-spa-rochester",properties:{name:"Total Image Salon and Spa",label:[{value:"Total Image Salon and Spa"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072894920"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.46562,44.02328]}},{type:"Feature",_id:"u-s-bank-rochester-7",properties:{name:"U.S. Bank",label:[{value:"U.S. Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/qoko9hGyVSjjEwXbOgz4wg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"402 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072857870"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4640579,44.0188408]}},{type:"Feature",_id:"kmart-rochester-4",properties:{name:"Kmart",label:[{value:"Kmart"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"201 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072889567"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.460555,44.013909]}},{type:"Feature",_id:"eastman-auto-repair-rochester",properties:{name:"Eastman Auto Repair",label:[{value:"Eastman Auto Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Transmission Repair",term:"transmissionrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/AJ-3rClGWHkYB74mFDFRZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"434 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075297665"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.462682,44.018047]}},{type:"Feature",_id:"pawn-america-rochester",properties:{name:"Pawn America",label:[{value:"Pawn America"}],category:[{value:"Pawn Shops",term:"pawn",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wI9vQc3ddulD0njl8wegLA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"770 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075291227"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4622927,44.014959]}},{type:"Feature",_id:"north-star-bar-rochester",properties:{name:"North Star Bar",label:[{value:"North Star Bar"}],category:[{value:"Nightlife",term:"nightlife",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:null,type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"503 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072891091"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.463415,44.028404]}},{type:"Feature",_id:"great-clips-rochester-7",properties:{name:"Great Clips",label:[{value:"Great Clips"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/AnMwRgseHzSHdmmr8Cv5dw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1600 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072525529"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.4614181518555,44.0391273498535]}},{type:"Feature",_id:"think-mutual-bank-rochester-4",properties:{name:"Think Mutual Bank",label:[{value:"Think Mutual Bank"}],category:[{value:"Banks & Credit Unions",term:"banks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"221 1st Ave SW, Ste 101",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072883425"},updated:1510719326734},geometry:{type:"Point",coordinates:[-92.464928,44.02087]}},{type:"Feature",_id:"brandon-hendersons-construction-plus-rochester",properties:{name:"Brandon Henderson's Construction Plus",label:[{value:"Brandon Henderson's Construction Plus"}],category:[{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Door Sales/Installation",term:"doorsales",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075299196"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4370792508125,43.9793825894594]}},{type:"Feature",_id:"national-pawn-co-rochester",properties:{name:"National Pawn Co",label:[{value:"National Pawn Co"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Musical Instruments & Teachers",term:"musicalinstrumentsandteachers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"426 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072890080"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4583435058594,44.0184097290039]}},{type:"Feature",_id:"2nd-street-inn-and-suites-rochester",properties:{name:"2nd Street Inn & Suites",label:[{value:"2nd Street Inn & Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/RFLMG4EVIOEilWzrfAkx_g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1013 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5074241170"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4781112670898,44.0219802856445]}},{type:"Feature",_id:"buckeye-liquor-rochester-2",properties:{name:"Buckeye Liquor",label:[{value:"Buckeye Liquor"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"438 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072825393"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.4584197998047,44.0180931091309]}},{type:"Feature",_id:"imobile-repair-rochester",properties:{name:"iMobile Repair",label:[{value:"iMobile Repair"}],category:[{value:"Mobile Phone Repair",term:"mobilephonerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"325 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072061978"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.463493,44.019515]}},{type:"Feature",_id:"bubbleball-rochester-rochester",properties:{name:"BubbleBall Rochester",label:[{value:"BubbleBall Rochester"}],category:[{value:"Party & Event Planning",term:"eventplanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/1Z-X8bnpyAEJRdW5yMcnpw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 4th St SW, Ste 203",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072168004"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.46366,44.01896]}},{type:"Feature",_id:"med-city-hypnosis-rochester",properties:{name:"Med-City Hypnosis",label:[{value:"Med-City Hypnosis"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Weight Loss Centers",term:"weightlosscenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hypnosis/Hypnotherapy",term:"hypnosis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"400 S Broadway, Ste 19",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5077229227"},updated:1510719327653},geometry:{type:"Point",coordinates:[-92.46281,44.01907]}},{type:"Feature",_id:"murakami-law-firm-rochester",properties:{name:"Murakami Law Firm",label:[{value:"Murakami Law Firm"}],category:[{value:"Bankruptcy Law",term:"bankruptcy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Personal Injury Law",term:"personal_injury",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Criminal Defense Law",term:"criminaldefense",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"9 1st St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072800100"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4636344978389,44.0244701309297]}},{type:"Feature",_id:"olmsted-medical-center-rochester-6",properties:{name:"Olmsted Medical Center",label:[{value:"Olmsted Medical Center"}],category:[{value:"Medical Centers",term:"medcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/bgMBkBBbrMBeRMrqFyx9ow/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"210 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072883443"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4600830078125,44.0120124816895]}},{type:"Feature",_id:"soma-intimates-rochester-2",properties:{name:"Soma Intimates",label:[{value:"Soma Intimates"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Lingerie",term:"lingerie",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"Shops At University Square",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072813598"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4030380249023,43.9561004638672]}},{type:"Feature",_id:"mjm-handyman-rochester",properties:{name:"MJM Handyman",label:[{value:"MJM Handyman"}],category:[{value:"Handyman",term:"handyman",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5079907706"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.46295,44.0234]}},{type:"Feature",_id:"safelite-autoglass-rochester-4",properties:{name:"Safelite AutoGlass",label:[{value:"Safelite AutoGlass"}],category:[{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windshield Installation & Repair",term:"windshieldinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/u0OoUb3NHQEakladShsZQA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 5th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"8669049472"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.467932,44.028349]}},{type:"Feature",_id:"broadway-car-care-rochester-3",properties:{name:"Broadway Car Care",label:[{value:"Broadway Car Care"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/bYjAdMGgz9arTLes4qnNnQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"515 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5074243097"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.463463,44.02868]}},{type:"Feature",_id:"trester-tailor-rochester",properties:{name:"Trester Tailor",label:[{value:"Trester Tailor"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"521 N Broadway Ave, Ste 5, Fl 2",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073160631"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4634016,44.028874]}},{type:"Feature",_id:"kristens-knits-rochester",properties:{name:"Kristen's Knits",label:[{value:"Kristen's Knits"}],category:[{value:"Hobby Shops",term:"hobbyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"604 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072855345"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4717178344727,44.021427154541]}},{type:"Feature",_id:"holiday-gas-station-rochester-2",properties:{name:"Holiday Gas Station",label:[{value:"Holiday Gas Station"}],category:[{value:"Gas Stations",term:"servicestations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"701 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072891463"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4633675813675,44.0306721059338]}},{type:"Feature",_id:"auntie-annes-rochester-3",properties:{name:"Auntie Anne's",label:[{value:"Auntie Anne's"}],category:[{value:"Pretzels",term:"pretzels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101-115 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072811233"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4645765785268,44.0223214015939]}},{type:"Feature",_id:"chocolate-oasis-rochester",properties:{name:"Chocolate Oasis",label:[{value:"Chocolate Oasis"}],category:[{value:"Candy Stores",term:"candy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"101 1st Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806760"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4646683,44.0222511]}},{type:"Feature",_id:"sopra-sotto-rochester",properties:{name:"Sopra Sotto",label:[{value:"Sopra Sotto"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"111 S Broadway, Ste 104",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072525522"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.463478,44.022396]}},{type:"Feature",_id:"silhouette-shoppe-rochester",properties:{name:"Silhouette Shoppe",label:[{value:"Silhouette Shoppe"}],category:[],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/Qm4B8c-vwRnqb_Nhhc-Tyw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"20 2nd Ave SW, Ste 117",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072810373"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4656219482422,44.0232810974121]}},{type:"Feature",_id:"brandhoot-rochester",properties:{name:"BrandHoot",label:[{value:"BrandHoot"}],category:[{value:"Web Design",term:"web_design",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Software Development",term:"softwaredevelopment",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/jSt4bBW4JjWi4jI0AcGTTw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14 4th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073016695"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4636862,44.0190132]}},{type:"Feature",_id:"oxi-fresh-carpet-cleaning-rochester",properties:{name:"Oxi Fresh Carpet Cleaning",label:[{value:"Oxi Fresh Carpet Cleaning"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072269949"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.473030090332,44.0308380126953]}},{type:"Feature",_id:"best-buy-mobile-apache-mall-rochester",properties:{name:"Best Buy Mobile Apache Mall",label:[{value:"Best Buy Mobile Apache Mall"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/SDYWPwNf9zGsxdttTVfPWw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"670 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529794"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4818954,44.0044327]}},{type:"Feature",_id:"kismet-rochester-5",properties:{name:"Kismet",label:[{value:"Kismet"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Used, Vintage & Consignment",term:"vintage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"601 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072529717"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.463343,44.029644]}},{type:"Feature",_id:"midwest-custom-concepts-rochester",properties:{name:"Midwest Custom Concepts",label:[{value:"Midwest Custom Concepts"}],category:[{value:"Car Stereo Installation",term:"stereo_installation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Customization",term:"autocustomization",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"27 9th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074244600"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4621200561523,44.0135116577148]}},{type:"Feature",_id:"the-dental-doctors-rochester",properties:{name:"The Dental Doctors",label:[{value:"The Dental Doctors"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"723 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072813926"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4734878540039,44.0219802856445]}},{type:"Feature",_id:"jakobson-management-company-rochester",properties:{name:"Jakobson Management Company",label:[{value:"Jakobson Management Company"}],category:[{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/HQ2eqbcoWAL48sBXrcxn-Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"882 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075360000"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4756091833115,44.0309876203537]}},{type:"Feature",_id:"lofts-at-mayo-park-rochester",properties:{name:"Lofts at Mayo Park",label:[{value:"Lofts at Mayo Park"}],category:[{value:"Vacation Rentals",term:"vacation_rentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Guest Houses",term:"guesthouses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"123 6th Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072067001"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4551727,44.0222074]}},{type:"Feature",_id:"pendle-hansen-bagne-inc-rochester",properties:{name:"Pendle-Hansen-Bagne",label:[{value:"Pendle-Hansen-Bagne"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/fUNbEXoNe5MVacFX8MjQiQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"300 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072884081"},updated:1510719327654},geometry:{type:"Point",coordinates:[-92.4584350585938,44.0202789306641]}},{type:"Feature",_id:"halloween-express-rochester",properties:{name:"Halloween Express",label:[{value:"Halloween Express"}],category:[{value:"Costumes",term:"costumes",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1250 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072814490"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4808703362942,44.000920727849]}},{type:"Feature",_id:"loquella-speech-and-language-services-rochester",properties:{name:"Loquella Speech & Language Services",label:[{value:"Loquella Speech & Language Services"}],category:[{value:"Speech Therapists",term:"speech_therapists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072066200"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4640655517578,44.0264930725098]}},{type:"Feature",_id:"jeffrey-clark-counseling-rochester",properties:{name:"Jeffrey Clark Counseling",label:[{value:"Jeffrey Clark Counseling"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"300 1st Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072066352"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4640655517578,44.0264930725098]}},{type:"Feature",_id:"riverview-suites-rochester",properties:{name:"Riverview Suites",label:[{value:"Riverview Suites"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/lWBoA4g65UZ6OsYQBv6QTA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"211 1st St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072854444"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4594039916992,44.0248794555664]}},{type:"Feature",_id:"american-cancer-society-rochester-4",properties:{name:"American Cancer Society",label:[{value:"American Cancer Society"}],category:[{value:"Community Service/Non-Profit",term:"nonprofit",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/wLyKdK4ajCKzxSkDUuGMmA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"411 2nd St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5075294673"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.46913,44.02579]}},{type:"Feature",_id:"rolsch-steven-e-atty-rochester",properties:{name:"Rolsch Steven E Atty",label:[{value:"Rolsch Steven E Atty"}],category:[{value:"Divorce & Family Law",term:"divorce",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/b50Hq56Fk622HfGYgLDfrQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"423 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072801943"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4590073,44.0185509]}},{type:"Feature",_id:"spoo-gregory-m-atty-rochester",properties:{name:"Spoo Gregory M Atty",label:[{value:"Spoo Gregory M Atty"}],category:[{value:"Lawyers",term:"lawyers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"423 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072892255"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4590073,44.0185509]}},{type:"Feature",_id:"mega-express-laundry-rochester",properties:{name:"Mega Express Laundry",label:[{value:"Mega Express Laundry"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/vLYTTc9DAt_7QfQgiqhvFA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1123 Civic Ctr Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072920603"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4799576,44.0285683]}},{type:"Feature",_id:"hy-vee-wine-and-spirits-rochester",properties:{name:"Hy-Vee Wine & Spirits",label:[{value:"Hy-Vee Wine & Spirits"}],category:[{value:"Beer, Wine & Spirits",term:"beer_and_wine",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/aC1ECGXHAJ3oQOiIGFTAJw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1101 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072850848"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.47993,44.02964]}},{type:"Feature",_id:"southpoint-motors-rochester",properties:{name:"Southpoint Motors",label:[{value:"Southpoint Motors"}],category:[{value:"Car Dealers",term:"car_dealers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"10 7th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072809714"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4624786,44.0301514]}},{type:"Feature",_id:"fluff-n-buff-dog-grooming-rochester",properties:{name:"Fluff N Buff Dog Grooming",label:[{value:"Fluff N Buff Dog Grooming"}],category:[{value:"Pet Groomers",term:"groomer",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/dbYBA4ckFnXbbK9ZV5Sruw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"501 4th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072188388"},updated:1510719327655},geometry:{type:"Point",coordinates:[-92.4685668945312,44.0283164978027]}},{type:"Feature",_id:"whitewing-auto-appearance-center-rochester",properties:{name:"Whitewing Auto Appearance Center",label:[{value:"Whitewing Auto Appearance Center"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"517 2nd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851102"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.4660449,44.028694]}},{type:"Feature",_id:"rochester-public-schools-rochester-29",properties:{name:"Rochester Public Schools",label:[{value:"Rochester Public Schools"}],category:[{value:"Elementary Schools",term:"elementaryschools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Middle Schools & High Schools",term:"highschools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"education",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/bkETJhQrG42Cd-H9EQMpyA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"615 7th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073284220"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.47218,44.01645]}},{type:"Feature",_id:"bear-creek-auto-sales-rochester",properties:{name:"Bear Creek Auto Sales",label:[{value:"Bear Creek Auto Sales"}],category:[],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/qoko9hGyVSjjEwXbOgz4wg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"604 4th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072876427"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.4546127,44.0190582]}},{type:"Feature",_id:"center-street-village-apts-rochester",properties:{name:"Center Street Village Apts",label:[{value:"Center Street Village Apts"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"626 E Center St",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072859469"},updated:1510719328361},geometry:{type:"Point",coordinates:[-92.4546068161726,44.0234553068876]}},{type:"Feature",_id:"robertas-way-clnrs-rochester",properties:{name:"Roberta's Way Clnrs",label:[{value:"Roberta's Way Clnrs"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"821 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072882527"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4599456787109,44.0144386291504]}},{type:"Feature",_id:"kitchen-solvers-rochester-2",properties:{name:"Kitchen Solvers",label:[{value:"Kitchen Solvers"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"601 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072812421"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4633407592773,44.0296440124512]}},{type:"Feature",_id:"freedom-boutique-rochester",properties:{name:"Freedom Boutique",label:[{value:"Freedom Boutique"}],category:[{value:"Arts & Crafts",term:"artsandcrafts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/LWmiioxCMoALNCPhcWc3jA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"602 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072690335"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4712600708008,44.0304260253906]}},{type:"Feature",_id:"grant-florine-dds-rochester",properties:{name:"Grant Florine, DDS",label:[{value:"Grant Florine, DDS"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Teeth Whitening",term:"teethwhitening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"922 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072827767"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.462587,44.032959]}},{type:"Feature",_id:"bell-tower-inn-rochester",properties:{name:"Bell Tower Inn",label:[{value:"Bell Tower Inn"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qr5bLeVAXuUqtqwUx7CGFg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1235 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072892233"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4832077026367,44.0219078063965]}},{type:"Feature",_id:"auto-refinishers-plus-rochester",properties:{name:"Auto Refinishers Plus",label:[{value:"Auto Refinishers Plus"}],category:[{value:"Body Shops",term:"bodyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"539 6th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851521"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4713592529297,44.0295562744141]}},{type:"Feature",_id:"americas-best-cleaning-and-restoration-services-rochester-2",properties:{name:"America's Best Cleaning And Restoration Services",label:[{value:"America's Best Cleaning And Restoration Services"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Air Duct Cleaning",term:"airductcleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/rRxpK94cOmInmnKpV-gssQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072808171"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4635335,44.0351881]}},{type:"Feature",_id:"gopher-septic-service-rochester",properties:{name:"Gopher Septic Service",label:[{value:"Gopher Septic Service"}],category:[{value:"Septic Services",term:"septicservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"PO Box 9280",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072822243"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"abc-child-and-family-therapy-center-rochester",properties:{name:"ABC Child and Family Therapy Center",label:[{value:"ABC Child and Family Therapy Center"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5075367662"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"flury-auto-body-rochester",properties:{name:"Flury Auto Body",label:[{value:"Flury Auto Body"}],category:[{value:"Body Shops",term:"bodyshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Glass Services",term:"autoglass",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"999 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072811166"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.46146,44.01082]}},{type:"Feature",_id:"at-and-t-rochester-3",properties:{name:"AT&T",label:[{value:"AT&T"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mobile Phone Accessories",term:"cellphoneaccessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xkJ1HtmOmRcLlYOdn2FhaA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"430 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072884021"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4691,44.00551]}},{type:"Feature",_id:"cascade-animal-inn-rochester",properties:{name:"Cascade Animal Inn",label:[{value:"Cascade Animal Inn"}],category:[{value:"Pet Sitting",term:"pet_sitting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"602 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897387"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4712600708008,44.0304260253906]}},{type:"Feature",_id:"broadway-gas-rochester",properties:{name:"Broadway Gas",label:[{value:"Broadway Gas"}],category:[{value:"Gas Stations",term:"servicestations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/OkPbNXDHHopusW1PT09F3w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1005 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072876446"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.463447,44.033451]}},{type:"Feature",_id:"jon-ryan-dwell-realty-group-rochester-2",properties:{name:"Jon Ryan - Dwell Realty Group",label:[{value:"Jon Ryan - Dwell Realty Group"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/T5CAD_Z-ko4igA7nO6Axnw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"923 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5075130005"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4633503,44.0330413]}},{type:"Feature",_id:"superior-screeners-rochester",properties:{name:"Superior Screeners",label:[{value:"Superior Screeners"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"25 9 1/2 St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072824124"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4617156982422,44.0117454528809]}},{type:"Feature",_id:"infinity-tattooing-rochester",properties:{name:"Infinity Tattooing",label:[{value:"Infinity Tattooing"}],category:[{value:"Tattoo",term:"tattoo",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Antiques",term:"antiques",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Piercing",term:"piercing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/tv4N6QoakeTN0v67TyZ4wA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1006 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072811296"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4625854492188,44.033447265625]}},{type:"Feature",_id:"silver-lake-swimming-pool-rochester",properties:{name:"Silver Lake Swimming Pool",label:[{value:"Silver Lake Swimming Pool"}],category:[{value:"Swimming Pools",term:"swimmingpools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/oNH6UDBeJ155ayRT9K5CBg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7 St NE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072816179"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.453786,44.030015]}},{type:"Feature",_id:"106-9-rochester",properties:{name:"106.9",label:[{value:"106.9"}],category:[{value:"Radio Stations",term:"radiostations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"massmedia",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55903"},phone:"5072522000"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.47087,44.02905]}},{type:"Feature",_id:"action-plumbing-heating-a-c-rochester",properties:{name:"Action Plumbing Heating A/C",label:[{value:"Action Plumbing Heating A/C"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"989 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072826546"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.4614563,44.01091]}},{type:"Feature",_id:"bob-miller-comedy-magic-rochester",properties:{name:"Bob Miller Comedy Magic",label:[{value:"Bob Miller Comedy Magic"}],category:[{value:"Performing Arts",term:"theater",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"31 9th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072812213"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.46142578125,44.0325126647949]}},{type:"Feature",_id:"mister-car-wash-rochester-3",properties:{name:"Mister Car Wash",label:[{value:"Mister Car Wash"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Detailing",term:"auto_detailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/T9ovUXarZc6HjAl6SHoEQg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"333 Crossroads Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072806233"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.467538,44.006576]}},{type:"Feature",_id:"farmers-insurance-joanna-johnson-rochester",properties:{name:"Farmers Insurance - Joanna Johnson",label:[{value:"Farmers Insurance - Joanna Johnson"}],category:[{value:"Insurance",term:"insurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1306 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072873276"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.480681,44.030955]}},{type:"Feature",_id:"trade-secret-beauty-salon-rochester",properties:{name:"Trade Secret Beauty Salon",label:[{value:"Trade Secret Beauty Salon"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885189"},updated:1510719328362},geometry:{type:"Point",coordinates:[-92.480446,44.004345]}},{type:"Feature",_id:"the-childrens-place-rochester-2",properties:{name:"The Children's Place",label:[{value:"The Children's Place"}],category:[{value:"Children's Clothing",term:"childcloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/siOteQuN_Uh-mCURQgKj5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 333 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072812555"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4780121,44.0059547]}},{type:"Feature",_id:"rochester-drain-rite-rochester-3",properties:{name:"Rochester Drain-Rite",label:[{value:"Rochester Drain-Rite"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ftqrOd8yVNSgwrHeIPQauQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"606 11th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072734403"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4788951,44.029845]}},{type:"Feature",_id:"happy-body-and-feet-massage-rochester",properties:{name:"Happy Body & Feet Massage",label:[{value:"Happy Body & Feet Massage"}],category:[{value:"Massage",term:"massage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Reflexology",term:"reflexology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ZKNeqXxrC9qcFxKxo1D9nQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1107 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072164687"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4798761,44.0315191]}},{type:"Feature",_id:"everything-hobby-rochester",properties:{name:"Everything Hobby",label:[{value:"Everything Hobby"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1306 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851166"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4822845458984,44.0314636230469]}},{type:"Feature",_id:"sun-place-sun-and-skincare-rochester",properties:{name:"Sun Place Sun & Skincare",label:[{value:"Sun Place Sun & Skincare"}],category:[{value:"Skin Care",term:"skincare",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Spray Tanning",term:"spraytanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway, Ste 42",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075364257"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4654927,44.0053019]}},{type:"Feature",_id:"the-soccer-advantage-rochester",properties:{name:"The Soccer Advantage",label:[{value:"The Soccer Advantage"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/wjbHWTf7irBcrrGipp4lZg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1115 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072268000"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4801427094733,44.0293218506596]}},{type:"Feature",_id:"kitchen-concepts-of-rochester-rochester",properties:{name:"Kitchen Concepts of Rochester",label:[{value:"Kitchen Concepts of Rochester"}],category:[],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1207 2nd Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072851044"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.46623,44.03538]}},{type:"Feature",_id:"javiers-barbershop-rochester",properties:{name:"Javier's Barbershop",label:[{value:"Javier's Barbershop"}],category:[{value:"Barbers",term:"barbers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/b9BVDBjT3xuZta95R-7TVg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1112 9th St NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073192140"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4482851848006,44.0323881356045]}},{type:"Feature",_id:"mayo-psychiatry-and-psychology-treatment-center-rochester",properties:{name:"Mayo Psychiatry and Psychology Treatment Center",label:[{value:"Mayo Psychiatry and Psychology Treatment Center"}],category:[{value:"Psychologists",term:"psychologists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1216 2nd St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072555123"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4820938,44.0213509]}},{type:"Feature",_id:"gregs-graphic-art-rochester",properties:{name:"Gregs Graphic Art",label:[{value:"Gregs Graphic Art"}],category:[{value:"Graphic Design",term:"graphicdesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"829 11th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072614999"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.476105,44.010113]}},{type:"Feature",_id:"mestads-wedding-world-rochester",properties:{name:"Mestad's Wedding World",label:[{value:"Mestad's Wedding World"}],category:[{value:"Bridal",term:"bridal",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1171 6th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072892444"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4797464907169,44.0291771292686]}},{type:"Feature",_id:"macys-rochester",properties:{name:"Macy's",label:[{value:"Macy's"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/WHdSQh8VA-dgzcVTvWH37w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"901 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072805400"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.479765,44.002543]}},{type:"Feature",_id:"tawatal-halal-meat-rochester",properties:{name:"Tawatal Halal Meat",label:[{value:"Tawatal Halal Meat"}],category:[{value:"Grocery",term:"grocery",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Meat Shops",term:"meats",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/hCn_qzXYyuLyV1Rzgs3o0A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"517 12th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5075364893"},updated:1510719328363},geometry:{type:"Point",coordinates:[-92.4553070068359,44.007266998291]}},{type:"Feature",_id:"diercks-auto-care-rochester",properties:{name:"Diercks Auto Care",label:[{value:"Diercks Auto Care"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1420 Civic Center Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072820553"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4826431274414,44.0287399291992]}},{type:"Feature",_id:"silver-lake-apartments-rochester",properties:{name:"Silver Lake Apartments",label:[{value:"Silver Lake Apartments"}],category:[{value:"Apartments",term:"apartments",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/ubAhcJjcclfEk8owVgdc5Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1515 3rd Ave NE, Apt 101",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072898982"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4581919,44.0377191]}},{type:"Feature",_id:"peace-united-church-of-christ-rochester-2",properties:{name:"Peace United Church of Christ",label:[{value:"Peace United Church of Christ"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/NuDRy_2b1m_JtK-cBA17lQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1503 2nd Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072826117"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4598713219166,44.0371404034277]}},{type:"Feature",_id:"northgate-driving-school-rochester-2",properties:{name:"Northgate Driving School",label:[{value:"Northgate Driving School"}],category:[{value:"Driving Schools",term:"driving_schools",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"education",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1320 7th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072885455"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.482398,44.03141]}},{type:"Feature",_id:"natures-best-cleaners-rochester-2",properties:{name:"Natures Best Cleaners",label:[{value:"Natures Best Cleaners"}],category:[{value:"Sewing & Alterations",term:"sewingalterations",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072521755"},updated:1510719329085},geometry:{type:"Point",coordinates:[-92.4645233154297,44.0048713684082]}},{type:"Feature",_id:"officemax-rochester-2",properties:{name:"Officemax",label:[{value:"Officemax"}],category:[{value:"Office Equipment",term:"officeequipment",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/uOXE3HKL0TS8Ywjmfe3O2Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1201 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072888212"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4647827,44.0038681]}},{type:"Feature",_id:"warners-stellian-appliance-rochester",properties:{name:"Warners' Stellian Appliance",label:[{value:"Warners' Stellian Appliance"}],category:[{value:"Appliances",term:"appliances",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Appliances & Repair",term:"homeappliancerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/T6ciIgzXUBzzGJM82oSHtQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1318 Apache Dr SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072525552"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4749453177216,44.0047402953264]}},{type:"Feature",_id:"mens-wearhouse-rochester-5",properties:{name:"Men's Wearhouse",label:[{value:"Men's Wearhouse"}],category:[{value:"Men's Clothing",term:"menscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Formal Wear",term:"formalwear",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Plus Size Fashion",term:"plus_size_fashion",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0OrKg6C1HZOv9SBajUIOIA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW, Ste 1005",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072885992"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.479255,44.0052094150069]}},{type:"Feature",_id:"specialty-tours-rochester",properties:{name:"Specialty Tours",label:[{value:"Specialty Tours"}],category:[{value:"Tours",term:"tours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/GPL1E5suySgx245-0mxZ1w/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"972 14th Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072828673"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4838638,44.0126839]}},{type:"Feature",_id:"kirklands-rochester-2",properties:{name:"Kirkland's",label:[{value:"Kirkland's"}],category:[{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075369560"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.47918,44.00032]}},{type:"Feature",_id:"12th-street-dental-office-rochester-2",properties:{name:"12th Street Dental Office",label:[{value:"12th Street Dental Office"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pediatric Dentists",term:"pediatric_dentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cosmetic Dentists",term:"cosmeticdentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1008 12th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072826448"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4491694,44.0070153]}},{type:"Feature",_id:"findcars-rochester",properties:{name:"Findcars",label:[{value:"Findcars"}],category:[{value:"Car Dealers",term:"car_dealers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1500 1st Ave NE, Ste 221",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072520019"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4605465680361,44.0379767864943]}},{type:"Feature",_id:"allstate-insurance-jason-frankot-rochester-5",properties:{name:"Allstate Insurance Agent: Jason Frankot",label:[{value:"Allstate Insurance Agent: Jason Frankot"}],category:[{value:"Home & Rental Insurance",term:"homeinsurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Insurance",term:"autoinsurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Life Insurance",term:"lifeinsurance",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"financialservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1641 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072899235"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.463110089302,44.0402418504736]}},{type:"Feature",_id:"anytime-fitness-rochester-2",properties:{name:"Anytime Fitness",label:[{value:"Anytime Fitness"}],category:[{value:"Gyms",term:"gyms",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Trainers",term:"healthtrainers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1629 N Broadway Ave",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5073226225"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4617038,44.0401391]}},{type:"Feature",_id:"dapper-surfaces-rochester",properties:{name:"Dapper Surfaces",label:[{value:"Dapper Surfaces"}],category:[{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Masonry/Concrete",term:"masonry_concrete",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/y3i8OmHatMQW69ATgVhrSg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1700 N Broadway, Ste 122",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5076967929"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4594560674591,44.0415292077217]}},{type:"Feature",_id:"st-pius-x-catholic-church-rochester",properties:{name:"St Pius X Catholic Church",label:[{value:"St Pius X Catholic Church"}],category:[{value:"Churches",term:"churches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"religiousorgs",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/aDPyRUKr-zcNHUO2DJYjIw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1315 12th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072821361"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4803023785353,44.0354729443789]}},{type:"Feature",_id:"sleep-number-rochester",properties:{name:"Sleep Number",label:[{value:"Sleep Number"}],category:[{value:"Mattresses",term:"mattresses",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Decor",term:"homedecor",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/uzSuwShCDnLG9Lkb_r7eYg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"648 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075290275"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4786689132452,44.0043350211127]}},{type:"Feature",_id:"rogers-and-hollands-jewelers-rochester",properties:{name:"Rogers & Hollands Jewelers",label:[{value:"Rogers & Hollands Jewelers"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Watches",term:"watches",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Jewelry Repair",term:"jewelryrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/CwBYb_hxvosIvqyxJVuWmg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Apache Mall, 245 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072525800"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4795734882355,44.0045765015029]}},{type:"Feature",_id:"wrights-small-engine-service-rochester-2",properties:{name:"Wright's Small Engine Service",label:[{value:"Wright's Small Engine Service"}],category:[{value:"Machine Shops",term:"machineshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1432 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072885357"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.45831,44.00232]}},{type:"Feature",_id:"bluestem-center-rochester",properties:{name:"Bluestem Center",label:[{value:"Bluestem Center"}],category:[{value:"Counseling & Mental Health",term:"c_and_mh",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/bkETJhQrG42Cd-H9EQMpyA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"124 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072821009"},updated:1510719329086},geometry:{type:"Point",coordinates:[-92.4645004272461,44.0408592224121]}},{type:"Feature",_id:"bernies-jewelry-rochester",properties:{name:"Bernie's Jewelry",label:[{value:"Bernie's Jewelry"}],category:[{value:"Jewelry",term:"jewelry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1800 Broadway Ave N",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072823233"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4596481,44.0422401]}},{type:"Feature",_id:"verizon-rochester-10",properties:{name:"Verizon",label:[{value:"Verizon"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th St SW, Ste 200",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529955"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4792395532132,44.0003030126166]}},{type:"Feature",_id:"century-21-rochester-6",properties:{name:"Century 21",label:[{value:"Century 21"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Services",term:"realestatesvcs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/HYB41YKEZrwJ3jr0pEYHrA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"12 Elton Hills Dr NW, Ste 102",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893542"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4615631103516,44.0409622192383]}},{type:"Feature",_id:"coldwell-banker-burnet-rochester-3",properties:{name:"Coldwell Banker Burnet",label:[{value:"Coldwell Banker Burnet"}],category:[{value:"Real Estate Services",term:"realestatesvcs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"140 Elton Hills Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072881234"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.46432,44.04202]}},{type:"Feature",_id:"abercrombie-and-fitch-rochester",properties:{name:"Abercrombie & Fitch",label:[{value:"Abercrombie & Fitch"}],category:[{value:"Department Stores",term:"deptstores",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4uvnYC7gOhjWBVBdItfvlQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072929303"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4805450439453,44.0064697265625]}},{type:"Feature",_id:"jurassic-quest-rochester",properties:{name:"Jurassic Quest",label:[{value:"Jurassic Quest"}],category:[{value:"Arts & Entertainment",term:"arts",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"arts",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"Fairgrounds Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:null},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.460734,44.003025]}},{type:"Feature",_id:"carousel-floral-gift-and-garden-rochester-2",properties:{name:"Carousel Floral Gift and Garden",label:[{value:"Carousel Floral Gift and Garden"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1717 41st St NW",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072584770"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.46422,43.99896]}},{type:"Feature",_id:"visionworks-rochester",properties:{name:"Visionworks",label:[{value:"Visionworks"}],category:[{value:"Optometrists",term:"optometrists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Eyewear & Opticians",term:"opticians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"640 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072521540"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4818501,44.0047838]}},{type:"Feature",_id:"shawn-buryska-coldwell-banker-burnet-rochester",properties:{name:"Shawn Buryska  - Coldwell Banker Burnet",label:[{value:"Shawn Buryska  - Coldwell Banker Burnet"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"140 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072526745"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4640812,44.0423872]}},{type:"Feature",_id:"metcalf-moving-and-storage-co-rochester",properties:{name:"Metcalf Moving & Storage Co.",label:[{value:"Metcalf Moving & Storage Co."}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yNHzFSJwi4F9vxXnzlR6Ew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1550 3Rd Ave Se",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072885255"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4579544067383,44.0003471374512]}},{type:"Feature",_id:"vanity-apache-mall-rochester",properties:{name:"Vanity-Apache Mall",label:[{value:"Vanity-Apache Mall"}],category:[{value:"Shopping Centers",term:"shoppingcenters",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4uvnYC7gOhjWBVBdItfvlQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"658 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072529481"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4820277094841,44.0044894069433]}},{type:"Feature",_id:"woodruff-company-rochester-3",properties:{name:"Woodruff Company",label:[{value:"Woodruff Company"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9rPhTTZZ5MvTRn3BpssI3Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1524 3rd Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072852500"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.45779,44.00089]}},{type:"Feature",_id:"champs-rochester",properties:{name:"Champs",label:[{value:"Champs"}],category:[{value:"Sporting Goods",term:"sportgoods",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1200 12th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075363921"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4805450439453,44.0064697265625]}},{type:"Feature",_id:"david-friedline-rochester",properties:{name:"David Friedline",label:[{value:"David Friedline"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1301 Salem Rd SW, Edina Realty",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072716117"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.48624,44.00641]}},{type:"Feature",_id:"priority-construction-services-rochester",properties:{name:"Priority Construction Services",label:[{value:"Priority Construction Services"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Siding",term:"vinylsiding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/-4ikOn58YFGof3lXLamd8g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"306 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072893275"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.468326,44.043768]}},{type:"Feature",_id:"summit-mortgage-corporation-rochester",properties:{name:"Summit Mortgage Corporation",label:[{value:"Summit Mortgage Corporation"}],category:[{value:"Mortgage Brokers",term:"mortgagebrokers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"315 Elton Hills Dr NW, Ste 102",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072819600"},updated:1510719329087},geometry:{type:"Point",coordinates:[-92.4680841323242,44.0450802510087]}},{type:"Feature",_id:"rochester-city-lines-rochester",properties:{name:"Rochester City Lines",label:[{value:"Rochester City Lines"}],category:[{value:"Public Transportation",term:"publictransport",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/YwQsnkXkIVbkhc9pPAXnew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1825 N Broadway",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072884353"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.461551,44.043708]}},{type:"Feature",_id:"carousel-floral-gift-and-garden-rochester",properties:{name:"Carousel Floral Gift and Garden",label:[{value:"Carousel Floral Gift and Garden"}],category:[{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gift Shops",term:"giftshops",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/LWmiioxCMoALNCPhcWc3jA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1608 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072584770"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.46395,43.99963]}},{type:"Feature",_id:"stone-barn-dentistry-rochester",properties:{name:"Stone Barn Dentistry",label:[{value:"Stone Barn Dentistry"}],category:[{value:"General Dentistry",term:"generaldentistry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"615 16th St SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072882539"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.4726791381836,44.0002746582031]}},{type:"Feature",_id:"americas-best-value-inn-rochester",properties:{name:"America's Best Value Inn",label:[{value:"America's Best Value Inn"}],category:[{value:"Hotels",term:"hotels",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1625 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072812211"},updated:1510719329088},geometry:{type:"Point",coordinates:[-92.4649429321289,43.9985466003418]}},{type:"Feature",_id:"vanderheyden-law-office-pa-rochester",properties:{name:"VanDerHeyden Law Office, PA",label:[{value:"VanDerHeyden Law Office, PA"}],category:[{value:"Bankruptcy Law",term:"bankruptcy",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Divorce & Family Law",term:"divorce",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Personal Injury Law",term:"personal_injury",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/yqPx-8A8g4y2TuWcuJISDQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"302 Elton Hills Dr NW, Ste 300",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072813949"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4681091308594,44.0442924499512]}},{type:"Feature",_id:"glk-orthodontics-rochester",properties:{name:"GLK Orthodontics",label:[{value:"GLK Orthodontics"}],category:[{value:"Orthodontists",term:"orthodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/BsTNN6rcyFQgP_YuWy3RCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1705 South Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072884427"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4643178,43.9978434]}},{type:"Feature",_id:"cj-banks-rochester",properties:{name:"Cj Banks",label:[{value:"Cj Banks"}],category:[{value:"Women's Clothing",term:"womenscloth",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Accessories",term:"accessories",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1030 Apache Mall",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5075297680"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4783249,44.0018425]}},{type:"Feature",_id:"disons-cleaners-and-launderers-rochester-5",properties:{name:"Dison's Cleaners & Launderers",label:[{value:"Dison's Cleaners & Launderers"}],category:[{value:"Laundry Services",term:"laundryservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/uc3iNkVYAUwHm3uIZU4-NA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"304 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072897239"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.467837,44.0445199]}},{type:"Feature",_id:"rochester-family-medicine-clinic-rochester",properties:{name:"Rochester Family Medicine Clinic",label:[{value:"Rochester Family Medicine Clinic"}],category:[{value:"Family Practice",term:"familydr",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"40 16th St SE, Ste E",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880124"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4623641967773,43.9995727539062]}},{type:"Feature",_id:"fantastic-sams-hair-salons-rochester-2",properties:{name:"Fantastic Sams Hair Salons",label:[{value:"Fantastic Sams Hair Salons"}],category:[{value:"Hair Salons",term:"hair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"beautysvc",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1190 16th Street SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072818300"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.47918,44.00032]}},{type:"Feature",_id:"rochester-pediatric-dentistry-rochester-2",properties:{name:"Rochester Pediatric Dentistry",label:[{value:"Rochester Pediatric Dentistry"}],category:[{value:"Pediatric Dentists",term:"pediatric_dentists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1705 S Broadway, Ste B",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072880102"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.46432,43.9978434]}},{type:"Feature",_id:"on-point-auto-service-rochester",properties:{name:"On Point Auto Service",label:[{value:"On Point Auto Service"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tires",term:"tires",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/GjMoNBFGkSCljeovEokgKg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2027 E River Rd NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5075362777"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.46082,44.04519]}},{type:"Feature",_id:"the-ruff-break-rochester",properties:{name:"The Ruff Break",label:[{value:"The Ruff Break"}],category:[{value:"Pet Training",term:"pet_training",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pet Sitting",term:"pet_sitting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/oWWMD73K-fmChKqyHqEwEQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2012 5th Ave NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072619033"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4558715820312,44.0444221496582]}},{type:"Feature",_id:"advanced-periodontics-and-implants-rochester",properties:{name:"Advanced Periodontics and Implants",label:[{value:"Advanced Periodontics and Implants"}],category:[{value:"Periodontists",term:"periodontists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/VmdByomFeeTElEhOwJulrQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2112 Viking Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072089124"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.46764,44.04555]}},{type:"Feature",_id:"chiropractic-solution-rochester-2",properties:{name:"The Chiropractic Solution",label:[{value:"The Chiropractic Solution"}],category:[{value:"Chiropractors",term:"chiropractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/bYjAdMGgz9arTLes4qnNnQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"326 Elton Hills Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072818844"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4680782109499,44.0447594225407]}},{type:"Feature",_id:"outdoor-services-rochester",properties:{name:"Outdoor Services",label:[{value:"Outdoor Services"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1725 1st Ave SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072825841"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4625244140625,43.9971313476562]}},{type:"Feature",_id:"joshua-becker-photography-rochester",properties:{name:"Joshua Becker Photography",label:[{value:"Joshua Becker Photography"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/vCWcN24aKyGqtnfVxHk7QA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"832 Sierra Ln NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072504110"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.44972,44.04227]}},{type:"Feature",_id:"carwash-usa-rochester",properties:{name:"Carwash USA",label:[{value:"Carwash USA"}],category:[{value:"Car Wash",term:"carwash",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1727 S Broadway",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528011"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.4636927992105,43.9973708242178]}},{type:"Feature",_id:"maier-tree-and-lawn-rochester",properties:{name:"Maier Tree & Lawn",label:[{value:"Maier Tree & Lawn"}],category:[{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/tnC_V7S1nxTJVCjK8atQKg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3930 Highway 14 E",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072868733"},updated:1510719329967},geometry:{type:"Point",coordinates:[-92.40157,44.01157]}},{type:"Feature",_id:"rent-me-and-my-truck-rochester",properties:{name:"Rent Me & My Truck",label:[{value:"Rent Me & My Truck"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Truck Rental",term:"truck_rental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/zPvqcSTIjwQIrlaU2ssXEw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2315 Park Ln",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072714800"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.421512,44.01299]}},{type:"Feature",_id:"all-craft-exteriors-rochester",properties:{name:"All Craft Exteriors",label:[{value:"All Craft Exteriors"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gutter Services",term:"gutterservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1DG6zUSBc9fJVWi2Viti9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4410 19th St NW, Ste 201",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5074243323"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.530083,44.04229]}},{type:"Feature",_id:"john-sharpe-photography-rochester",properties:{name:"John Sharpe Photography",label:[{value:"John Sharpe Photography"}],category:[{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/SHtP4ACexseaxI6dugRlKA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"6124326473"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.524418,44.005099]}},{type:"Feature",_id:"allstar-auto-repair-of-rochester-rochester",properties:{name:"Allstar Auto Repair of Rochester",label:[{value:"Allstar Auto Repair of Rochester"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3850 Highway 14 E",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072881645"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.4025344848633,44.0115737915039]}},{type:"Feature",_id:"k-and-s-heating-air-conditioning-plumbing-and-electric-rochester",properties:{name:"K & S Heating Air Conditioning Plumbing & Electric",label:[{value:"K & S Heating Air Conditioning Plumbing & Electric"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electricians",term:"electricians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4205 Hwy 14 W",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072824328"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.52632,44.03977]}},{type:"Feature",_id:"top-shop-of-rochester-rochester",properties:{name:"The Top Shop Of Rochester",label:[{value:"The Top Shop Of Rochester"}],category:[{value:"Countertop Installation",term:"countertopinstall",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/0wuufVT_hpLwAYd3bettnA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"235 Woodlake Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072829129"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.4556427001953,43.9740791320801]}},{type:"Feature",_id:"piepho-moving-and-storage-rochester-3",properties:{name:"Piepho Moving & Storage",label:[{value:"Piepho Moving & Storage"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4121 Hwy 14 W",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072894515"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.52402,44.03957]}},{type:"Feature",_id:"denel-ihde-sparks-re-max-results-rochester",properties:{name:"Denel Ihde-Sparks-RE/MAX Results",label:[{value:"Denel Ihde-Sparks-RE/MAX Results"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4600 18th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072877773"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.488093,44.070409]}},{type:"Feature",_id:"melanie-schmidt-re-max-results-rochester",properties:{name:"Melanie Schmidt-RE/MAX Results",label:[{value:"Melanie Schmidt-RE/MAX Results"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4123 26th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072598836"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5236628,44.050577]}},{type:"Feature",_id:"matik-management-rochester-2",properties:{name:"Matik Management",label:[{value:"Matik Management"}],category:[{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Services",term:"realestatesvcs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3249 19th St NW, Ste 3",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072160064"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5118707,44.0436202]}},{type:"Feature",_id:"charter-communications-rochester",properties:{name:"Charter Communications",label:[{value:"Charter Communications"}],category:[{value:"Television Service Providers",term:"televisionserviceproviders",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/KuexRXpTwrKzUe2h-sRkjw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3993 Heritage Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"8884382427"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.523567199707,44.0465202331543]}},{type:"Feature",_id:"salt-and-pepper-photography-rochester",properties:{name:"Salt & Pepper Photography",label:[{value:"Salt & Pepper Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2220 Bamber Valley Rd SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072819312"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5012,43.98885]}},{type:"Feature",_id:"hoyer-construction-rochester-3",properties:{name:"Hoyer Construction",label:[{value:"Hoyer Construction"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Decks & Railing",term:"decksrailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3902 16th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5073589673"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.4861221313477,44.0633201599121]}},{type:"Feature",_id:"ever-after-entertainment-rochester",properties:{name:"Ever After Entertainment",label:[{value:"Ever After Entertainment"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Photo Booth Rentals",term:"photoboothrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Equipment Rentals",term:"partyequipmentrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/g_m_c3KjsCNYcQAbEI_QGw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4071 4th Pl NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072168900"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5262145996094,44.0282363891602]}},{type:"Feature",_id:"above-all-roofing-of-rochester-rochester-2",properties:{name:"Above All Roofing Of Rochester",label:[{value:"Above All Roofing Of Rochester"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1086 Pendant Ln NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072818585"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.52446,44.03769]}},{type:"Feature",_id:"destiny-limousine-rochester",properties:{name:"Destiny Limousine",label:[{value:"Destiny Limousine"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072067437"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5177764892578,43.968090057373]}},{type:"Feature",_id:"david-birka-coldwell-banker-at-your-service-realty-rochester-3",properties:{name:"David Birka  - Coldwell Banker At Your Service Realty",label:[{value:"David Birka  - Coldwell Banker At Your Service Realty"}],category:[{value:"Real Estate Agents",term:"realestateagents",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2510 Superior Dr NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072501000"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.522432,44.049436]}},{type:"Feature",_id:"hathaway-tree-service-rochester",properties:{name:"Hathaway Tree Service Inc Rochester",label:[{value:"Hathaway Tree Service Inc Rochester"}],category:[{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Recycling Center",term:"recyclingcenter",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2555 50th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072824777"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5398178100586,44.0501098632812]}},{type:"Feature",_id:"excel-homes-rochester",properties:{name:"Excel Homes",label:[{value:"Excel Homes"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/FtPRSFpU600ldW4ev5SCWQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4123 26th St NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072081950"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.5233930721879,44.0507361088529]}},{type:"Feature",_id:"twisted-barrel-wood-fired-pizza-rochester",properties:{name:"Twisted Barrel Wood Fired Pizza",label:[{value:"Twisted Barrel Wood Fired Pizza"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Pizza",term:"pizza",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073583987"},updated:1510719329968},geometry:{type:"Point",coordinates:[-92.47026,44.01915]}},{type:"Feature",_id:"service-pros-plumbing-and-heating-rochester-3",properties:{name:"Service Pros Plumbing & Heating",label:[{value:"Service Pros Plumbing & Heating"}],category:[{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Purification Services",term:"waterpurification",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Water Heater Installation/Repair",term:"waterheaterinstallrepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PSy6upRWVZBBDNb58kA9Ww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072826238"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.47026,44.01915]}},{type:"Feature",_id:"haley-comfort-systems-rochester-3",properties:{name:"Haley Comfort Systems",label:[{value:"Haley Comfort Systems"}],category:[{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fireplace Services",term:"fireplace",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home & Garden",term:"homeandgarden",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/SBxKYkScvV5ztll16mGKLw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4320 US 52 N",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072810138"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.5031677,44.068577]}},{type:"Feature",_id:"midwest-lifeshots-photography-rochester-3",properties:{name:"Midwest LifeShots Photography",label:[{value:"Midwest LifeShots Photography"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/oHxkUSEhUgRW1FctpCiaAw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2932 Shadow Dr SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5079518859"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.38325,43.97868]}},{type:"Feature",_id:"total-music-dj-systems-stewartville",properties:{name:"Total Music DJ Systems",label:[{value:"Total Music DJ Systems"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Photo Booth Rentals",term:"photoboothrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2010 Nightingale Ave NW",city:"Stewartville",state_code:"MN",zip:"55976"},phone:"5072593191"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.5098914,44.0780552]}},{type:"Feature",_id:"walk-on-wood-rochester",properties:{name:"Walk on Wood",label:[{value:"Walk on Wood"}],category:[{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Siding",term:"vinylsiding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpeting",term:"carpeting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"4867 19th St",city:"Rochester",state_code:"MN",zip:"55956"},phone:"5075562016"},updated:1510719329969},geometry:{type:"Point",coordinates:[-92.5367,44.043233]}},{type:"Feature",_id:"truckin-america-rochester-5",properties:{name:"Truckin' America",label:[{value:"Truckin' America"}],category:[{value:"Auto Parts & Supplies",term:"autopartssupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Auto Detailing",term:"auto_detailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/VjcrV7Fo9DzcvdQ4Z2a1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4720 Hwy 52 N",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072859855"},updated:1510719330928},geometry:{type:"Point",coordinates:[-92.5023319,44.0713636]}},{type:"Feature",_id:"dirty-deeds-done-dirt-cheap-rochester",properties:{name:"Dirty Deeds Done Dirt Cheap",label:[{value:"Dirty Deeds Done Dirt Cheap"}],category:[{value:"Junk Removal & Hauling",term:"junkremovalandhauling",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/kD7FUH00Ovp8nPzoIRpDUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"Cnty Rd 9",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072690136"},updated:1510719330928},geometry:{type:"Point",coordinates:[-92.421041,43.957854]}},{type:"Feature",_id:"hauser-dry-emergency-water-removal-rochester",properties:{name:"Hauser Dry Emergency Water Removal",label:[{value:"Hauser Dry Emergency Water Removal"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/A2-2alYJ3lFNI1sj14fUEA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"4496 20th St SE",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5078819050"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.3906793,43.9924866]}},{type:"Feature",_id:"thompsons-garage-door-and-openers-rochester",properties:{name:"Thompson's Garage Door and Openers",label:[{value:"Thompson's Garage Door and Openers"}],category:[{value:"Garage Door Services",term:"garage_door_services",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9TnvGbToYpmlvJqDDRze9A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6101 Bandel Rd NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072811349"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5097122192383,44.0882568359375]}},{type:"Feature",_id:"sunflower-photography-rochester",properties:{name:"Sunflower Photography",label:[{value:"Sunflower Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5073228102"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.47026,44.01915]}},{type:"Feature",_id:"home-doctors-rochester",properties:{name:"Home Doctors",label:[{value:"Home Doctors"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5074217315"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.4030380249023,43.9561004638672]}},{type:"Feature",_id:"astorinos-tree-service-rochester",properties:{name:"Astorino's Tree Service",label:[{value:"Astorino's Tree Service"}],category:[{value:"Tree Services",term:"treeservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Snow Removal",term:"snowremoval",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/R1XsOGGKi8BKlFA__eNSsg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072733616"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.48313,44.06082]}},{type:"Feature",_id:"hire-a-crew-rochester",properties:{name:"Hire-A-Crew",label:[{value:"Hire-A-Crew"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5076960578"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5123748779297,44.075138092041]}},{type:"Feature",_id:"two-men-and-a-truck-rochester-rochester",properties:{name:"Two Men and a Truck Rochester",label:[{value:"Two Men and a Truck Rochester"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ktxleungJVlIVzz73xhHbA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6047 Rome Circle NW, Suite 1",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072059434"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.51293,44.08756]}},{type:"Feature",_id:"molly-maid-of-rochester-rochester-2",properties:{name:"MOLLY MAID of Rochester",label:[{value:"MOLLY MAID of Rochester"}],category:[{value:"Home Cleaning",term:"homecleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/P5OuxI9isouH2igNlxDn0g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"6093 Rome Cir NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072853196"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5141649,44.0879704]}},{type:"Feature",_id:"sargents-landscape-nursery-rochester",properties:{name:"Sargent's Landscape Nursery",label:[{value:"Sargent's Landscape Nursery"}],category:[{value:"Nurseries & Gardening",term:"gardening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Florists",term:"florists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/pgd5cEai7OGPmjAJu6M0Vw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7955 18th Ave NW",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072890022"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.490924,44.113616]}},{type:"Feature",_id:"polytek-of-rochester-rochester",properties:{name:"Polytek of Rochester",label:[{value:"Polytek of Rochester"}],category:[{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/PSy6upRWVZBBDNb58kA9Ww/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3925 Marion Rd SE, Ste 3",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072528112"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.3764572143555,43.9649467468262]}},{type:"Feature",_id:"north-country-locksmith-rochester-4",properties:{name:"North Country Locksmith",label:[{value:"North Country Locksmith"}],category:[{value:"Keys & Locksmiths",term:"locksmiths",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/dZj_vqrtnyaNObPxXZYPgw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5079939389"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.45401,44.04051]}},{type:"Feature",_id:"root-river-inspections-rochester",properties:{name:"Root River Inspections",label:[{value:"Root River Inspections"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/ZCnh7oI-LljJAWy0YWtqRA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3936 E Frontage Rd, Ste 156",city:"Rochester",state_code:"MN",zip:"55901"},phone:"5072541391"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.51791065625,44.0992339898612]}},{type:"Feature",_id:"custom-retaining-walls-and-landscaping-rochester-3",properties:{name:"Custom Retaining Walls and Landscaping",label:[{value:"Custom Retaining Walls and Landscaping"}],category:[{value:"Nurseries & Gardening",term:"gardening",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Patio Coverings",term:"patiocoverings",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2375 Sleeper Ln NE",city:"Rochester",state_code:"MN",zip:"55906"},phone:"5072810669"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.430702,44.107318]}},{type:"Feature",_id:"yellow-cab-of-rochester-rochester-2",properties:{name:"Yellow Cab of Rochester",label:[{value:"Yellow Cab of Rochester"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Taxis",term:"taxis",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/YRTOfQA-zlmsH8gniiXpCw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"7201 22nd Ave SW",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072822222"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.4955978393555,44.013069152832]}},{type:"Feature",_id:"garten-marketplatz-perennial-farms-byron",properties:{name:"Garten Marketplatz Perennial Farms",label:[{value:"Garten Marketplatz Perennial Farms"}],category:[{value:"Venues & Event Spaces",term:"venues",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Flowers & Gifts",term:"flowers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ZQE2WpAUtGixXtllXiJ1pg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5225 County Road 15 SW",city:"Byron",state_code:"MN",zip:"55920"},phone:"5073658891"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.579077,43.9462144]}},{type:"Feature",_id:"ryan-windows-and-siding-oronoco-2",properties:{name:"Ryan Windows & Siding",label:[{value:"Ryan Windows & Siding"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Siding",term:"vinylsiding",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"3750 85th St NW",city:"Oronoco",state_code:"MN",zip:"55960"},phone:"5072816363"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.5194529153442,44.1222695100065]}},{type:"Feature",_id:"star-limousine-rochester",properties:{name:"Star Limousine",label:[{value:"Star Limousine"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"7828 Leqve Dr SW, Ste A",city:"Rochester",state_code:"MN",zip:"55902"},phone:"5072810969"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.4883018,43.9101207]}},{type:"Feature",_id:"a-smooth-move-rochester",properties:{name:"A Smooth Move",label:[{value:"A Smooth Move"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"5397 Hwy 52 S",city:"Rochester",state_code:"MN",zip:"55904"},phone:"5072806683"},updated:1510719330929},geometry:{type:"Point",coordinates:[-92.3514251708984,43.9434776306152]}},{type:"Feature",_id:"the-move-crew-saint-paul",properties:{name:"The Move Crew",label:[{value:"The Move Crew"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/oz-JgrJhu78wuEwoKeT-tg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"840 Hampden Ave, Ste 211",city:"Saint Paul",state_code:"MN",zip:"55114"},phone:"6123616787"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1923765689135,44.9664455652237]}},{type:"Feature",_id:"bings-minneapolis",properties:{name:"Bings",label:[{value:"Bings"}],category:[{value:"Car Window Tinting",term:"carwindowtinting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vehicle Wraps",term:"vehiclewraps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Window Tinting",term:"homewindowtinting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/9WI4ELiMGBH0esfAtXpTRQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3725 Elliot Ave S",city:"Minneapolis",state_code:"MN",zip:"55407"},phone:"6513578603"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.2609212046702,44.9350886513268]}},{type:"Feature",_id:"mr-nice-guys-limousine-service-golden-valley-3",properties:{name:"Mr Nice Guy's Limousine Service",label:[{value:"Mr Nice Guy's Limousine Service"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Town Car Service",term:"towncarservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/6FmuzguTRuVoNuFstefgvA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"8134 Golden Valley Rd",city:"Golden Valley",state_code:"MN",zip:"55427"},phone:"6128076776"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.3841397,44.9870508]}},{type:"Feature",_id:"exceptional-transportation-minneapolis",properties:{name:"Exceptional Transportation",label:[{value:"Exceptional Transportation"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/sLv-UCPxSy7hrph_WdNvkg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55447"},phone:"6129635466"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.48804,45.0009]}},{type:"Feature",_id:"moments-shared-photography-minneapolis-2",properties:{name:"Moments Shared Photography",label:[{value:"Moments Shared Photography"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/j3p7p9DQeqmQjvualhwW3A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"505 1st Ave NE, Fl 4",city:"Minneapolis",state_code:"MN",zip:"55413"},phone:"6122347627"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.25398,44.9904]}},{type:"Feature",_id:"rj-moving-blaine",properties:{name:"RJ Moving",label:[{value:"RJ Moving"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/8pEnQK4HGOzFMbvVGsKAAQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"10044 Flanders Ct NE, Ste 300",city:"Blaine",state_code:"MN",zip:"55449"},phone:"6123842028"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.195187,45.151934]}},{type:"Feature",_id:"zippy-shell-of-minneapolis-south-st-paul",properties:{name:"Zippy Shell of Minneapolis",label:[{value:"Zippy Shell of Minneapolis"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/yd_7LuT949kbxxczoq1NrA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"305 Bridgepoint Dr, Ste 100",city:"South St. Paul",state_code:"MN",zip:"55075"},phone:"6123263910"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.0283118784428,44.8900213837624]}},{type:"Feature",_id:"shepard-road-airport-parking-saint-paul",properties:{name:"Shepard Road Airport Parking",label:[{value:"Shepard Road Airport Parking"}],category:[{value:"Parking",term:"parking",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/lskqnlQp9VvACcBgr73sOQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1465 Davern St",city:"Saint Paul",state_code:"MN",zip:"55116"},phone:"6516901200"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1749496459961,44.8967170715332]}},{type:"Feature",_id:"ez-air-park-eagan",properties:{name:"Ez Air Park",label:[{value:"Ez Air Park"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Parking",term:"parking",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/BG8IRVXRLLQ_8ZD64yTBmg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2804 Lexington Ave S",city:"Eagan",state_code:"MN",zip:"55121"},phone:"6517777275"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.14439,44.85508]}},{type:"Feature",_id:"knowmad-adventures-minneapolis",properties:{name:"Knowmad Adventures",label:[{value:"Knowmad Adventures"}],category:[{value:"Travel Services",term:"travelservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Tours",term:"tours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/3u4_k1ku9nMVA2bWAFXq-g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"911 W 36th St",city:"Minneapolis",state_code:"MN",zip:"55408"},phone:"6123152894"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.2913459,44.9374937]}},{type:"Feature",_id:"bobs-construction-oronoco-2",properties:{name:"Bob's Construction",label:[{value:"Bob's Construction"}],category:[{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Door Sales/Installation",term:"doorsales",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"589A Lake Shady Ave N",city:"Oronoco",state_code:"MN",zip:"55960"},phone:"5072888379"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.55072,44.16803]}},{type:"Feature",_id:"blurberrybuzz-body-art-rosemount",properties:{name:"Blurberrybuzz Body Art",label:[{value:"Blurberrybuzz Body Art"}],category:[{value:"Henna Artists",term:"hennaartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Face Painting",term:"facepainting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/TXNafn94lSRR-XE2G6mg9g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Rosemount",state_code:"MN",zip:"55068"},phone:"6123088000"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1264267589996,44.7395932003116]}},{type:"Feature",_id:"flat-price-moving-and-auto-shipping-minneapolis",properties:{name:"Flat Price Moving and Auto Shipping",label:[{value:"Flat Price Moving and Auto Shipping"}],category:[{value:"Vehicle Shipping",term:"vehicleshipping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/Ug4Q_37lhmX961gnaBzcuA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55413"},phone:"6125403308"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.25571,44.99521]}},{type:"Feature",_id:"icc-restoration-and-cleaning-services-woodbury",properties:{name:"ICC Restoration & Cleaning Services",label:[{value:"ICC Restoration & Cleaning Services"}],category:[{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/gASfE3iCgzFlfWF_m37-Iw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"451 Commerce Dr, Ste 800",city:"Woodbury",state_code:"MN",zip:"55125"},phone:"6517394289"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.9114479,44.940847]}},{type:"Feature",_id:"minnesnowii-shave-ice-savage-2",properties:{name:"Minnesnowii Shave Ice",label:[{value:"Minnesnowii Shave Ice"}],category:[{value:"Food Trucks",term:"foodtrucks",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Street Vendors",term:"streetvendors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Shaved Ice",term:"shavedice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"food",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/0xZn8-2R5CYF8_ED_xwFIg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Savage",state_code:"MN",zip:"55378"},phone:"9524860079"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.3354608,44.7790237]}},{type:"Feature",_id:"dawn-sanborn-photography-pine-island",properties:{name:"Dawn Sanborn Photography",label:[{value:"Dawn Sanborn Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/N1v0SeW4sITNUYQqrje3eA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"222 S Main St",city:"Pine Island",state_code:"MN",zip:"55963"},phone:"5072524662"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.64657,44.2010099]}},{type:"Feature",_id:"rock-solid-retaining-walls-and-landscaping-oronoco",properties:{name:"Rock Solid Retaining Walls & Landscaping",label:[{value:"Rock Solid Retaining Walls & Landscaping"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"13345 Postier Dr NW",city:"Oronoco",state_code:"MN",zip:"55960"},phone:"5073988231"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.4832305908203,44.1926498413086]}},{type:"Feature",_id:"master-transmission-and-auto-care-rosemount-2",properties:{name:"Master Transmission & Auto Care",label:[{value:"Master Transmission & Auto Care"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/y_-PjfIujqxKkCth5bmrew/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"14805 S Robert Trl",city:"Rosemount",state_code:"MN",zip:"55068"},phone:"6514234221"},updated:1510719330930},geometry:{type:"Point",coordinates:[-93.1268,44.73416]}},{type:"Feature",_id:"33rd-company-woodbury-3",properties:{name:"33rd Company",label:[{value:"33rd Company"}],category:[{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/51OyKiPbALXV4Co51pIj1A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1800 Wooddale Drive, Suite 100",city:"Woodbury",state_code:"MN",zip:"55125"},phone:"6517775500"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.9669,44.92324]}},{type:"Feature",_id:"cannon-falls-canoe-and-bike-rental-cannon-falls",properties:{name:"Cannon Falls Canoe & Bike Rental",label:[{value:"Cannon Falls Canoe & Bike Rental"}],category:[{value:"Rafting/Kayaking",term:"rafting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bike Rentals",term:"bikerentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Fishing",term:"fishing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"active",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/AIwBOuLhLTmHC6mJe_UwUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"615 N 5th St",city:"Cannon Falls",state_code:"MN",zip:"55009"},phone:"5074074111"},updated:1510719330930},geometry:{type:"Point",coordinates:[-92.9067958,44.51295]}},{type:"Feature",_id:"mn-black-car-service-minnetonka-3",properties:{name:"MN Black Car Service",label:[{value:"MN Black Car Service"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Town Car Service",term:"towncarservice",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/1UnyJGynLCPmas-bhYbdFQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minnetonka",state_code:"MN",zip:"55305"},phone:"6127351318"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.40582,44.95086]}},{type:"Feature",_id:"camp-faribo-faribault",properties:{name:"Camp Faribo",label:[{value:"Camp Faribo"}],category:[{value:"RV Rental",term:"rvrental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Campgrounds",term:"campgrounds",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/4HaMC9ajHBrrHtpR3lhwqw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"21851 Bagley Ave",city:"Faribault",state_code:"MN",zip:"55021"},phone:"5073328453"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3013076782227,44.2716827392578]}},{type:"Feature",_id:"jordana-snyder-photography-la-crosse",properties:{name:"Jordana Snyder Photography",label:[{value:"Jordana Snyder Photography"}],category:[{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/l7r__sBHWuJEf3v6oTdLYw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"115 5th Ave S",city:"La Crosse",state_code:"WI",zip:"54601"},phone:"6083975854"},updated:1510719331787},geometry:{type:"Point",coordinates:[-91.249733,43.8113594]}},{type:"Feature",_id:"del-the-inspector-new-richmond",properties:{name:"Del The Inspector",label:[{value:"Del The Inspector"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/BASfFSnVnGk1rRHl4UuPzg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"New Richmond",state_code:"WI",zip:"54017"},phone:"7153388768"},updated:1510719331787},geometry:{type:"Point",coordinates:[-92.53758,45.12213]}},{type:"Feature",_id:"samia-car-service-minneapolis",properties:{name:"Samia Car Service",label:[{value:"Samia Car Service"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/jgc2NeLQL3l9jok-IamSmQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"2515 South 9th St, Ste 505",city:"Minneapolis",state_code:"MN",zip:"55406"},phone:"6125984086"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.234517,44.963643]}},{type:"Feature",_id:"1st-class-transportation-st-louis-park",properties:{name:"1st Class Transportation",label:[{value:"1st Class Transportation"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party Bus Rentals",term:"partybusrentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Wine Tours",term:"winetours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/1GVFcv91IyMP9Yv90wvbHw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5115 Excelsior Blvd, Ste 377",city:"St. Louis Park",state_code:"MN",zip:"55416"},phone:"6122314446"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3464526,44.9305688]}},{type:"Feature",_id:"roots-to-stars-minneapolis",properties:{name:"Roots To Stars",label:[{value:"Roots To Stars"}],category:[{value:"Reiki",term:"reiki",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Life Coach",term:"lifecoach",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Supernatural Readings",term:"psychic_astrology",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"health",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/3XDLB-y8uHXDx1diTrFwJA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55416"},phone:"9195782774"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3407440185547,44.9505195617676]}},{type:"Feature",_id:"dust-doctors-little-canada",properties:{name:"Dust Doctors",label:[{value:"Dust Doctors"}],category:[{value:"Air Duct Cleaning",term:"airductcleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"102 W County Rd C, Ste B",city:"Little Canada",state_code:"MN",zip:"55117"},phone:"6519642004"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.1044732,45.0207455]}},{type:"Feature",_id:"rons-repair-owatonna",properties:{name:"Ron's Repair",label:[{value:"Ron's Repair"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Oil Change Stations",term:"oilchange",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Towing",term:"towing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/xiPr3AzonMGwVq7M_tYpqw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"505 W N St",city:"Owatonna",state_code:"MN",zip:"55060"},phone:"5074518678"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.23674,44.09278]}},{type:"Feature",_id:"minnestay-minneapolis",properties:{name:"Minnestay",label:[{value:"Minnestay"}],category:[{value:"Vacation Rentals",term:"vacation_rentals",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Property Management",term:"propertymgmt",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"RV Rental",term:"rvrental",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/AKml1INK92J8sabNUdU9Xg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3628 Nicollet Ave",city:"Minneapolis",state_code:"MN",zip:"55409"},phone:"6122165511"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.278442,44.936807]}},{type:"Feature",_id:"limo-express-lakeville",properties:{name:"Limo Express",label:[{value:"Limo Express"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/5r5KAe0lWR-rdTp_EFNaWA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"10023 166th St W",city:"Lakeville",state_code:"MN",zip:"55044"},phone:"9523344754"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.268593,44.709849]}},{type:"Feature",_id:"standard-water-control-systems-crystal",properties:{name:"Standard Water Control Systems",label:[{value:"Standard Water Control Systems"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/eoqhKfuA_izZP1JSWjPP5A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5337 Lakeland Ave N",city:"Crystal",state_code:"MN",zip:"55429"},phone:"7635374849"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3545288443565,45.0499923527241]}},{type:"Feature",_id:"cliqstudios-bloomington-2",properties:{name:"CliqStudios",label:[{value:"CliqStudios"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Cabinetry",term:"cabinetry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/rwzZ6aqNcUZ_PLu6DoX1xQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5600 W 83rd St, 8200 Tower, Ste 400",city:"Bloomington",state_code:"MN",zip:"55437"},phone:"8883501242"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.3552455,44.8544119]}},{type:"Feature",_id:"pine-home-services-pine-island",properties:{name:"Pine Home Services",label:[{value:"Pine Home Services"}],category:[{value:"Heating & Air Conditioning/HVAC",term:"hvac",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electricians",term:"electricians",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Plumbing",term:"plumbing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"314 S Main St",city:"Pine Island",state_code:"MN",zip:"55963"},phone:"5072895900"},updated:1510719331787},geometry:{type:"Point",coordinates:[-92.64675,44.19997]}},{type:"Feature",_id:"mingle-plymouth",properties:{name:"Mingle",label:[{value:"Mingle"}],category:[{value:"Cabinetry",term:"cabinetry",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/V04Scc6JOqSBJDEO_6OWsg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"12955 Hwy 55",city:"Plymouth",state_code:"MN",zip:"55441"},phone:"7637178500"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.4441809,45.0021859]}},{type:"Feature",_id:"pella-windows-and-doors-plymouth-2",properties:{name:"Pella Windows and Doors",label:[{value:"Pella Windows and Doors"}],category:[{value:"Windows Installation",term:"windowsinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"13810 24th Ave N, Ste 430",city:"Plymouth",state_code:"MN",zip:"55441"},phone:"6122497371"},updated:1510719331787},geometry:{type:"Point",coordinates:[-93.4550679,45.0057449]}},{type:"Feature",_id:"ressler-photography-kasson",properties:{name:"Ressler Photography",label:[{value:"Ressler Photography"}],category:[{value:"Session Photography",term:"sessionphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Kasson",state_code:"MN",zip:"55944"},phone:"5079517137"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.7509042,44.0295675]}},{type:"Feature",_id:"dish-minneapolis-2",properties:{name:"DISH",label:[{value:"DISH"}],category:[{value:"Television Service Providers",term:"televisionserviceproviders",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/XW87-sPFSFU0DoITR0ASYQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55415"},phone:"8552574147"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2576065063477,44.974967956543]}},{type:"Feature",_id:"its-just-lunch-minneapolis",properties:{name:"Its Just Lunch",label:[{value:"Its Just Lunch"}],category:[{value:"Matchmakers",term:"matchmakers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"professional",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/ctszYe-QfPVR-6qoiSkN5g/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"121 S 8th St, Ste 823",city:"Minneapolis",state_code:"MN",zip:"55402"},phone:"6123767373"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2708917,44.9745384]}},{type:"Feature",_id:"chandler-roofing-and-construction-red-wing-4",properties:{name:"Chandler Roofing & Construction",label:[{value:"Chandler Roofing & Construction"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Gutter Services",term:"gutterservices",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2411 Goodhue St S",city:"Red Wing",state_code:"MN",zip:"55066"},phone:"6513889415"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.518077,44.535302]}},{type:"Feature",_id:"national-metro-movers-cottage-grove",properties:{name:"National Metro Movers",label:[{value:"National Metro Movers"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Cottage Grove",state_code:"MN",zip:"55016"},phone:"6513536479"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.9491,44.83371]}},{type:"Feature",_id:"compview-audio-visual-saint-paul",properties:{name:"CompView Audio Visual",label:[{value:"CompView Audio Visual"}],category:[{value:"Home Theatre Installation",term:"hometheatreinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/5WLJYQ-S6iqzniAWFkQntg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1400 Energy Park Dr, Ste 16",city:"Saint Paul",state_code:"MN",zip:"55108"},phone:"6516474354"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.1594772,44.9708595]}},{type:"Feature",_id:"act-landscaping-preston",properties:{name:"ACT Landscaping",label:[{value:"ACT Landscaping"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/lq-S_1t4Rw8gJYANHSRaKQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"112 Maple St SW",city:"Preston",state_code:"MN",zip:"55965"},phone:"5078845636"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.0815643,43.6630759]}},{type:"Feature",_id:"fixaphone-austin-2",properties:{name:"FixAPhone",label:[{value:"FixAPhone"}],category:[{value:"Mobile Phone Repair",term:"mobilephonerepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/B1Wb-0GAVQusB4lp3yxEiw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1002 W Oakland Ave",city:"Austin",state_code:"MN",zip:"55912"},phone:"5074337070"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.9862803368139,43.6666312773075]}},{type:"Feature",_id:"red-carpet-movers-and-cleaners-minneapolis",properties:{name:"Red Carpet Movers & Cleaners",label:[{value:"Red Carpet Movers & Cleaners"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Cleaning",term:"homecleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55408"},phone:"6124074268"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.29413,44.94829]}},{type:"Feature",_id:"vinyl-fence-wholesaler-st-paul",properties:{name:"Vinyl Fence Wholesaler",label:[{value:"Vinyl Fence Wholesaler"}],category:[{value:"Fences & Gates",term:"fencesgates",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Decks & Railing",term:"decksrailing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"14607 Felton Ct",city:"St Paul",state_code:"MN",zip:"55124"},phone:"5072064154"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.1952856,44.7385329]}},{type:"Feature",_id:"ceramic-tileworks-maple-grove",properties:{name:"Ceramic Tileworks",label:[{value:"Ceramic Tileworks"}],category:[{value:"Building Supplies",term:"buildingsupplies",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Flooring",term:"flooring",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Kitchen & Bath",term:"kitchenandbath",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"11225 86th Ave N",city:"Maple Grove",state_code:"MN",zip:"55369"},phone:"7634935238"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.4233551025391,45.1099395751953]}},{type:"Feature",_id:"dulce-vita-burnsville-5",properties:{name:"Dulce Vita",label:[{value:"Dulce Vita"}],category:[{value:"Photographers",term:"photographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Hair Stylists",term:"hairstylists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Makeup Artists",term:"makeupartists",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/-OrttwjFS-ypZFyDTlfCdA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Burnsville",state_code:"MN",zip:"55337"},phone:"6123616370"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2828826904297,44.769962310791]}},{type:"Feature",_id:"everest-home-inspectors-lakeville-2",properties:{name:"Everest Home Inspectors",label:[{value:"Everest Home Inspectors"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/2Pbc2YeyLlOQsMSbTthbZQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"19226 Hilldale Ave",city:"Lakeville",state_code:"MN",zip:"55044"},phone:"6126430055"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.24113,44.67224]}},{type:"Feature",_id:"land-to-air-express-mankato",properties:{name:"Land To Air Express",label:[{value:"Land To Air Express"}],category:[{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"50 Sibley Pkwy",city:"Mankato",state_code:"MN",zip:"56001"},phone:"5076253977"},updated:1510719331788},geometry:{type:"Point",coordinates:[-94.0139846801758,44.1624412536621]}},{type:"Feature",_id:"to-serve-contracting-new-hope",properties:{name:"To Serve Contracting",label:[{value:"To Serve Contracting"}],category:[{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/juOwvQhexDAfu6c_Y-sZEw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"5407 Boone Ave N",city:"New Hope",state_code:"MN",zip:"55428"},phone:"7634257663"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.3913013,45.051092]}},{type:"Feature",_id:"organic-lawns-by-lunseth-bloomington",properties:{name:"Organic Lawns by LUNSETH",label:[{value:"Organic Lawns by LUNSETH"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/sqcKd3ngsNKEd_-bxb2HZA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"9641 James Ave S",city:"Bloomington",state_code:"MN",zip:"55423"},phone:"6122261898"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.3011351,44.829135]}},{type:"Feature",_id:"cross-country-movers-minneapolis",properties:{name:"Cross Country Movers",label:[{value:"Cross Country Movers"}],category:[{value:"Movers",term:"movers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Vehicle Shipping",term:"vehicleshipping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Self Storage",term:"selfstorage",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/MSUeaQO6AQZ7kNQIRxJCHQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Minneapolis",state_code:"MN",zip:"55408"},phone:"6125403306"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.2941284179688,44.9482955932617]}},{type:"Feature",_id:"the-elite-nanny-team-minneapolis",properties:{name:"The Elite Nanny Team",label:[{value:"The Elite Nanny Team"}],category:[{value:"Nanny Services",term:"nannys",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"localservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"1645 Xerxes Ave N",city:"Minneapolis",state_code:"MN",zip:"55411"},phone:"2403308564"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.3188014,44.9967815]}},{type:"Feature",_id:"riggs-roadside-st-peter",properties:{name:"Riggs Roadside",label:[{value:"Riggs Roadside"}],category:[{value:"Auto Repair",term:"autorepair",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Roadside Assistance",term:"roadsideassist",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"auto",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"108 S Minnesota Ave, Ste 700",city:"St. Peter",state_code:"MN",zip:"56082"},phone:"5074694859"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.9558432,44.3258057]}},{type:"Feature",_id:"all-safe-window-cleaning-services-saint-paul-park-2",properties:{name:"All-Safe Window Cleaning Services",label:[{value:"All-Safe Window Cleaning Services"}],category:[{value:"Window Washing",term:"windowwashing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpet Cleaning",term:"carpet_cleaning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"908 Summit Ave",city:"Saint Paul Park",state_code:"MN",zip:"55071"},phone:"6512063549"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.9909909,44.841828]}},{type:"Feature",_id:"all-time-favorites-eagan",properties:{name:"All Time Favorites",label:[{value:"All Time Favorites"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Party & Event Planning",term:"eventplanning",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/NC5kuNmb5b8yYyiMA4e1FQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Eagan",state_code:"MN",zip:"55123"},phone:"6514541124"},updated:1510719331788},geometry:{type:"Point",coordinates:[-93.1469573974609,44.826961517334]}},{type:"Feature",_id:"summit-hill-studios-stillwater",properties:{name:"Summit Hill Studios",label:[{value:"Summit Hill Studios"}],category:[{value:"Videographers",term:"videographers",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Real Estate Photography",term:"estatephotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"216 Myrtle St W, Ste 2262",city:"Stillwater",state_code:"MN",zip:"55082"},phone:"6125030800"},updated:1510719331788},geometry:{type:"Point",coordinates:[-92.8112394,45.0557248]}},{type:"Feature",_id:"verizon-wireless-winona-8",properties:{name:"Verizon Wireless",label:[{value:"Verizon Wireless"}],category:[{value:"Mobile Phones",term:"mobilephones",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Internet Service Providers",term:"isps",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/x-5GXsQyWTaEYRx_AfYENA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"1213 Gilmore Ave, Winona Mall",city:"Winona",state_code:"MN",zip:"55987"},phone:"5074537810"},updated:1510719331789},geometry:{type:"Point",coordinates:[-91.668816,44.046902]}},{type:"Feature",_id:"drurys-fountain",properties:{name:"Drury's",label:[{value:"Drury's"}],category:[{value:"Interior Design",term:"interiordesign",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Furniture Stores",term:"furniture",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Carpeting",term:"carpeting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/H5c_jB4F9mn-drpVrytubg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Fountain",state_code:"MN",zip:"55935"},phone:"5072684363"},updated:1510719331789},geometry:{type:"Point",coordinates:[-92.1349563598633,43.7393951416016]}},{type:"Feature",_id:"new-dimension-electronics-austin",properties:{name:"New Dimension Electronics",label:[{value:"New Dimension Electronics"}],category:[{value:"Electronics",term:"electronics",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Home Theatre Installation",term:"hometheatreinstallation",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"TV Mounting",term:"tvmounting",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"shopping",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/photo/XQ7FK0EFUcuE-onCVSYo9Q/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"209 11th St NE",city:"Austin",state_code:"MN",zip:"55912"},phone:"5074332122"},updated:1510719332357},geometry:{type:"Point",coordinates:[-92.9587578,43.667495]}},{type:"Feature",_id:"supreme-images-photography-minneapolis",properties:{name:"Supreme Images Photography",label:[{value:"Supreme Images Photography"}],category:[{value:"Event Photography",term:"eventphotography",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"2542 Blaisdell Ave",city:"Minneapolis",state_code:"MN",zip:"55404"},phone:"6128740964"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.2801099,44.95606]}},{type:"Feature",_id:"bauer-restoration-faribault-2",properties:{name:"Bauer Restoration",label:[{value:"Bauer Restoration"}],category:[{value:"Damage Restoration",term:"damagerestoration",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/1hn0dwWgugIC1jS1_6aUIQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"933 Hulett Ave, Ste 2",city:"Faribault",state_code:"MN",zip:"55021"},phone:"5073339838"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.2888265,44.3001063]}},{type:"Feature",_id:"midwest-concrete-professionals-onalaska-3",properties:{name:"Midwest Concrete Professionals",label:[{value:"Midwest Concrete Professionals"}],category:[{value:"Masonry/Concrete",term:"masonry_concrete",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/2mz5X2ailmvzkM30vpEjxQ/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"La Crosse",state_code:"WI",zip:"54603"},phone:"6087975134"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.219353,43.818786]}},{type:"Feature",_id:"minnesota-home-remodeling-minneapolis",properties:{name:"Minnesota Home Remodeling",label:[{value:"Minnesota Home Remodeling"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Contractors",term:"contractors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/ze9bipVRTCJCDT3oEjbk_A/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"100 S 5th St, Ste 700",city:"Minneapolis",state_code:"MN",zip:"55402"},phone:"6128020900"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.20558203125,44.9920412788697]}},{type:"Feature",_id:"advanced-home-inspections-onalaska",properties:{name:"Advanced Home Inspections",label:[{value:"Advanced Home Inspections"}],category:[{value:"Home Inspectors",term:"home_inspectors",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media4.fl.yelpcdn.com/photo/xzl2MMiMMivkbFVMEJWRJw/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"120 11th Ave S",city:"Onalaska",state_code:"WI",zip:"54650"},phone:"6087923657"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.2227599,43.88342]}},{type:"Feature",_id:"bark-busters-home-dog-training-dakota-county-apple-valley",properties:{name:"Bark Busters Home Dog Training Dakota County",label:[{value:"Bark Busters Home Dog Training Dakota County"}],category:[{value:"Pet Training",term:"pet_training",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"pets",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media2.fl.yelpcdn.com/photo/y4DFIKd0rzKM4J9NllnxDg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Apple Valley",state_code:"MN",zip:"55124"},phone:"8775002275"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.21116,44.73352]}},{type:"Feature",_id:"interstate-roofing-and-waterproofing-onalaska-2",properties:{name:"Interstate Roofing & Waterproofing",label:[{value:"Interstate Roofing & Waterproofing"}],category:[{value:"Roofing",term:"roofing",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"N5544 Commerce Rd",city:"Onalaska",state_code:"WI",zip:"54650"},phone:"6087832106"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.2453036,43.9220047]}},{type:"Feature",_id:"chris-moe-entertainment-morristown",properties:{name:"Chris Moe Entertainment",label:[{value:"Chris Moe Entertainment"}],category:[{value:"DJs",term:"djs",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"eventservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"",city:"Morristown",state_code:"MN",zip:"55052"},phone:"5073848820"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.44466,44.22529]}},{type:"Feature",_id:"trester-trolley-winona",properties:{name:"Trester Trolley",label:[{value:"Trester Trolley"}],category:[{value:"Transportation",term:"transport",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Bus Tours",term:"bustours",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/Qlyct7ASnO-rCbOrRO7OnA/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"956 Mankato Ave",city:"Winona",state_code:"MN",zip:"55987"},phone:"5074299101"},updated:1510719332357},geometry:{type:"Point",coordinates:[-91.6211116,44.0303956]}},{type:"Feature",_id:"shoferd-transportation-eagan-2",properties:{name:"ShoFerd Transportation",label:[{value:"ShoFerd Transportation"}],category:[{value:"Limos",term:"limos",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{value:"Airport Shuttles",term:"airport_shuttles",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"hotelstravel",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media1.fl.yelpcdn.com/photo/U-udcas235lDYRxyv4lfUg/ms.jpg",type:"image/png",term:"thumbnail"},location:{address:{street:"3748 Burgundy Dr",city:"Eagan",state_code:"MN",zip:"55122"},phone:"6512262555"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.200935,44.820957]}},{type:"Feature",_id:"gregs-grass-and-landscaping-albert-lea",properties:{name:"Greg's Grass & Landscaping",label:[{value:"Greg's Grass & Landscaping"}],category:[{value:"Landscaping",term:"landscaping",type:"secondary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"},{term:"homeservices",type:"primary",scheme:"https://www.yelp.com/developers/documentation/v2/category_list"}],link:{href:"https://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/bf5ff8a79310/assets/img/default_avatars/user_medium_square.png",type:"image/png",term:"thumbnail"},location:{address:{street:"801 E 12th St",city:"Albert Lea",state_code:"MN",zip:"56007"},phone:"5073771123"},updated:1510719332357},geometry:{type:"Point",coordinates:[-93.3556518554688,43.6285057067871]}}]}},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"olli-logo-div"},s.a.createElement("img",{className:"olli-logo",src:"./img/accessible-olli-logo.svg",alt:"#accessible_olli, forward-thinking transportation"}))}}]),t}(a.Component);t.a=l},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){var e="TBD";return this.props.stop&&this.props.stop.properties&&(e=this.props.stop.properties.name),s.a.createElement("div",{className:"stop-name-div"},s.a.createElement("h1",{className:"stop-name"},e))}}]),t}(a.Component);t.a=l},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=r(122),l=r.n(c),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;this.siema=new l.a({loop:!0,onInit:function(){e.advanceSlide()},onChange:function(){e.advanceSlide()}})}},{key:"advanceSlide",value:function(){var e=this;setTimeout(function(){e.siema.next()},6e3)}},{key:"render",value:function(){var e="TBD",t=[];this.props.stop&&this.props.stop.properties&&(e=this.props.stop.properties.name,t=this.props.stop.properties.factoids);var r=[];if(t){var o=!0,n=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var l=a.value;r.push(s.a.createElement("div",{key:r.length},s.a.createElement("h3",null,l)))}}catch(e){n=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(n)throw i}}}return s.a.createElement("div",{className:"stop-info"},s.a.createElement("h2",null,"Explore ",e),s.a.createElement("div",null,s.a.createElement("img",{className:"stop-picture",src:"./img/discovery-square.png",alt:"Discovery Square rendering"})),s.a.createElement("div",{className:"siema",style:{width:"580px"}},r))}}]),t}(a.Component);t.a=u},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(){function e(t){var r=this;if(o(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw new Error("Something wrong with your selector \ud83d\ude2d");this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.startIndex,this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler"].forEach(function(e){r[e]=r[e].bind(r)}),this.init()}return i(e,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null},this.selector.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.style.cursor="auto",this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler)}},{key:"init",value:function(){this.attachEvents(),this.resolveSlidesNumber(),this.selector.style.overflow="hidden",this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.selector.style.cursor="-webkit-grab");for(var e=document.createDocumentFragment(),t=0;t<this.innerElements.length;t++){var r=document.createElement("div");r.style.cssFloat="left",r.style.float="left",r.style.width=100/this.innerElements.length+"%",r.appendChild(this.innerElements[t]),e.appendChild(r)}this.sliderFrame.appendChild(e),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent(),this.config.onInit.call(this)}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===n(this.config.perPage)){this.perPage=1;for(var e in this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;0===this.currentSlide&&this.config.loop?this.currentSlide=this.innerElements.length-this.perPage:this.currentSlide=Math.max(this.currentSlide-e,0),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;this.currentSlide===this.innerElements.length-this.perPage&&this.config.loop?this.currentSlide=0:this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"goTo",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;this.currentSlide=Math.min(Math.max(e,0),this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"slideToCurrent",value:function(){this.sliderFrame.style[this.transformProperty]="translate3d(-"+this.currentSlide*(this.selectorWidth/this.perPage)+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=this.drag.endX-this.drag.startX,t=Math.abs(e),r=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(r):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(r),this.slideToCurrent()}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length-this.perPage),this.slideToCurrent()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,this.sliderFrame.style[this.transformProperty]="translate3d("+-1*(this.currentSlide*(this.selectorWidth/this.perPage)+(this.drag.startX-this.drag.endX))+"px, 0, 0)")}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){e.preventDefault(),this.pointerDown&&(this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,this.sliderFrame.style[this.transformProperty]="translate3d("+-1*(this.currentSlide*(this.selectorWidth/this.perPage)+(this.drag.startX-this.drag.endX))+"px, 0, 0)")}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.updateAfterDrag(),this.clearDrag())}},{key:"updateFrame",value:function(){this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.selector.style.cursor="-webkit-grab");for(var e=document.createDocumentFragment(),t=0;t<this.innerElements.length;t++){var r=document.createElement("div");r.style.cssFloat="left",r.style.float="left",r.style.width=100/this.innerElements.length+"%",r.appendChild(this.innerElements[t]),e.appendChild(r)}this.sliderFrame.appendChild(e),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error("Item to remove doesn't exist \ud83d\ude2d");e<this.currentSlide&&this.currentSlide--,this.innerElements.splice(e,1),this.updateFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,r){if(t<0||t>this.innerElements.length+1)throw new Error("Unable to inset it at this index \ud83d\ude2d");if(-1!==this.innerElements.indexOf(e))throw new Error("The same item in a carousel? Really? Nope \ud83d\ude2d");var o=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=o?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.updateFrame(),r&&r.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),e){for(var r=document.createDocumentFragment(),o=0;o<this.innerElements.length;o++)r.appendChild(this.innerElements[o]);this.selector.innerHTML="",this.selector.appendChild(r),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,onInit:function(){},onChange:function(){}},r=e;for(var o in r)t[o]=r[o];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=a,e.exports=t.default}])})},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{olliPositions:e.olliPositions,olliRoute:e.olliRoute}}var s=r(0),c=r.n(s),l=r(5),p=r(11),u=r.n(p),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),h=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.stops=(u.a.features||u.a).map(function(e,t){return{id:(e.properties||e).stop_id,coord:(e.geometry||e).coordinates,name:(e.properties||e).name,offset:(e.properties||e).simulation_offset}}),r.state={stops:r.stops.map(function(e,t){return{id:e.id,name:e.name,arriving:r.getArrivingMessage(null),status:r.getRollingListStatus(null)}}).sort(function(e,t){return e.id.localeCompare(t.id)})},r}return i(t,e),d(t,[{key:"getNextClosestOlli",value:function(e,t){for(var r=1e3,o=null,n=0;n<t.length;n++){var i=t[n],a=e-i.offset;a>=0&&a<r&&(r=a,o=i)}if(!o)for(var s=0;s<t.length;s++){var c=t[s],l=e+640-c.offset;l<r&&(r=l,o=c)}return{olli:o.olliId,offset:r}}},{key:"getArrivingMessage",value:function(e){var t="--";if(e)if(0===e.offset)t=e.olli+" arrived";else if(e.offset<4)t=e.olli+" arriving now";else{var r=500*e.offset/1e3/60,o=Math.floor(r),n=Math.floor(60*(r-o));t=r<1?e.olli+" arriving in "+(n<10?"0":"")+n+" seconds":e.olli+" arriving in "+o+":"+(n<10?"0":"")+n+" minutes"}return t}},{key:"getRollingListStatus",value:function(e){var t="roller-list-stop";return e&&(e.offset<=2?t="roller-list-stop-arriving":e.offset<=75&&(t="roller-list-stop-next")),t}},{key:"updateArrivalInfoPositions",value:function(e){var t=this;this.setState({stops:this.stops.map(function(r,o){var n=t.getNextClosestOlli(r.offset,e);return{id:r.id,name:r.name,arriving:t.getArrivingMessage(n),status:t.getRollingListStatus(n)}}).sort(function(e,t){return e.id.localeCompare(t.id)})})}},{key:"componentWillReceiveProps",value:function(e){e.olliPositions!==this.props.olliPositions&&this.updateArrivalInfoPositions(e.olliPositions)}},{key:"render",value:function(){return 0===this.state.stops.length?c.a.createElement("div",null,"Stops not yet available"):c.a.createElement("div",{className:"arrivals-list-all"},c.a.createElement("h2",null,"Other Stops"),c.a.createElement("ul",{className:"arrival-stops"},this.state.stops.map(function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("img",{className:"arrival-stop-img",src:"img/olli-side-icon.svg",alt:e.status}),c.a.createElement("div",{className:"arrival-stop-info"},c.a.createElement("div",null,e.name),c.a.createElement("span",null,e.arriving.replace("_"," "))))})))}}]),t}(s.Component);t.a=Object(l.b)(a)(h)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{olliPositions:e.olliPositions,olliRoute:e.olliRoute}}var s=r(0),c=r.n(s),l=r(5),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.stopoffset=e.stop.properties.simulation_offset,r.state={buses:[{id:"--",status:"--",img:"olli-side-icon.svg"},{id:"--",status:"--",img:"olli-side-icon.svg"},{id:"--",status:"--",img:"olli-side-icon.svg"}]},r}return i(t,e),p(t,[{key:"getOlliArrivalStatus",value:function(e){var t=this.stopoffset-e.offset;t<0&&(t+=640);var r=this.getArrivingTime(t);return{id:e.olliId,time:r,status:this.getArrivingMessage(r),img:this.getRollingListStatus(t)}}},{key:"getArrivingTime",value:function(e){return 0===e?-1:e<4?0:500*e/1e3/60}},{key:"getArrivingMessage",value:function(e){var t="--";if(e<0)t="Arrived";else if(0===e)t="Arriving now";else{var r=Math.floor(e),o=Math.floor(60*(e-r));t=e<1?"Arriving in "+(o<10?"0":"")+o+" seconds":"Arriving in "+r+":"+(o<10?"0":"")+o+" minutes"}return t}},{key:"getRollingListStatus",value:function(e){var t="olli-side-icon.svg";return e<=60&&(t="olli-side-icon-next.svg"),t}},{key:"updateArrivalInfoPositions",value:function(e){var t=this;this.setState({buses:e.map(function(e){return t.getOlliArrivalStatus(e)}).sort(function(e,t){return e.time-t.time})})}},{key:"componentWillReceiveProps",value:function(e){e.olliPositions!==this.props.olliPositions&&this.updateArrivalInfoPositions(e.olliPositions)}},{key:"render",value:function(){return 0===this.state.buses.length?c.a.createElement("div",null,c.a.createElement("h2",null,"Bus info not yet available")):c.a.createElement("div",{className:"arrivals-list-stop"},c.a.createElement("h2",null,"Arrivals"),c.a.createElement("ul",{className:"arrival-buses"},this.state.buses.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("img",{className:"arrival-stop-img",src:"img/"+e.img,alt:e.id+" "+e.status}),c.a.createElement("div",{className:"arrival-stop-info"},c.a.createElement("div",null,e.status),c.a.createElement("span",null,e.id.replace("_"," "))))})))}}]),t}(s.Component);t.a=Object(l.b)(a)(u)},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),s=r.n(a),c=r(21),l=r.n(c),p=r(34),u=r.n(p),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),h=function(e){function t(e){o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.timer=null,r.ts=null,r.state={temp:"--",phrase:"--",feel:"--",humidity:"--",uv:"--",time:"--",icon:"na",lat:u.a.features[0].geometry.coordinates[0][1],lon:u.a.features[0].geometry.coordinates[0][0]},r}return i(t,e),d(t,[{key:"updateTime",value:function(){var e=(new Date).getTime(),t=Math.round((e-(this.ts?this.ts:e))/6e4);this.setState({time:t})}},{key:"getWeather",value:function(){var e=this,t=(new Date).getTime(),r=Math.round((t-(this.ts?this.ts:t))/6e4);if(r>0&&r<this.props.refreshrate)this.setState({time:r});else{var o=this.props.serviceurl.replace("{lat}",this.state.lat).replace("{lon}",this.state.lon);console.log("WEATHER REQUEST: "+o),l.a.get(o).then(function(t){var r=t.data.observation;console.log("weather api response:",r),e.ts=(new Date).getTime(),e.setState({temp:r.temp,phrase:r.wx_phrase,feel:r.feels_like,humidity:r.rh,uv:r.uv_desc,time:0,icon:r.wx_icon<10?"0"+r.wx_icon:r.wx_icon})}).catch(function(e){console.error("weather api error:",e)})}}},{key:"componentDidMount",value:function(){var e=this;this.props.serviceurl&&(this.getWeather(),this.timer=setInterval(function(){return e.getWeather()},6e5))}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){return s.a.createElement("div",{className:"weather"},s.a.createElement("div",{className:"forecast"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",{className:"weather-line-1"},s.a.createElement("td",{rowSpan:"5",style:{width:"84px"}},s.a.createElement("img",{src:"img/weather/"+this.state.icon+".png",alt:"weather icon"})),s.a.createElement("td",null,this.state.phrase),s.a.createElement("td",null,this.state.temp,"\xb0 F")),s.a.createElement("tr",{className:"weather-line-2"},s.a.createElement("td",null,"Feels like"),s.a.createElement("td",null,this.state.feel,"\xb0")),s.a.createElement("tr",{className:"small"},s.a.createElement("td",null,"Humidity"),s.a.createElement("td",null,this.state.humidity,"%")),s.a.createElement("tr",{className:"small"},s.a.createElement("td",null,"UV risk"),s.a.createElement("td",null,this.state.uv,"%")),s.a.createElement("tr",{className:"small"},s.a.createElement("td",null,"Updated"),s.a.createElement("td",null,this.state.time," min ago"))))))}}]),t}(a.Component);h.defaultProps={refreshrate:10},t.a=h},function(e,t,r){"use strict";(function(e,o){function n(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!==typeof Blob&&e instanceof Blob}function i(e){if("function"===typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),o=new Uint8Array(e);return r.set(o),t}function a(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,r=e.type;return"function"===typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}function s(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&Do.call(r)==Lo}function c(e){var t,r,o;if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,o=e.length;r<o;r++)t[r]=c(e[r]);return t}if(e instanceof Date)return e.toISOString();if(n(e))return a(e);if(!s(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=c(e[r]);"undefined"!==typeof i&&(t[r]=i)}return t}function l(e){var t=!1;return Co()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function p(e){return Co()(function(t){t=c(t);var r=this,o="function"===typeof t[t.length-1]&&t.pop(),n=new Promise(function(o,n){var i;try{var a=l(function(e,t){e?n(e):o(t)});t.push(a),i=e.apply(r,t),i&&"function"===typeof i.then&&o(i)}catch(e){n(e)}});return o&&n.then(function(e){o(null,e)},o),n})}function u(e,t,r){if(e.constructor.listeners("debug").length){for(var o=["api",e.name,t],n=0;n<r.length-1;n++)o.push(r[n]);e.constructor.emit("debug",o);var i=r[r.length-1];r[r.length-1]=function(r,o){var n=["api",e.name,t];n=n.concat(r?["error",r]:["success",o]),e.constructor.emit("debug",n),i(r,o)}}}function d(e,t){return p(Co()(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var o=this;return u(o,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function h(e){return"$"+e}function m(e){return e.substring(1)}function y(){this._store={}}function f(e){if(this._store=new y,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}function v(e,t){for(var r={},o=0,n=t.length;o<n;o++){var i=t[o];i in e&&(r[i]=e[i])}return r}function g(e){return e}function _(e){return[{ok:e}]}function w(e,t,r){function o(){var e=[];d.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),r(null,{results:e})}function n(){++u===p&&o()}function i(e,t,r){d[e]={id:t,docs:r},n()}function a(){if(!(m>=h.length)){var e=Math.min(m+Wo,h.length),t=h.slice(m,e);s(t,m),m+=t.length}}function s(r,o){r.forEach(function(r,n){var s=o+n,c=l.get(r),p=v(c[0],["atts_since","attachments"]);p.open_revs=c.map(function(e){return e.rev}),p.open_revs=p.open_revs.filter(g);var u=g;0===p.open_revs.length&&(delete p.open_revs,u=_),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(p[e]=t[e])}),e.get(r,p,function(e,t){var o;o=e?[{error:e}]:u(t),i(s,r,o),a()})})}var c=t.docs,l=new qo;c.forEach(function(e){l.has(e.id)?l.get(e.id).push(e):l.set(e.id,[e])});var p=l.size,u=0,d=new Array(p),h=[];l.forEach(function(e,t){h.push(t)});var m=0;a()}function b(){return Vo}function x(e){b()&&addEventListener("storage",function(t){e.emit(t.key)})}function S(){To.EventEmitter.call(this),this._listeners={},x(this)}function k(e){if("undefined"!==typeof console&&"function"===typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function P(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function E(e){var t=0;return e||(t=2e3),P(e,t)}function C(e,t){k("info","The above "+e+" is totally normal. "+t)}function A(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}function M(e,t){function r(t){for(var r in e)"function"!==typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=A.prototype,new r(t)}function T(e){if("object"!==typeof e){var t=e;e=$o,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function z(e,t,r){try{return!e(t,r)}catch(e){var o="Filter function threw: "+e.toString();return M(on,o)}}function R(e){var t={},r=e.filter&&"function"===typeof e.filter;return t.query=e.query_params,function(o){o.doc||(o.doc={});var n=r&&z(e.filter,o.doc,t);if("object"===typeof n)return n;if(n)return!1;if(e.include_docs){if(!e.attachments)for(var i in o.doc._attachments)o.doc._attachments.hasOwnProperty(i)&&(o.doc._attachments[i].stub=!0)}else delete o.doc;return!0}}function F(e){for(var t=[],r=0,o=e.length;r<o;r++)t=t.concat(e[r]);return t}function I(e){var t;if(e?"string"!==typeof e?t=M(Ko):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=M(Yo)):t=M(Qo),t)throw t}function N(e){return"boolean"===typeof e._remote?e._remote:"function"===typeof e.type&&(k("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function B(e,t){return"listenerCount"in e?e.listenerCount(t):To.EventEmitter.listenerCount(e,t)}function O(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function j(e){var t=O(e);return t?t.join("/"):null}function D(e){for(var t=dn.exec(e),r={},o=14;o--;){var n=ln[o],i=t[o]||"",a=-1!==["user","password"].indexOf(n);r[n]=a?decodeURIComponent(i):i}return r[pn]={},r[ln[12]].replace(un,function(e,t,o){t&&(r[pn][t]=o)}),r}function L(e,t){var r=[],o=[];for(var n in t)t.hasOwnProperty(n)&&(r.push(n),o.push(t[n]));return r.push(e),Function.apply(null,r).apply(null,o)}function U(e,t,r){return new Promise(function(o,n){e.get(t,function(i,a){if(i){if(404!==i.status)return n(i);a={}}var s=a._rev,c=r(a);if(!c)return o({updated:!1,rev:s});c._id=t,c._rev=s,o(q(e,c,r))})})}function q(e,t,r){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return U(e,t._id,r)})}function V(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,n=0;n<e.length;n+=1)o.append(e[n]);return o.getBlob(t.type)}}function W(e){for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),n=0;n<t;n++)o[n]=e.charCodeAt(n);return r}function H(e,t){return V([W(e)],{type:t})}function G(e,t){return H(hn(e),t)}function Z(e){for(var t="",r=new Uint8Array(e),o=r.byteLength,n=0;n<o;n++)t+=String.fromCharCode(r[n]);return t}function J(e,t){var r=new FileReader,o="function"===typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(o)return t(r);t(Z(r))},o?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function X(e,t){J(e,function(e){t(e)})}function K(e,t){X(e,function(e){t(mn(e))})}function Q(e,t){var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}function Y(e){return mn(e)}function $(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}function ee(e,t,r,o,n){(r>0||o<t.size)&&(t=$(t,r,o)),Q(t,function(t){e.append(t),n()})}function te(e,t,r,o,n){(r>0||o<t.length)&&(t=t.substring(r,o)),e.appendBinary(t),n()}function re(e,t){function r(){yn(n)}function o(){var e=p.end(!0),r=Y(e);t(r),p.destroy()}function n(){var t=l*s,n=t+s;l++,l<c?u(p,e,t,n,r):u(p,e,t,n,o)}var i="string"===typeof e,a=i?e.length:e.size,s=Math.min(fn,a),c=Math.ceil(a/s),l=0,p=i?new Io.a:new Io.a.ArrayBuffer,u=i?te:ee;n()}function oe(e){return Io.a.hash(e)}function ne(e,t){var r=c(e);return t?(delete r._rev_tree,oe(JSON.stringify(r))):Bo.a.v4().replace(/-/g,"").toLowerCase()}function ie(e){for(var t,r,o,n,i=e.rev_tree.slice();n=i.pop();){var a=n.ids,s=a[2],c=n.pos;if(s.length)for(var l=0,p=s.length;l<p;l++)i.push({pos:c+1,ids:s[l]});else{var u=!!a[1].deleted,d=a[0];t&&!(o!==u?o:r!==c?r<c:t<d)||(t=d,r=c,o=u)}}return r+"-"+t}function ae(e,t){for(var r,o=e.slice();r=o.pop();)for(var n=r.pos,i=r.ids,a=i[2],s=t(0===a.length,n,i[0],r.ctx,i[1]),c=0,l=a.length;c<l;c++)o.push({pos:n+1,ids:a[c],ctx:s})}function se(e,t){return e.pos-t.pos}function ce(e){var t=[];ae(e,function(e,r,o,n,i){e&&t.push({rev:r+"-"+o,pos:r,opts:i})}),t.sort(se).reverse();for(var r=0,o=t.length;r<o;r++)delete t[r].pos;return t}function le(e){for(var t=ie(e),r=ce(e.rev_tree),o=[],n=0,i=r.length;n<i;n++){var a=r[n];a.rev===t||a.opts.deleted||o.push(a.rev)}return o}function pe(e){var t=[];return ae(e.rev_tree,function(e,r,o,n,i){"available"!==i.status||e||(t.push(r+"-"+o),i.status="missing")}),t}function ue(e){for(var t,r=[],o=e.slice();t=o.pop();){var n=t.pos,i=t.ids,a=i[0],s=i[1],c=i[2],l=0===c.length,p=t.history?t.history.slice():[];p.push({id:a,opts:s}),l&&r.push({pos:n+1-p.length,ids:p});for(var u=0,d=c.length;u<d;u++)o.push({pos:n+1,ids:c[u],history:p})}return r.reverse()}function de(e,t){return e.pos-t.pos}function he(e,t,r){for(var o,n=0,i=e.length;n<i;)o=n+i>>>1,r(e[o],t)<0?n=o+1:i=o;return n}function me(e,t,r){var o=he(e,t,r);e.splice(o,0,t)}function ye(e,t){for(var r,o,n=t,i=e.length;n<i;n++){var a=e[n],s=[a.id,a.opts,[]];o?(o[2].push(s),o=s):r=o=s}return r}function fe(e,t){return e[0]<t[0]?-1:1}function ve(e,t){for(var r=[{tree1:e,tree2:t}],o=!1;r.length>0;){var n=r.pop(),i=n.tree1,a=n.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(i[2][0]){for(var c=!1,l=0;l<i[2].length;l++)i[2][l][0]===a[2][s][0]&&(r.push({tree1:i[2][l],tree2:a[2][s]}),c=!0);c||(o="new_branch",me(i[2],a[2][s],fe))}else o="new_leaf",i[2][0]=a[2][s]}return{conflicts:o,tree:e}}function ge(e,t,r){var o,n=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,c=e.length;s<c;s++){var l=e[s];if(l.pos===t.pos&&l.ids[0]===t.ids[0])o=ve(l.ids,t.ids),n.push({pos:l.pos,ids:o.tree}),i=i||o.conflicts,a=!0;else if(!0!==r){var p=l.pos<t.pos?l:t,u=l.pos<t.pos?t:l,d=u.pos-p.pos,h=[],m=[];for(m.push({ids:p.ids,diff:d,parent:null,parentIdx:null});m.length>0;){var y=m.pop();if(0!==y.diff)for(var f=y.ids[2],v=0,g=f.length;v<g;v++)m.push({ids:f[v],diff:y.diff-1,parent:y.ids,parentIdx:v});else y.ids[0]===u.ids[0]&&h.push(y)}var _=h[0];_?(o=ve(_.ids,u.ids),_.parent[2][_.parentIdx]=o.tree,n.push({pos:p.pos,ids:p.ids}),i=i||o.conflicts,a=!0):n.push(l)}else n.push(l)}return a||n.push(t),n.sort(de),{tree:n,conflicts:i||"internal_node"}}function _e(e,t){for(var r,o,n=ue(e),i=0,a=n.length;i<a;i++){var s,c=n[i],l=c.ids;if(l.length>t){r||(r={});var p=l.length-t;s={pos:c.pos+p,ids:ye(l,p)};for(var u=0;u<p;u++){var d=c.pos+u+"-"+l[u].id;r[d]=!0}}else s={pos:c.pos,ids:ye(l,0)};o=o?ge(o,s,!0).tree:[s]}return r&&ae(o,function(e,t,o){delete r[t+"-"+o]}),{tree:o,revs:r?Object.keys(r):[]}}function we(e,t,r){var o=ge(e,t),n=_e(o.tree,r);return{tree:n.tree,stemmedRevs:n.revs,conflicts:o.conflicts}}function be(e,t){for(var r,o=e.slice(),n=t.split("-"),i=parseInt(n[0],10),a=n[1];r=o.pop();){if(r.pos===i&&r.ids[0]===a)return!0;for(var s=r.ids[2],c=0,l=s.length;c<l;c++)o.push({pos:r.pos+1,ids:s[c]})}return!1}function xe(e){return e.ids}function Se(e,t){t||(t=ie(e));for(var r,o=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(xe);r=n.pop();){if(r[0]===o)return!!r[1].deleted;n=n.concat(r[2])}}function ke(e){return/^_local/.test(e)}function Pe(e,t){for(var r,o=t.rev_tree.slice();r=o.pop();){var n=r.pos,i=r.ids,a=i[0],s=i[1],c=i[2],l=0===c.length,p=r.history?r.history.slice():[];if(p.push({id:a,pos:n,opts:s}),l)for(var u=0,d=p.length;u<d;u++){var h=p[u],m=h.pos+"-"+h.id;if(m===e)return n+"-"+a}for(var y=0,f=c.length;y<f;y++)o.push({pos:n+1,ids:c[y],history:p})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function Ee(e,t,r,o){try{e.emit("change",t,r,o)}catch(e){k("error",'Error in .on("change", function):',e)}}function Ce(e,t,r){function o(){n.cancel()}To.EventEmitter.call(this);var n=this;this.db=e,t=t?c(t):{};var i=t.complete=l(function(t,r){t?B(n,"error")>0&&n.emit("error",t):n.emit("complete",r),n.removeAllListeners(),e.removeListener("destroyed",o)});r&&(n.on("complete",function(e){r(null,e)}),n.on("error",r)),e.once("destroyed",o),t.onChange=function(e,t,r){n.isCancelled||Ee(n,e,t,r)};var a=new Promise(function(e,r){t.complete=function(t,o){t?r(t):e(o)}});n.once("cancel",function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function Ae(e,t,r){var o=[{rev:e._rev}];"all_docs"===r.style&&(o=ce(t.rev_tree).map(function(e){return{rev:e.rev}}));var n={id:t.id,changes:o,doc:e};return Se(t,e._rev)&&(n.deleted=!0),r.conflicts&&(n.doc._conflicts=le(t),n.doc._conflicts.length||delete n.doc._conflicts),n}function Me(e,t){return e<t?-1:e>t?1:0}function Te(e,t){return function(r,o){r||o[0]&&o[0].error?(r=r||o[0],r.docId=t,e(r)):e(null,o.length?o[0]:o)}}function ze(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var o=Object.keys(r._attachments),n=0;n<o.length;n++){var i=o[n];r._attachments[i]=v(r._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function Re(e,t){var r=Me(e._id,t._id);return 0!==r?r:Me(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Fe(e){var t={},r=[];return ae(e,function(e,o,n,i){var a=o+"-"+n;return e&&(t[a]=0),void 0!==i&&r.push({from:i,to:a}),a}),r.reverse(),r.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function Ie(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function Ne(e){var t=e._compactionQueue[0],r=t.opts,o=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,function(t,r){t?o(t):o(null,r),Mo()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&Ne(e)})})})}function Be(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function Oe(){To.EventEmitter.call(this);for(var e in Oe.prototype)"function"===typeof this[e]&&(this[e]=this[e].bind(this))}function je(){this.isReady=!1,this.failed=!1,this.queue=[]}function De(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var o=Ue.adapters,n=Ue.preferredAdapters,i=Ue.prefix,a=t.adapter;if(!a)for(var s=0;s<n.length;++s){a=n[s];{if(!("idb"===a&&"websql"in o&&b()&&localStorage["_pouch__websqldb_"+i+e]))break;k("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var c=o[a];return{name:c&&"use_prefix"in c&&!c.use_prefix?e:i+e,adapter:a}}function Le(e){function t(t){e.removeListener("closed",r),t||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}function Ue(e,t){if(!(this instanceof Ue))return new Ue(e,t);var r=this;if(t=t||{},e&&"object"===typeof e&&(t=e,e=t.name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=c(t),r.auto_compaction=t.auto_compaction,r.prefix=Ue.prefix,"string"!==typeof e)throw new Error("Missing/invalid DB name");var o=(t.prefix||"")+e,n=De(o,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,Ue.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ue.adapters[t.adapter]||!Ue.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Oe.call(r),r.taskqueue=new je,r.adapter=t.adapter,Ue.adapters[t.adapter].call(r,t,function(e){if(e)return r.taskqueue.fail(e);Le(r),r.emit("created",r),Ue.emit("created",r.name),r.taskqueue.ready(r)})}function qe(e,t){for(var r=e,o=0,n=t.length;o<n;o++){if(!(r=r[t[o]]))break}return r}function Ve(e,t){return e<t?-1:e>t?1:0}function We(e){for(var t=[],r="",o=0,n=e.length;o<n;o++){var i=e[o];"."===i?o>0&&"\\"===e[o-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t}function He(e){return xn.indexOf(e)>-1}function Ge(e){return Object.keys(e)[0]}function Ze(e){return e[Ge(e)]}function Je(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var o=e[r];if("object"!==typeof o&&(o={$eq:o}),He(r))o instanceof Array?t[r]=o.map(function(e){return Je([e])}):t[r]=Je([o]);else{var n=t[r]=t[r]||{};Object.keys(o).forEach(function(e){var t=o[e];return"$gt"===e||"$gte"===e?Xe(e,t,n):"$lt"===e||"$lte"===e?Ke(e,t,n):"$ne"===e?Qe(t,n):"$eq"===e?Ye(t,n):void(n[e]=t)})}})}),t}function Xe(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):"undefined"!==typeof r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function Ke(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):"undefined"!==typeof r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function Qe(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function Ye(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function $e(e){var t=c(e),r=!1;"$and"in t&&(t=Je(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var o=t[r],n=e[o];"object"===typeof n&&null!==n||(e[o]={$eq:n})}})}),"$not"in t&&(t.$not=Je([t.$not]));for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n],a=t[i];"object"!==typeof a||null===a?a={$eq:a}:"$ne"in a&&!r&&(a.$ne=[a.$ne]),t[i]=a}return t}function et(e,t,r){for(var o="",n=r-e.length;o.length<n;)o+=t;return o}function tt(e,t,r){return et(e,t,r)+e}function rt(e,t){if(e===t)return 0;e=ot(e),t=ot(t);var r=dt(e),o=dt(t);if(r-o!==0)return r-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return pt(e,t)}return Array.isArray(e)?lt(e,t):ut(e,t)}function ot(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=ot(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"undefined"!==typeof i&&(e[n]=ot(i))}}}}return e}function nt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return ht(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),o=-1,n=r.length,i="";if(t)for(;++o<n;)i+=it(r[o]);else for(;++o<n;){var a=r[o];i+=it(a)+it(e[a])}return i}return""}function it(e){return e=ot(e),dt(e)+Pn+nt(e)+"\0"}function at(e,t){var r,o=t;if("1"===e[t])r=0,t++;else{var n="0"===e[t];t++;var i="",a=e.substring(t,t+kn),s=parseInt(a,10)+Sn;for(n&&(s=-s),t+=kn;;){var c=e[t];if("\0"===c)break;i+=c,t++}i=i.split("."),r=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),n&&(r-=10),0!==s&&(r=parseFloat(r+"e"+s))}return{num:r,length:t-o}}function st(e,t){var r=e.pop();if(t.length){var o=t[t.length-1];r===o.element&&(t.pop(),o=t[t.length-1]);var n=o.element,i=o.index;if(Array.isArray(n))n.push(r);else if(i===e.length-2){var a=e.pop();n[a]=r}else e.push(r)}}function ct(e){for(var t=[],r=[],o=0;;){var n=e[o++];if("\0"!==n)switch(n){case"1":t.push(null);break;case"2":t.push("1"===e[o]),o++;break;case"3":var i=at(e,o);t.push(i.num),o+=i.length;break;case"4":for(var a="";;){var s=e[o];if("\0"===s)break;a+=s,o++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var c={element:[],index:t.length};t.push(c.element),r.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+n)}else{if(1===t.length)return t.pop();st(t,r)}}}function lt(e,t){for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var n=rt(e[o],t[o]);if(0!==n)return n}return e.length===t.length?0:e.length>t.length?1:-1}function pt(e,t){return e===t?0:e>t?1:-1}function ut(e,t){for(var r=Object.keys(e),o=Object.keys(t),n=Math.min(r.length,o.length),i=0;i<n;i++){var a=rt(r[i],o[i]);if(0!==a)return a;if(0!==(a=rt(e[r[i]],t[o[i]])))return a}return r.length===o.length?0:r.length>o.length?1:-1}function dt(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function ht(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),o=e<0,n=o?"0":"2",i=(o?-r:r)-Sn,a=tt(i.toString(),"0",kn);n+=Pn+a;var s=Math.abs(parseFloat(t[0]));o&&(s=10-s);var c=s.toFixed(20);return c=c.replace(/\.?0+$/,""),n+=Pn+c}function mt(e){function t(t){return e.map(function(e){var r=Ge(e),o=We(r);return qe(t,o)})}return function(e,r){var o=t(e.doc),n=t(r.doc),i=rt(o,n);return 0!==i?i:Ve(e.doc._id,r.doc._id)}}function yt(e,t,r){if(e=e.filter(function(e){return ft(e.doc,t.selector,r)}),t.sort){var o=mt(t.sort);e=e.sort(o),"string"!==typeof t.sort[0]&&"desc"===Ze(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var n=t.skip||0,i=("limit"in t?t.limit:e.length)+n;e=e.slice(n,i)}return e}function ft(e,t,r){return r.every(function(r){var o=t[r],n=We(r),i=qe(e,n);return He(r)?gt(r,o,e):vt(o,e,n,i)})}function vt(e,t,r,o){return!e||Object.keys(e).every(function(n){var i=e[n];return _t(n,t,i,r,o)})}function gt(e,t,r){return"$or"===e?t.some(function(e){return ft(r,e,Object.keys(e))}):"$not"===e?!ft(r,t,Object.keys(t)):!t.find(function(e){return ft(r,e,Object.keys(e))})}function _t(e,t,r,o,n){if(!En[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return En[e](t,r,o,n)}function wt(e){return"undefined"!==typeof e&&null!==e}function bt(e){return"undefined"!==typeof e}function xt(e,t){var r=t[0],o=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(o,10)!==o)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===o}function St(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function kt(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function Pt(e,t){return e.length===t}function Et(e,t){return new RegExp(t).test(e)}function Ct(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"===typeof e;case"number":return"number"===typeof e;case"string":return"string"===typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function At(e,t){if("object"!==typeof t)throw new Error("Selector error: expected a JSON object");t=$e(t);var r={doc:e},o=yt([r],{selector:t},Object.keys(t));return o&&1===o.length}function Mt(e){return L('"use strict";\nreturn '+e+";",{})}function Tt(e){return L(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function zt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"===typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function Rt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"===typeof e.filter&&("_view"===e.filter?e.view=j(e.view):e.filter=j(e.filter))}function Ft(e,t){return t.filter&&"string"===typeof t.filter&&!t.doc_ids&&!N(e.db)}function It(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!==typeof t.view){var o=M(on,"`view` filter parameter not found or invalid.");return r(o)}var n=O(t.view);e.db.get("_design/"+n[0],function(o,i){if(e.isCancelled)return r(null,{status:"cancelled"});if(o)return r(T(o));var a=i&&i.views&&i.views[n[1]]&&i.views[n[1]].map;if(!a)return r(M(Jo,i.views?"missing json key: "+n[1]:"missing json key: views"));t.filter=Tt(a),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return At(e,t.selector)},e.doChanges(t);else{var i=O(t.filter);e.db.get("_design/"+i[0],function(o,n){if(e.isCancelled)return r(null,{status:"cancelled"});if(o)return r(T(o));var a=n&&n.filters&&n.filters[i[1]];if(!a)return r(M(Jo,n&&n.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=Mt(a),e.doChanges(t)})}}function Nt(e){e._changesFilterPlugin={validate:zt,normalize:Rt,shouldFilter:Ft,filter:It}}function Bt(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function Ot(e){if(!/^\d+-./.test(e))return M(sn);var t=e.indexOf("-"),r=e.substring(0,t),o=e.substring(t+1);return{prefix:parseInt(r,10),id:o}}function jt(e,t){for(var r=e.start-e.ids.length+1,o=e.ids,n=[o[0],t,[]],i=1,a=o.length;i<a;i++)n=[o[i],{status:"missing"},[n]];return[{pos:r,ids:n}]}function Dt(e,t,r){r||(r={deterministic_revs:!0});var o,n,i,a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=vn()),n=ne(e,r.deterministic_revs),e._rev){if(i=Ot(e._rev),i.error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[n,a,[]]]]}],o=i.prefix+1}else e._rev_tree=[{pos:1,ids:[n,a,[]]}],o=1;else if(e._revisions&&(e._rev_tree=jt(e._revisions,a),o=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if(i=Ot(e._rev),i.error)return i;o=i.prefix,n=i.id,e._rev_tree=[{pos:o,ids:[n,a,[]]}]}I(e._id),e._rev=o+"-"+n;var s={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!An[c]){var p=M(rn,c);throw p.message=rn.message+": "+c,p}l&&!Mn[c]?s.metadata[c.slice(1)]=e[c]:s.data[c]=e[c]}return s}function Lt(e){try{return hn(e)}catch(e){var t=M(en,"Attachment is not a valid base64 string");return{error:t}}}function Ut(e,t,r){var o=Lt(e.data);if(o.error)return r(o.error);e.length=o.length,e.data="blob"===t?H(o,e.content_type):"base64"===t?mn(o):o,re(o,function(t){e.digest="md5-"+t,r()})}function qt(e,t,r){re(e.data,function(o){e.digest="md5-"+o,e.length=e.data.size||e.data.length||0,"binary"===t?X(e.data,function(t){e.data=t,r()}):"base64"===t?K(e.data,function(t){e.data=t,r()}):r()})}function Vt(e,t,r){if(e.stub)return r();"string"===typeof e.data?Ut(e,t,r):qt(e,t,r)}function Wt(e,t,r){function o(){i++,e.length===i&&(n?r(n):r())}if(!e.length)return r();var n,i=0;e.forEach(function(e){function r(e){n=e,++a===i.length&&o()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return o();for(var s in e.data._attachments)e.data._attachments.hasOwnProperty(s)&&Vt(e.data._attachments[s],t,r)})}function Ht(e,t,r,o,n,i,a,s){if(be(t.rev_tree,r.metadata.rev)&&!s)return o[n]=r,i();var c=t.winningRev||ie(t),l="deleted"in t?t.deleted:Se(t,c),p="deleted"in r.metadata?r.metadata.deleted:Se(r.metadata),u=/^1-/.test(r.metadata.rev);if(l&&!p&&s&&u){var d=r.data;d._rev=c,d._id=r.metadata.id,r=Dt(d,s)}var h=we(t.rev_tree,r.metadata.rev_tree[0],e);if(s&&(l&&p&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!p&&"new_branch"===h.conflicts)){var m=M(Xo);return o[n]=m,i()}var y=r.metadata.rev;r.metadata.rev_tree=h.tree,r.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var f,v=ie(r.metadata),g=Se(r.metadata,v),_=l===g?0:l<g?-1:1;f=y===v?g:Se(r.metadata,y),a(r,v,g,f,!0,_,n,i)}function Gt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function Zt(e,t,r,o,n,i,a,s,c){function l(e,t,r){var o=ie(e.metadata),n=Se(e.metadata,o);if("was_delete"in s&&n)return i[t]=M(Jo,"deleted"),r();if(u&&Gt(e)){var c=M(Xo);return i[t]=c,r()}a(e,o,n,n,!1,n?0:1,t,r)}function p(){++h===m&&c&&c()}e=e||1e3;var u=s.new_edits,d=new qo,h=0,m=t.length;t.forEach(function(e,t){if(e._id&&ke(e._id)){var o=e._deleted?"_removeLocal":"_putLocal";return void r[o](e,{ctx:n},function(e,r){i[t]=e||r,p()})}var a=e.metadata.id;d.has(a)?(m--,d.get(a).push([e,t])):d.set(a,[[e,t]])}),d.forEach(function(t,r){function n(){++c<t.length?s():p()}function s(){var s=t[c],p=s[0],d=s[1];if(o.has(r))Ht(e,o.get(r),p,i,d,n,a,u);else{var h=we([],p.metadata.rev_tree[0],e);p.metadata.rev_tree=h.tree,p.stemmedRevs=h.stemmedRevs||[],l(p,d,n)}}var c=0;s()})}function Jt(e){try{return JSON.parse(e)}catch(t){return jo.a.parse(e)}}function Xt(e){try{return JSON.stringify(e)}catch(t){return jo.a.stringify(e)}}function Kt(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(M(an,r,t.type))}}function Qt(e,t,r){return{data:Xt(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function Yt(e){if(!e)return null;var t=Jt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function $t(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function er(e,t,r,o){r?o(e?"string"!==typeof e?e:G(e,t):V([""],{type:t})):e?"string"!==typeof e?J(e,function(e){o(mn(e))}):o(e):o("")}function tr(e,t,r,o){function n(){++s===a.length&&o&&o()}function i(e,t){var o=e._attachments[t],i=o.digest;r.objectStore(Fn).get(i).onsuccess=function(e){o.body=e.target.result.body,n()}}var a=Object.keys(e._attachments||{});if(!a.length)return o&&o();var s=0;a.forEach(function(r){t.attachments&&t.include_docs?i(e,r):(e._attachments[r].stub=!0,n())})}function rr(e,t){return Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return Promise.all(r.map(function(r){var o=e.doc._attachments[r];if("body"in o){var n=o.body,i=o.content_type;return new Promise(function(a){er(n,i,t,function(t){e.doc._attachments[r]=Go(v(o,["digest","content_type"]),{data:t}),a()})})}}))}}))}function or(e,t,r){function o(){--l||n()}function n(){i.length&&i.forEach(function(e){c.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}})}var i=[],a=r.objectStore(Rn),s=r.objectStore(Fn),c=r.objectStore(In),l=e.length;e.forEach(function(e){var r=a.index("_doc_id_rev"),n=t+"::"+e;r.getKey(n).onsuccess=function(e){var t=e.target.result;if("number"!==typeof t)return o();a.delete(t),c.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];i.push(r),c.delete(t.primaryKey),t.continue()}else o()}}})}function nr(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}function ir(e,t,r,o,n,i){function a(){var e=[zn,Rn,Fn,Bn,In,Nn],t=nr(n,e,"readwrite");if(t.error)return i(t.error);_=t.txn,_.onabort=Kt(i),_.ontimeout=Kt(i),_.oncomplete=u,w=_.objectStore(zn),b=_.objectStore(Rn),x=_.objectStore(Fn),S=_.objectStore(In),k=_.objectStore(Nn),k.get(Nn).onsuccess=function(e){E=e.target.result,l()},h(function(e){if(e)return B=!0,i(e);p()})}function s(){R=!0,l()}function c(){Zt(e.revs_limit,C,o,N,_,I,m,r,s)}function l(){E&&R&&(E.docCount+=F,k.put(E))}function p(){function e(){++r===C.length&&c()}function t(t){var r=Yt(t.target.result);r&&N.set(r.id,r),e()}if(C.length)for(var r=0,o=0,n=C.length;o<n;o++){var i=C[o];if(i._id&&ke(i._id))e();else{var a=w.get(i.metadata.id);a.onsuccess=t}}}function u(){B||(jn.notify(o._meta.name),i(null,I))}function d(e,t){x.get(e).onsuccess=function(r){if(r.target.result)t();else{var o=M(cn,"unknown stub attachment with digest "+e);o.status=412,t(o)}}}function h(e){function t(){++n===r.length&&e(o)}var r=[];if(C.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var o=e.data._attachments[t];o.stub&&r.push(o.digest)})}),!r.length)return e();var o,n=0;r.forEach(function(e){d(e,function(e){e&&!o&&(o=e),t()})})}function m(e,t,r,o,n,i,a,s){e.metadata.winningRev=t,e.metadata.deleted=r;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,o&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return f(e,t,r,n,a,s);F+=i,l(),y(e,t,r,n,a,s)}function y(e,t,r,n,i,a){function s(i){var a=e.stemmedRevs||[];n&&o.auto_compaction&&(a=a.concat(pe(e.metadata))),a&&a.length&&or(a,e.metadata.id,_),u.seq=i.target.result;var s=Qt(u,t,r);w.put(s).onsuccess=l}function c(e){e.preventDefault(),e.stopPropagation(),b.index("_doc_id_rev").getKey(p._doc_id_rev).onsuccess=function(e){b.put(p,e.target.result).onsuccess=s}}function l(){I[i]={ok:!0,id:u.id,rev:u.rev},N.set(e.metadata.id,e.metadata),v(e,u.seq,a)}var p=e.data,u=e.metadata;p._doc_id_rev=u.id+"::"+u.rev,delete p._id,delete p._rev;var d=b.put(p);d.onsuccess=s,d.onerror=c}function f(e,t,r,o,n,i){function a(){l===p.length&&y(e,t,r,o,n,i)}function s(){l++,a()}var c=e.data,l=0,p=Object.keys(c._attachments);p.forEach(function(r){var o=e.data._attachments[r];if(o.stub)l++,a();else{var n=o.data;delete o.data,o.revpos=parseInt(t,10);g(o.digest,n,s)}})}function v(e,t,r){function o(){++n===i.length&&r()}var n=0,i=Object.keys(e.data._attachments||{});if(!i.length)return r();for(var a=0;a<i.length;a++)!function(r){var n=e.data._attachments[r].digest,i=S.put({seq:t,digestSeq:n+"::"+t});i.onsuccess=o,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}(i[a])}function g(e,t,r){x.count(e).onsuccess=function(o){if(o.target.result)return r();var n={digest:e,body:t};x.put(n).onsuccess=r}}for(var _,w,b,x,S,k,P,E,C=t.docs,A=0,T=C.length;A<T;A++){var z=C[A];z._id&&ke(z._id)||(z=C[A]=Dt(z,r.new_edits,e),z.error&&!P&&(P=z))}if(P)return i(P);var R=!1,F=0,I=new Array(C.length),N=new qo,B=!1,O=o._meta.blobSupport?"blob":"base64";Wt(C,O,function(e){if(e)return i(e);a()})}function ar(e,t,r,o,n){function i(e){p=e.target.result,l&&n(l,p,u)}function a(e){l=e.target.result,p&&n(l,p,u)}function s(){if(!l.length)return n();var r,s=l[l.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(s,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return n()}else r=IDBKeyRange.lowerBound(s,!0);t=r,l=null,p=null,e.getAll(t,o).onsuccess=i,e.getAllKeys(t,o).onsuccess=a}function c(e){var t=e.target.result;if(!t)return n();n([t.key],[t.value],t)}-1===o&&(o=1e3);var l,p,u,d="function"===typeof e.getAll&&"function"===typeof e.getAllKeys&&o>1&&!r;d?(u={continue:s},e.getAll(t,o).onsuccess=i,e.getAllKeys(t,o).onsuccess=a):r?e.openCursor(t,"prev").onsuccess=c:e.openCursor(t).onsuccess=c}function sr(e,t,r){function o(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}if("function"===typeof e.getAll)return void(e.getAll(t).onsuccess=r);var n=[];e.openCursor(t).onsuccess=o}function cr(e,t,r){var o=new Array(e.length),n=0;e.forEach(function(i,a){t.get(i).onsuccess=function(t){t.target.result?o[a]=t.target.result:o[a]={key:i,error:"not_found"},++n===e.length&&r(e,o,{})}})}function lr(e,t,r,o,n){try{if(e&&t)return n?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return n?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return n?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(o)return IDBKeyRange.only(o)}catch(e){return{error:e}}return null}function pr(e,t,r){function o(t,r,o){var n=t.id+"::"+o;C.get(n).onsuccess=function(o){if(r.doc=$t(o.target.result)||{},e.conflicts){var n=le(t);n.length&&(r.doc._conflicts=n)}tr(r.doc,e,b)}}function n(t,r){var n={id:r.id,key:r.id,value:{rev:t}};r.deleted?y&&(A.push(n),n.value.deleted=!0,n.doc=null):f--<=0&&(A.push(n),e.include_docs&&o(r,n,t))}function i(e){for(var t=0,r=e.length;t<r&&A.length!==v;t++){var o=e[t];if(o.error&&y)A.push(o);else{var i=Yt(o);n(i.winningRev,i)}}}function a(e,t,r){r&&(i(t),A.length<v&&r.continue())}function s(t){var r=t.target.result;e.descending&&(r=r.reverse()),i(r)}function c(){var t={total_rows:x,offset:e.skip,rows:A};e.update_seq&&void 0!==S&&(t.update_seq=S),r(null,t)}function l(){e.attachments?rr(A,e.binary).then(c):c()}var p,u,d="startkey"in e&&e.startkey,h="endkey"in e&&e.endkey,m="key"in e&&e.key,y="keys"in e&&e.keys,f=e.skip||0,v="number"===typeof e.limit?e.limit:-1,g=!1!==e.inclusive_end;if(!y&&(p=lr(d,h,g,m,e.descending),(u=p&&p.error)&&("DataError"!==u.name||0!==u.code)))return r(M(an,u.name,u.message));var _=[zn,Rn,Nn];e.attachments&&_.push(Fn);var w=nr(t,_,"readonly");if(w.error)return r(w.error);var b=w.txn;b.oncomplete=l,b.onabort=Kt(r);var x,S,k=b.objectStore(zn),P=b.objectStore(Rn),E=b.objectStore(Nn),C=P.index("_doc_id_rev"),A=[];return E.get(Nn).onsuccess=function(e){x=e.target.result.docCount},e.update_seq&&function(e,t){function r(e){var r=e.target.result,o=void 0;return r&&r.key&&(o=r.key),t({target:{result:[o]}})}e.openCursor(null,"prev").onsuccess=r}(P,function(e){e.target.result&&e.target.result.length>0&&(S=e.target.result[0])}),u||0===v?void 0:y?cr(e.keys,k,a):-1===v?sr(k,p,s):void ar(k,p,e.descending,v+f,a)}function ur(e){return new Promise(function(t){var r=V([""]),o=e.objectStore(On).put(r,"key");o.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)},o.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function dr(e,t){e.objectStore(zn).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function hr(e,t,r,o){try{e(t,r)}catch(t){o.emit("error",t)}}function mr(){!Dn&&Ln.length&&(Dn=!0,Ln.shift()())}function yr(e,t,r){Ln.push(function(){e(function(e,o){hr(t,e,o,r),Dn=!1,Mo()(function(){mr(r)})})}),mr()}function fr(e,t,r,o){function n(t,r,o){function n(t,r){var o=e.processChange(r,t,e);d=o.seq=t.seq;var n=w(o);return"object"===typeof n?Promise.reject(n):n?(_++,e.return_docs&&g.push(o),e.attachments&&e.include_docs?new Promise(function(t){tr(r,e,m,function(){rr([o],e.binary).then(function(){t(o)})})}):Promise.resolve(o)):Promise.resolve()}function i(){for(var t=[],r=0,i=s.length;r<i&&_!==h;r++){var a=s[r];if(a){var l=c[r];t.push(n(l,a))}}Promise.all(t).then(function(t){for(var r=0,o=t.length;r<o;r++)t[r]&&e.onChange(t[r])}).catch(e.complete),_!==h&&o.continue()}if(o&&t.length){var s=new Array(t.length),c=new Array(t.length),l=0;r.forEach(function(e,r){a($t(e),t[r],function(e,o){c[r]=e,s[r]=o,++l===t.length&&i()})})}}function i(e,t,r,o){if(r.seq!==t)return o();if(r.winningRev===e._rev)return o(r,e);var n=e._id+"::"+r.winningRev;v.get(n).onsuccess=function(e){o(r,$t(e.target.result))}}function a(e,t,r){if(u&&!u.has(e._id))return r();var o=b.get(e._id);if(o)return i(e,t,o,r);f.get(e._id).onsuccess=function(n){o=Yt(n.target.result),b.set(e._id,o),i(e,t,o,r)}}function s(){e.complete(null,{results:g,last_seq:d})}function l(){!e.continuous&&e.attachments?rr(g).then(s):s()}if(e=c(e),e.continuous){var p=r+":"+vn();return jn.addListener(r,p,t,e),jn.notify(r),{cancel:function(){jn.removeListener(r,p)}}}var u=e.doc_ids&&new Uo(e.doc_ids);e.since=e.since||0;var d=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var m,y,f,v,g=[],_=0,w=R(e),b=new qo,x=[zn,Rn];e.attachments&&x.push(Fn);var S=nr(o,x,"readonly");if(S.error)return e.complete(S.error);m=S.txn,m.onabort=Kt(e.complete),m.oncomplete=l,y=m.objectStore(Rn),f=m.objectStore(zn),v=y.index("_doc_id_rev"),ar(y,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,n)}function vr(e,t){var r=this;yr(function(t){gr(r,e,t)},t,r.constructor)}function gr(e,t,r){function o(e){var t=e.createObjectStore(zn,{keyPath:"id"});e.createObjectStore(Rn,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Fn,{keyPath:"digest"}),e.createObjectStore(Nn,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(On),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Bn,{keyPath:"_id"});var r=e.createObjectStore(In,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function n(e,t){var r=e.objectStore(zn);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var n=o.value,i=Se(n);n.deletedOrLocal=i?"1":"0",r.put(n),o.continue()}else t()}}function i(e){e.createObjectStore(Bn,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var r=e.objectStore(Bn),o=e.objectStore(zn),n=e.objectStore(Rn);o.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,s=a.id,c=ke(s),l=ie(a);if(c){var p=s+"::"+l,u=s+"::",d=s+"::~",h=n.index("_doc_id_rev"),m=IDBKeyRange.bound(u,d,!1,!1),y=h.openCursor(m);y.onsuccess=function(e){if(y=e.target.result){var t=y.value;t._doc_id_rev===p&&r.put(t),n.delete(y.primaryKey),y.continue()}else o.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function s(e){var t=e.createObjectStore(In,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function c(e,t){var r=e.objectStore(Rn),o=e.objectStore(Fn),n=e.objectStore(In);o.count().onsuccess=function(e){if(!e.target.result)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var o=r.value,i=r.primaryKey,a=Object.keys(o._attachments||{}),s={},c=0;c<a.length;c++)s[o._attachments[a[c]].digest]=!0;var l=Object.keys(s);for(c=0;c<l.length;c++){var p=l[c];n.put({seq:i,digestSeq:p+"::"+i})}r.continue()}}}function l(e){function t(e){return e.data?Yt(e):(e.deleted="1"===e.deletedOrLocal,e)}var r=e.objectStore(Rn),o=e.objectStore(zn);o.openCursor().onsuccess=function(e){function n(){var e=Qt(a,a.winningRev,a.deleted);o.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||ie(a),a.seq)return n();!function(){var e=a.id+"::",t=a.id+"::\uffff",o=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;o.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,n();var r=t.primaryKey;r>i&&(i=r),t.continue()}}()}}}var u=t.name,d=null;e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=p(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(r,o,n){ir(t,r,o,e,d,n)},e._get=function(e,t,r){function o(){r(a,{doc:n,metadata:i,ctx:s})}var n,i,a,s=t.ctx;if(!s){var c=nr(d,[zn,Rn,Fn],"readonly");if(c.error)return r(c.error);s=c.txn}s.objectStore(zn).get(e).onsuccess=function(e){if(!(i=Yt(e.target.result)))return a=M(Jo,"missing"),o();var r;if(t.rev)r=t.latest?Pe(t.rev,i):t.rev;else{r=i.winningRev;if(Se(i))return a=M(Jo,"deleted"),o()}var c=s.objectStore(Rn),l=i.id+"::"+r;c.index("_doc_id_rev").get(l).onsuccess=function(e){if(n=e.target.result,n&&(n=$t(n)),!n)return a=M(Jo,"missing"),o();o()}}},e._getAttachment=function(e,t,r,o,n){var i;if(o.ctx)i=o.ctx;else{var a=nr(d,[zn,Rn,Fn],"readonly");if(a.error)return n(a.error);i=a.txn}var s=r.digest,c=r.content_type;i.objectStore(Fn).get(s).onsuccess=function(e){er(e.target.result.body,c,o.binary,function(e){n(null,e)})}},e._info=function(t){var r,o,n=nr(d,[Nn,Rn],"readonly");if(n.error)return t(n.error);var i=n.txn;i.objectStore(Nn).get(Nn).onsuccess=function(e){o=e.target.result.docCount},i.objectStore(Rn).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:o,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){pr(e,d,t)},e._changes=function(t){return fr(t,e,u,d)},e._close=function(e){d.close(),Un.delete(u),e()},e._getRevisionTree=function(e,t){var r=nr(d,[zn],"readonly");if(r.error)return t(r.error);r.txn.objectStore(zn).get(e).onsuccess=function(e){var r=Yt(e.target.result);r?t(null,r.rev_tree):t(M(Jo))}},e._doCompaction=function(e,t,r){var o=[zn,Rn,Fn,In],n=nr(d,o,"readwrite");if(n.error)return r(n.error);var i=n.txn;i.objectStore(zn).get(e).onsuccess=function(r){var o=Yt(r.target.result);ae(o.rev_tree,function(e,r,o,n,i){var a=r+"-"+o;-1!==t.indexOf(a)&&(i.status="missing")}),or(t,e,i);var n=o.winningRev,a=o.deleted;i.objectStore(zn).put(Qt(o,n,a))},i.onabort=Kt(r),i.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=nr(d,[Bn],"readonly");if(r.error)return t(r.error);var o=r.txn,n=o.objectStore(Bn).get(e);n.onerror=Kt(t),n.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(M(Jo))}},e._putLocal=function(e,t,r){"function"===typeof t&&(r=t,t={}),delete e._revisions;var o=e._rev,n=e._id;e._rev=o?"0-"+(parseInt(o.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var s=nr(d,[Bn],"readwrite");if(s.error)return r(s.error);a=s.txn,a.onerror=Kt(r),a.oncomplete=function(){i&&r(null,i)}}var c,l=a.objectStore(Bn);o?(c=l.get(n),c.onsuccess=function(n){var a=n.target.result;if(a&&a._rev===o){l.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)}}else r(M(Xo))}):(c=l.add(e),c.onerror=function(e){r(M(Xo)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,i)})},e._removeLocal=function(e,t,r){"function"===typeof t&&(r=t,t={});var o=t.ctx;if(!o){var n=nr(d,[Bn],"readwrite");if(n.error)return r(n.error);o=n.txn,o.oncomplete=function(){i&&r(null,i)}}var i,a=e._id,s=o.objectStore(Bn),c=s.get(a);c.onerror=Kt(r),c.onsuccess=function(o){var n=o.target.result;n&&n._rev===e._rev?(s.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&r(null,i)):r(M(Jo))}},e._destroy=function(e,t){jn.removeAllListeners(u);var r=qn.get(u);r&&r.result&&(r.result.close(),Un.delete(u));var o=indexedDB.deleteDatabase(u);o.onsuccess=function(){qn.delete(u),b()&&u in localStorage&&delete localStorage[u],t(null,{ok:!0})},o.onerror=Kt(t)};var h=Un.get(u);if(h)return d=h.idb,e._meta=h.global,Mo()(function(){r(null,e)});var m=indexedDB.open(u,Tn);qn.set(u,m),m.onupgradeneeded=function(e){function t(){var e=u[d-1];d++,e&&e(p,t)}var r=e.target.result;if(e.oldVersion<1)return o(r);var p=e.currentTarget.transaction;e.oldVersion<3&&i(r),e.oldVersion<4&&s(r);var u=[n,a,c,l],d=e.oldVersion;t()},m.onsuccess=function(t){function o(){"undefined"!==typeof s&&p&&(e._meta={name:u,instanceId:c,blobSupport:s},Un.set(u,{idb:d,global:e._meta}),r(null,e))}function n(){if("undefined"!==typeof a&&"undefined"!==typeof i){var e=u+"_id";e in i?c=i[e]:i[e]=c=vn(),i.docCount=a,l.objectStore(Nn).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),Un.delete(u)},d.onabort=function(e){k("error","Database has a global failure",e.target.error),d.close(),Un.delete(u)};var i,a,s,c,l=d.transaction([Nn,On,zn],"readwrite"),p=!1;l.objectStore(Nn).get(Nn).onsuccess=function(e){i=e.target.result||{id:Nn},n()},dr(l,function(e){a=e,n()}),Cn||(Cn=ur(l)),Cn.then(function(e){s=e,o()}),l.oncomplete=function(){p=!0,o()},l.onabort=Kt(r)},m.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";k("error",e),r(M(an,e))}}function _r(e){e.adapter("idb",vr,!0)}function wr(e,t){return new Promise(function(r,o){function n(){p++,e[u++]().then(a,s)}function i(){++d===h?l?o(l):r():c()}function a(){p--,i()}function s(e){p--,l=l||e,i()}function c(){for(;p<t&&u<h;)n()}var l,p=0,u=0,d=0,h=e.length;c()})}function br(e){var t=e.doc||e.ok,r=t._attachments;r&&Object.keys(r).forEach(function(e){var t=r[e];t.data=G(t.data,t.content_type)})}function xr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Sr(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!==typeof r.data)return new Promise(function(e){K(r.data,e)}).then(function(e){r.data=e})})):Promise.resolve()}function kr(e){if(!e.prefix)return!1;var t=D(e.prefix).protocol;return"http"===t||"https"===t}function Pr(e,t){if(kr(t)){var r=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(r)}var o=D(e);(o.user||o.password)&&(o.auth={username:o.user,password:o.password});var n=o.path.replace(/(^\/|\/$)/g,"").split("/");return o.db=n.pop(),-1===o.db.indexOf("%")&&(o.db=encodeURIComponent(o.db)),o.path=n.join("/"),o}function Er(e,t){return Cr(e,e.db+"/"+t)}function Cr(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function Ar(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function Mr(e){var t="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==t.indexOf("msie"),o=-1!==t.indexOf("trident"),n=-1!==t.indexOf("edge"),i=!("method"in e)||"GET"===e.method;return(r||o||n)&&i}function Tr(e,t){function r(e,t){return d(e,Co()(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})})).bind(s)}function n(e,t,r){var o={};return t=t||{},t.headers=t.headers||new wn,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),h(e,t).then(function(e){return o.ok=e.ok,o.status=e.status,e.json()}).then(function(e){if(o.data=e,!o.ok){o.data.status=o.status;var t=T(o.data);if(r)return r(t);throw t}if(Array.isArray(o.data)&&(o.data=o.data.map(function(e){return e.error||e.missing?T(e):e})),!r)return o;r(null,o.data)})}function i(){return e.skip_setup?Promise.resolve():u||(u=n(p).catch(function(e){return e&&e.status&&404===e.status?(C(404,"PouchDB is just detecting if the remote exists."),n(p,{method:"PUT"})):Promise.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}),u.catch(function(){u=null}),u)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var s=this,l=Pr(e.name,e),p=Er(l,"");e=c(e);var u,h=function(t,r){if(r=r||{},r.headers=r.headers||new wn,e.auth||l.auth){var o=e.auth||l.auth,n=o.username+":"+o.password,i=mn(unescape(encodeURIComponent(n)));r.headers.set("Authorization","Basic "+i)}var a=e.headers||{};return Object.keys(a).forEach(function(e){r.headers.append(e,a[e])}),Mr(r)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||_n)(t,r)};Mo()(function(){t(null,s)}),s._remote=!0,s.type=function(){return"http"},s.id=r("id",function(e){h(Cr(l,"")).then(function(e){return e.json()}).then(function(t){var r=t&&t.uuid?t.uuid+l.db:Er(l,"");e(null,r)}).catch(function(t){e(t)})}),s.compact=r("compact",function(e,t){"function"===typeof e&&(t=e,e={}),e=c(e),n(Er(l,"_compact"),{method:"POST"}).then(function(){function r(){s.info(function(o,n){n&&!n.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}r()})}),s.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(Er(l,"_bulk_get"+Ar(r)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then(function(r){e.attachments&&e.binary&&r.data.results.forEach(function(e){e.docs.forEach(br)}),t(null,r.data)}).catch(t)}function o(){for(var r=Wn,o=Math.ceil(e.docs.length/r),n=0,a=new Array(o),s=0;s<o;s++){var c=v(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(s*r,Math.min(e.docs.length,(s+1)*r)),w(i,c,function(e){return function(r,i){a[e]=i.results,++n===o&&t(null,{results:F(a)})}}(s))}}var i=this,a=Cr(l,""),s=Zn[a];"boolean"!==typeof s?r(function(e,r){e?(Zn[a]=!1,C(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Zn[a]=!0,t(null,r))}):s?r(t):o()}),s._info=function(e){i().then(function(){return h(Er(l,""))}).then(function(e){return e.json()}).then(function(t){t.host=Er(l,""),e(null,t)}).catch(e)},s.fetch=function(e,t){return i().then(function(){return h(Er(l,e),t)})},s.get=r("get",function(e,t,r){function i(e){function r(r){var i=n[r],s=xr(e._id)+"/"+a(r)+"?rev="+e._rev;return h(Er(l,s)).then(function(e){return"undefined"===typeof o||o.browser?e.blob():e.buffer()}).then(function(e){return t.binary?("undefined"===typeof o||o.browser||(e.type=i.content_type),e):new Promise(function(t){K(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length){return wr(i.map(function(e){return function(){return r(e)}}),5)}}function s(e){return Array.isArray(e)?Promise.all(e.map(function(e){if(e.ok)return i(e.ok)})):i(e)}"function"===typeof t&&(r=t,t={}),t=c(t);var p={};t.revs&&(p.revs=!0),t.revs_info&&(p.revs_info=!0),t.latest&&(p.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),p.open_revs=t.open_revs),t.rev&&(p.rev=t.rev),t.conflicts&&(p.conflicts=t.conflicts),t.update_seq&&(p.update_seq=t.update_seq),e=xr(e),n(Er(l,e+Ar(p))).then(function(e){return Promise.resolve().then(function(){if(t.attachments)return s(e.data)}).then(function(){r(null,e.data)})}).catch(function(t){t.docId=e,r(t)})}),s.remove=r("remove",function(e,t,r,o){var i;"string"===typeof t?(i={_id:e,_rev:t},"function"===typeof r&&(o=r,r={})):(i=e,"function"===typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(Er(l,xr(i._id))+"?rev="+a,{method:"DELETE"},o).catch(o)}),s.getAttachment=r("getAttachment",function(e,t,r,n){"function"===typeof r&&(n=r,r={});var i,s=r.rev?"?rev="+r.rev:"",c=Er(l,xr(e))+"/"+a(t)+s;h(c,{method:"GET"}).then(function(e){if(i=e.headers.get("content-type"),e.ok)return"undefined"===typeof o||o.browser?e.blob():e.buffer();throw e}).then(function(e){"undefined"===typeof o||o.browser||(e.type=i),n(null,e)}).catch(function(e){n(e)})}),s.removeAttachment=r("removeAttachment",function(e,t,r,o){n(Er(l,xr(e)+"/"+a(t))+"?rev="+r,{method:"DELETE"},o).catch(o)}),s.putAttachment=r("putAttachment",function(e,t,r,o,i,s){"function"===typeof i&&(s=i,i=o,o=r,r=null);var c=xr(e)+"/"+a(t),p=Er(l,c);if(r&&(p+="?rev="+r),"string"===typeof o){var u;try{u=hn(o)}catch(e){return s(M(en,"Attachment is not a valid base64 string"))}o=u?H(u,i):""}n(p,{headers:new wn({"Content-Type":i}),method:"PUT",body:o},s).catch(s)}),s._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return Promise.all(e.docs.map(Sr))}).then(function(){return n(Er(l,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},r)}).catch(r)},s._put=function(e,t,r){i().then(function(){return Sr(e)}).then(function(){return n(Er(l,xr(e._id)),{method:"PUT",body:JSON.stringify(e)})}).then(function(e){r(null,e.data)}).catch(function(t){t.docId=e&&e._id,r(t)})},s.allDocs=r("allDocs",function(e,t){"function"===typeof e&&(t=e,e={}),e=c(e);var r,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.update_seq&&(o.update_seq=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),"undefined"!==typeof e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),"undefined"!==typeof e.limit&&(o.limit=e.limit),"undefined"!==typeof e.skip&&(o.skip=e.skip);var a=Ar(o);"undefined"!==typeof e.keys&&(i="POST",r={keys:e.keys}),n(Er(l,"_all_docs"+a),{method:i,body:JSON.stringify(r)}).then(function(r){e.include_docs&&e.attachments&&e.binary&&r.data.rows.forEach(br),t(null,r.data)}).catch(t)}),s._changes=function(e){var t="batch_size"in e?e.batch_size:Vn;e=c(e),!e.continuous||"heartbeat"in e||(e.heartbeat=Gn);var r="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<Hn&&(r=e.timeout+Hn),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<Hn&&(r=e.heartbeat+Hn);var o={};"timeout"in e&&e.timeout&&(o.timeout=e.timeout);var a="undefined"!==typeof e.limit&&e.limit,s=a;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"===typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.seq_interval&&(o.seq_interval=e.seq_interval),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.update_seq&&(o.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(o.heartbeat=e.heartbeat),e.filter&&"string"===typeof e.filter&&(o.filter=e.filter),e.view&&"string"===typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"===typeof e.query_params)for(var p in e.query_params)e.query_params.hasOwnProperty(p)&&(o[p]=e.query_params[p]);var u,d="GET";e.doc_ids?(o.filter="_doc_ids",d="POST",u={doc_ids:e.doc_ids}):e.selector&&(o.filter="_selector",d="POST",u={selector:e.selector});var h,m=new gn,y=function(r,c){if(!e.aborted){o.since=r,"object"===typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?a&&(o.limit=s):o.limit=!a||s>t?t:s;var p=Er(l,"_changes"+Ar(o)),y={signal:m.signal,method:d,body:JSON.stringify(u)};h=r,e.aborted||i().then(function(){return n(p,y,c)}).catch(c)}},f={results:[]},v=function(r,o){if(!e.aborted){var n=0;if(o&&o.results){n=o.results.length,f.last_seq=o.last_seq;var i=null,c=null;"number"===typeof o.pending&&(i=o.pending),"string"!==typeof f.last_seq&&"number"!==typeof f.last_seq||(c=f.last_seq);({}).query=e.query_params,o.results=o.results.filter(function(t){s--;var r=R(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&br(t),e.return_docs&&f.results.push(t),e.onChange(t,i,c)),r})}else if(r)return e.aborted=!0,void e.complete(r);o&&o.last_seq&&(h=o.last_seq);var l=a&&s<=0||o&&n<t||e.descending;(!e.continuous||a&&s<=0)&&l?e.complete(null,f):Mo()(function(){y(h,v)})}};return y(e.since||0,v),{cancel:function(){e.aborted=!0,m.abort()}}},s.revsDiff=r("revsDiff",function(e,t,r){"function"===typeof t&&(r=t,t={}),n(Er(l,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},r).catch(r)}),s._close=function(e){e()},s._destroy=function(e,t){n(Er(l,""),{method:"DELETE"}).then(function(e){t(null,e)}).catch(function(e){404===e.status?t(null,{ok:!0}):t(e)})}}function zr(e){e.adapter("http",Tr,!1),e.adapter("https",Tr,!1)}function Rr(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Rr)}catch(e){}}function Fr(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Fr)}catch(e){}}function Ir(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ir)}catch(e){}}function Nr(e,t){return t&&e.then(function(e){Mo()(function(){t(null,e)})},function(e){Mo()(function(){t(e)})}),e}function Br(e){return Co()(function(t){var r=t.pop(),o=e.apply(this,t);return"function"===typeof r&&Nr(o,r),o})}function Or(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function jr(e,t){return function(){var r=arguments,o=this;return e.add(function(){return t.apply(o,r)})}}function Dr(e){var t=new Uo(e),r=new Array(t.size),o=-1;return t.forEach(function(e){r[++o]=e}),r}function Lr(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,o){t[++r]=o}),t}function Ur(e){return new Ir("builtin "+e+" function requires map values to be numbers or number arrays")}function qr(e){for(var t=0,r=0,o=e.length;r<o;r++){var n=e[r];if("number"!==typeof n){if(!Array.isArray(n))throw Ur("_sum");t="number"===typeof t?[t]:t;for(var i=0,a=n.length;i<a;i++){var s=n[i];if("number"!==typeof s)throw Ur("_sum");"undefined"===typeof t[i]?t.push(s):t[i]+=s}}else"number"===typeof t?t+=n:t[0]+=n}return t}function Vr(e,t){return L("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:qr,log:Jn,isArray:Xn,toJSON:Kn})}function Wr(){this.promise=new Promise(function(e){e()})}function Hr(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Gr(e,t){return Hr(e)+Hr(t)+"undefined"}function Zr(e,t,r,o,n,i){var a,s=Gr(r,o);if(!n&&(a=e._cachedViews=e._cachedViews||{},a[s]))return a[s];var c=e.info().then(function(c){function l(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var o=e.views[r]=e.views[r]||{};if(!o[p])return o[p]=!0,e}var p=c.db_name+"-mrview-"+(n?"temp":oe(s));return U(e,"_local/"+i,l).then(function(){return e.registerDependentDatabase(p).then(function(t){var n=t.db;n.auto_compaction=!0;var i={name:p,db:n,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:o};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,a&&i.db.once("destroyed",function(){delete a[s]}),i})})})});return a&&(a[s]=c),c}function Jr(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Xr(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Kr(e,t){try{e.emit("error",t)}catch(e){k("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),k("error",t)}}function Qr(e){if(/^_sum/.test(e))return ei._sum;if(/^_count/.test(e))return ei._count;if(/^_stats/.test(e))return ei._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function Yr(e,t){if("function"===typeof e&&2===e.length){var r=e;return function(e){return r(e,t)}}return Vr(e.toString(),t)}function $r(e){var t=e.toString(),r=Qr(t);return r||Vr(t)}function eo(e,t){var r=e.views&&e.views[t];if("string"!==typeof r.map)throw new Fr("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)}function to(e,t,r){return ti.query.call(this,e,t,r)}function ro(e){return ti.viewCleanup.call(this,e)}function oo(e){return/^1-/.test(e)}function no(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}function io(e,t){var r=Object.keys(t._attachments);return Promise.all(r.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function ao(e,t,r){var o=N(t)&&!N(e),n=Object.keys(r._attachments);return o?e.get(r._id).then(function(o){return Promise.all(n.map(function(n){return no(o,r,n)?t.getAttachment(r._id,n):e.getAttachment(o._id,n)}))}).catch(function(e){if(404!==e.status)throw e;return io(t,r)}):io(t,r)}function so(e){var t=[];return Object.keys(e).forEach(function(r){e[r].missing.forEach(function(e){t.push({id:r,rev:e})})}),{docs:t,revs:!0,latest:!0}}function co(e,t,r,o){function n(){var n=so(r);if(n.docs.length)return e.bulkGet(n).then(function(r){if(o.cancelled)throw new Error("cancelled");return Promise.all(r.results.map(function(r){return Promise.all(r.docs.map(function(r){var o=r.ok;return r.error&&(d=!1),o&&o._attachments?ao(t,e,o).then(function(e){var t=Object.keys(o._attachments);return e.forEach(function(e,r){var n=o._attachments[t[r]];delete n.stub,delete n.length,n.data=e}),o}):o}))})).then(function(e){u=u.concat(F(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(o.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!oo(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,u.push(e.doc),delete r[e.id])})})}function l(){var e=Object.keys(r).filter(function(e){var t=r[e].missing;return 1===t.length&&oo(t[0])});if(e.length>0)return s(e)}function p(){return{ok:d,docs:u}}r=c(r);var u=[],d=!0;return Promise.resolve().then(l).then(n).then(p)}function lo(e,t,r,o,n){return e.get(t).catch(function(r){if(404===r.status)return"http"!==e.adapter&&"https"!==e.adapter||C(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:o,_id:t,history:[],replicator:ni,version:oi};throw r}).then(function(i){if(!n.cancelled&&i.last_seq!==r)return i.history=(i.history||[]).filter(function(e){return e.session_id!==o}),i.history.unshift({last_seq:r,session_id:o}),i.history=i.history.slice(0,ii),i.version=oi,i.replicator=ni,i.session_id=o,i.last_seq=r,e.put(i).catch(function(i){if(409===i.status)return lo(e,t,r,o,n);throw i})})}function po(e,t,r,o,n){this.src=e,this.target=t,this.id=r,this.returnValue=o,this.opts=n||{}}function uo(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:ho(e.history,t.history)}function ho(e,t){var r=e[0],o=e.slice(1),n=t[0],i=t.slice(1);return r&&0!==t.length?mo(r.session_id,t)?{last_seq:r.last_seq,history:e}:mo(n.session_id,o)?{last_seq:n.last_seq,history:i}:ho(o,i):{last_seq:ai,history:[]}}function mo(e,t){var r=t[0],o=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||mo(e,o))}function yo(e){return"number"===typeof e.status&&4===Math.floor(e.status/100)}function fo(e,t,r,o){if(!1===e.retry)return t.emit("error",r),void t.removeAllListeners();if("function"!==typeof e.back_off_function&&(e.back_off_function=E),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var n=function(){e.current_back_off=ci},i=function(){t.removeListener("active",n)};t.once("paused",i),t.once("active",n)}e.current_back_off=e.current_back_off||ci,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(o,e.current_back_off)}function vo(e){return Object.keys(e).sort(rt).reduce(function(t,r){return t[r]=e[r],t},{})}function go(e,t,r){var o=r.doc_ids?r.doc_ids.sort(rt):"",n=r.filter?r.filter.toString():"",i="",a="",s="";return r.selector&&(s=JSON.stringify(r.selector)),r.filter&&r.query_params&&(i=JSON.stringify(vo(r.query_params))),r.filter&&"_view"===r.filter&&(a=r.view.toString()),Promise.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+n+a+i+o+s;return new Promise(function(e){re(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function _o(e,t,r,o,n){function i(){return S?Promise.resolve():go(e,t,r).then(function(n){x=n;var i={};i=!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},S=new po(e,t,x,o,i)})}function a(){if(j=[],0!==b.docs.length){var e=b.docs,i={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(o.cancelled)throw m(),new Error("cancelled");var r=Object.create(null);t.forEach(function(e){e.error&&(r[e.id]=e)});var i=Object.keys(r).length;n.doc_write_failures+=i,n.docs_written+=e.length-i,e.forEach(function(e){var t=r[e._id];if(t){n.errors.push(t);var i=(t.name||"").toLowerCase();if("unauthorized"!==i&&"forbidden"!==i)throw t;o.emit("denied",c(t))}else j.push(e)})},function(t){throw n.doc_write_failures+=e.length,t})}}function s(){if(b.error)throw new Error("There was a problem getting docs.");n.last_seq=T=b.seq;var e=c(n);return j.length&&(e.docs=j,"number"===typeof b.pending&&(e.pending=b.pending,delete b.pending),o.emit("change",e)),E=!0,S.writeCheckpoint(b.seq,D).then(function(){if(E=!1,o.cancelled)throw m(),new Error("cancelled");b=void 0,g()}).catch(function(e){throw w(e),e})}function l(){var e={};return b.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(o.cancelled)throw m(),new Error("cancelled");b.diffs=e})}function p(){return co(e,t,b.diffs,o).then(function(e){b.error=!e.ok,e.docs.forEach(function(e){delete b.diffs[e._id],n.docs_read++,b.docs.push(e)})})}function u(){if(!o.cancelled&&!b){if(0===k.length)return void d(!0);b=k.shift(),l().then(p).then(a).then(s).then(u).catch(function(e){h("batch processing terminated with error",e)})}}function d(e){if(0===P.changes.length)return void(0!==k.length||b||((z&&L.live||C)&&(o.state="pending",o.emit("paused")),C&&m()));(e||C||P.changes.length>=F)&&(k.push(P),P={seq:0,changes:[],docs:[]},"pending"!==o.state&&"stopped"!==o.state||(o.state="active",o.emit("active")),u())}function h(e,t){A||(t.message||(t.message=e),n.ok=!1,n.status="aborting",k=[],P={seq:0,changes:[],docs:[]},m(t))}function m(i){if(!A&&(!o.cancelled||(n.status="cancelled",!E)))if(n.status=n.status||"complete",n.end_time=(new Date).toISOString(),n.last_seq=T,A=!0,i){i=M(i),i.result=n;var a=(i.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(o.emit("error",i),o.removeAllListeners()):fo(r,o,i,function(){_o(e,t,r,o)})}else o.emit("complete",n),o.removeAllListeners()}function y(e,t,n){if(o.cancelled)return m();"number"===typeof t&&(P.pending=t),R(r)(e)&&(P.seq=e.seq||n,P.changes.push(e),Mo()(function(){d(0===k.length&&L.live)}))}function f(e){if(N=!1,o.cancelled)return m();if(e.results.length>0)L.since=e.results[e.results.length-1].seq,g(),d(!0);else{var t=function(){z?(L.live=!0,g()):C=!0,d(!0)};b||0!==e.results.length?t():(E=!0,S.writeCheckpoint(e.last_seq,D).then(function(){E=!1,n.last_seq=T=e.last_seq,t()}).catch(w))}}function v(e){if(N=!1,o.cancelled)return m();h("changes rejected",e)}function g(){function t(){i.cancel()}function n(){o.removeListener("cancel",t)}if(!N&&!C&&k.length<I){N=!0,o._changes&&(o.removeListener("cancel",o._abortChanges),o._changes.cancel()),o.once("cancel",t);var i=e.changes(L).on("change",y);i.then(n,n),i.then(f).catch(v),r.retry&&(o._changes=i,o._abortChanges=t)}}function _(){i().then(function(){return o.cancelled?void m():S.getCheckpoint().then(function(e){T=e,L={since:T,limit:F,batch_size:F,style:"all_docs",doc_ids:B,selector:O,return_docs:!0},r.filter&&("string"!==typeof r.filter?L.include_docs=!0:L.filter=r.filter),"heartbeat"in r&&(L.heartbeat=r.heartbeat),"timeout"in r&&(L.timeout=r.timeout),r.query_params&&(L.query_params=r.query_params),r.view&&(L.view=r.view),g()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function w(e){E=!1,h("writeCheckpoint completed with error",e)}var b,x,S,k=[],P={seq:0,changes:[],docs:[]},E=!1,C=!1,A=!1,T=0,z=r.continuous||r.live||!1,F=r.batch_size||100,I=r.batches_limit||10,N=!1,B=r.doc_ids,O=r.selector,j=[],D=vn();n=n||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var L={};if(o.ready(e,t),o.cancelled)return void m();o._addedListeners||(o.once("cancel",m),"function"===typeof r.complete&&(o.once("error",r.complete),o.once("complete",function(e){r.complete(null,e)})),o._addedListeners=!0),"undefined"===typeof r.since?_():i().then(function(){return E=!0,S.writeCheckpoint(r.since,D)}).then(function(){if(E=!1,o.cancelled)return void m();T=r.since,_()}).catch(w)}function wo(){To.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise(function(t,r){e.once("complete",t),e.once("error",r)});e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function bo(e,t){var r=t.PouchConstructor;return"string"===typeof e?new r(e,t):e}function xo(e,t,r,o){if("function"===typeof r&&(o=r,r={}),"undefined"===typeof r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw M(on,"`doc_ids` filter parameter is not a list.");r.complete=o,r=c(r),r.continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var n=new wo(r);return _o(bo(e,r),bo(t,r),r,n),n}function So(e,t,r,o){return"function"===typeof r&&(o=r,r={}),"undefined"===typeof r&&(r={}),r=c(r),r.PouchConstructor=r.PouchConstructor||this,e=bo(e,r),t=bo(t,r),new ko(e,t,r,o)}function ko(e,t,r,o){function n(e){m.emit("change",{direction:"pull",change:e})}function i(e){m.emit("change",{direction:"push",change:e})}function a(e){m.emit("denied",{direction:"push",doc:e})}function s(e){m.emit("denied",{direction:"pull",doc:e})}function c(){m.pushPaused=!0,m.pullPaused&&m.emit("paused")}function l(){m.pullPaused=!0,m.pushPaused&&m.emit("paused")}function p(){m.pushPaused=!1,m.pullPaused&&m.emit("active",{direction:"push"})}function u(){m.pullPaused=!1,m.pushPaused&&m.emit("active",{direction:"pull"})}function d(e){return function(t,r){var o="change"===t&&(r===n||r===i),d="denied"===t&&(r===s||r===a),h="paused"===t&&(r===l||r===c),y="active"===t&&(r===u||r===p);(o||d||h||y)&&(t in v||(v[t]={}),v[t][e]=!0,2===Object.keys(v[t]).length&&m.removeAllListeners(t))}}function h(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}var m=this;this.canceled=!1;var y=r.push?Go({},r,r.push):r,f=r.pull?Go({},r,r.pull):r;this.push=xo(e,t,y),this.pull=xo(t,e,f),this.pushPaused=!0,this.pullPaused=!0;var v={};r.live&&(this.push.on("complete",m.pull.cancel.bind(m.pull)),this.pull.on("complete",m.push.cancel.bind(m.push))),this.on("newListener",function(e){"change"===e?(h(m.pull,"change",n),h(m.push,"change",i)):"denied"===e?(h(m.pull,"denied",s),h(m.push,"denied",a)):"active"===e?(h(m.pull,"active",u),h(m.push,"active",p)):"paused"===e&&(h(m.pull,"paused",l),h(m.push,"paused",c))}),this.on("removeListener",function(e){"change"===e?(m.pull.removeListener("change",n),m.push.removeListener("change",i)):"denied"===e?(m.pull.removeListener("denied",s),m.push.removeListener("denied",a)):"active"===e?(m.pull.removeListener("active",u),m.push.removeListener("active",p)):"paused"===e&&(m.pull.removeListener("paused",l),m.push.removeListener("paused",c))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return m.emit("complete",t),o&&o(null,t),m.removeAllListeners(),t},function(e){if(m.cancel(),o?o(e):m.emit("error",e),m.removeAllListeners(),o)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function Po(e){e.replicate=xo,e.sync=So,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return"undefined"===typeof this.replicateMethods&&(this.replicateMethods={from:function(t,r,o){return e.constructor.replicate(t,e,r,o)},to:function(t,r,o){return e.constructor.replicate(e,t,r,o)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}var Eo=r(12),Co=r.n(Eo),Ao=r(35),Mo=r.n(Ao),To=r(36),zo=(r.n(To),r(7)),Ro=r.n(zo),Fo=r(37),Io=r.n(Fo),No=r(127),Bo=r.n(No),Oo=r(130),jo=r.n(Oo),Do=Function.prototype.toString,Lo=Do.call(Object);y.prototype.get=function(e){var t=h(e);return this._store[t]},y.prototype.set=function(e,t){var r=h(e);return this._store[r]=t,!0},y.prototype.has=function(e){return h(e)in this._store},y.prototype.delete=function(e){var t=h(e),r=t in this._store;return delete this._store[t],r},y.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,o=t.length;r<o;r++){var n=t[r],i=this._store[n];n=m(n),e(i,n)}},Object.defineProperty(y.prototype,"size",{get:function(){return Object.keys(this._store).length}}),f.prototype.add=function(e){return this._store.set(e,!0)},f.prototype.has=function(e){return this._store.has(e)},f.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(f.prototype,"size",{get:function(){return this._store.size}});var Uo,qo;!function(){if("undefined"===typeof Symbol||"undefined"===typeof Map||"undefined"===typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(Uo=f,qo=y):(Uo=Set,qo=Map);var Vo,Wo=6;try{localStorage.setItem("_pouch_check_localstorage",1),Vo=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Vo=!1}Ro()(S,To.EventEmitter),S.prototype.addListener=function(e,t,r,o){function n(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var s=v(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(s).on("change",function(e){e.seq>o.since&&!o.cancelled&&(o.since=e.seq,o.onChange(e))}).on("complete",function(){"waiting"===a&&Mo()(n),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=n,this.on(e,n)}},S.prototype.removeListener=function(e,t){t in this._listeners&&(To.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},S.prototype.notifyLocalWindows=function(e){b()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},S.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Ho;Ho="function"===typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var Go=Ho;Ro()(A,Error),A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Zo=(new A(401,"unauthorized","Name or password is incorrect."),new A(400,"bad_request","Missing JSON list of 'docs'")),Jo=new A(404,"not_found","missing"),Xo=new A(409,"conflict","Document update conflict"),Ko=new A(400,"bad_request","_id field must contain a string"),Qo=new A(412,"missing_id","_id is required for puts"),Yo=new A(400,"bad_request","Only reserved document ids may start with underscore."),$o=(new A(412,"precondition_failed","Database not open"),new A(500,"unknown_error","Database encountered an unknown error")),en=new A(500,"badarg","Some query argument is invalid"),tn=(new A(400,"invalid_request","Request was invalid"),new A(400,"query_parse_error","Some query parameter is invalid")),rn=new A(500,"doc_validation","Bad special document member"),on=new A(400,"bad_request","Something wrong with the request"),nn=new A(400,"bad_request","Document must be a JSON object"),an=(new A(404,"not_found","Database not found"),new A(500,"indexed_db_went_bad","unknown")),sn=(new A(500,"web_sql_went_bad","unknown"),new A(500,"levelDB_went_went_bad","unknown"),new A(403,"forbidden","Forbidden by design doc validate_doc_update function"),new A(400,"bad_request","Invalid rev format")),cn=(new A(412,"file_exists","The database could not be created, the file already exists."),new A(412,"missing_stub","A pre-existing attachment stub wasn't found")),ln=(new A(413,"invalid_url","Provided URL is invalid"),["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]),pn="queryKey",un=/(?:^|&)([^&=]*)=?([^&]*)/g,dn=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hn=function(e){return atob(e)},mn=function(e){return btoa(e)},yn=e.setImmediate||e.setTimeout,fn=32768,vn=Bo.a.v4;Ro()(Ce,To.EventEmitter),Ce.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Ce.prototype.validateChanges=function(e){var t=e.complete,r=this;Ue._changesFilterPlugin?Ue._changesFilterPlugin.validate(e,function(o){if(o)return t(o);r.doChanges(e)}):r.doChanges(e)},Ce.prototype.doChanges=function(e){var t=this,r=e.complete;if(e=c(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ae,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(o){if(t.isCancelled)return void r(null,{status:"cancelled"});e.since=o.update_seq,t.doChanges(e)},r);if(Ue._changesFilterPlugin){if(Ue._changesFilterPlugin.normalize(e),Ue._changesFilterPlugin.shouldFilter(this,e))return Ue._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&k("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var o=this.db._changes(e);if(o&&"function"===typeof o.cancel){var n=t.cancel;t.cancel=Co()(function(e){o.cancel(),n.apply(this,e)})}},Ro()(Oe,To.EventEmitter),Oe.prototype.post=d("post",function(e,t,r){if("function"===typeof t&&(r=t,t={}),"object"!==typeof e||Array.isArray(e))return r(M(nn));this.bulkDocs({docs:[e]},t,Te(r,e._id))}),Oe.prototype.put=d("put",function(e,t,r){function o(r){"function"===typeof n._put&&!1!==t.new_edits?n._put(e,t,r):n.bulkDocs({docs:[e]},t,Te(r,e._id))}if("function"===typeof t&&(r=t,t={}),"object"!==typeof e||Array.isArray(e))return r(M(nn));if(I(e._id),ke(e._id)&&"function"===typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var n=this;t.force&&e._rev?(!function(){var r=e._rev.split("-"),o=r[1],n=parseInt(r[0],10),i=n+1,a=ne();e._revisions={start:i,ids:[a,o]},e._rev=i+"-"+a,t.new_edits=!1}(),o(function(t){var o=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,o)})):o(r)}),Oe.prototype.putAttachment=d("putAttachment",function(e,t,r,o,n){function i(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:n,data:o,revpos:++r},a.put(e)}var a=this;return"function"===typeof n&&(n=o,o=r,r=null),"undefined"===typeof n&&(n=o,o=r,r=null),n||k("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==r)throw M(Xo);return i(e)},function(t){if(t.reason===Jo.message)return i({_id:e});throw t})}),Oe.prototype.removeAttachment=d("removeAttachment",function(e,t,r,o){var n=this;n.get(e,function(e,i){return e?void o(e):i._rev!==r?void o(M(Xo)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void n.put(i,o)):o()})}),Oe.prototype.remove=d("remove",function(e,t,r,o){var n;"string"===typeof t?(n={_id:e,_rev:t},"function"===typeof r&&(o=r,r={})):(n=e,"function"===typeof t?(o=t,r={}):(o=r,r=t)),r=r||{},r.was_delete=!0;var i={_id:n._id,_rev:n._rev||r.rev};if(i._deleted=!0,ke(i._id)&&"function"===typeof this._removeLocal)return this._removeLocal(n,o);this.bulkDocs({docs:[i]},r,Te(o,i._id))}),Oe.prototype.revsDiff=d("revsDiff",function(e,t,r){function o(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}function n(t,r){var n=e[t].slice(0);ae(r,function(e,r,i,a,s){var c=r+"-"+i,l=n.indexOf(c);-1!==l&&(n.splice(l,1),"available"!==s.status&&o(t,c))}),n.forEach(function(e){o(t,e)})}"function"===typeof t&&(r=t,t={});var i=Object.keys(e);if(!i.length)return r(null,{});var a=0,s=new qo;i.map(function(t){this._getRevisionTree(t,function(o,c){if(o&&404===o.status&&"missing"===o.message)s.set(t,{missing:e[t]});else{if(o)return r(o);n(t,c)}if(++a===i.length){var l={};return s.forEach(function(e,t){l[t]=e}),r(null,l)}})},this)}),Oe.prototype.bulkGet=d("bulkGet",function(e,t){w(this,e,t)}),Oe.prototype.compactDocument=d("compactDocument",function(e,t,r){var o=this;this._getRevisionTree(e,function(n,i){if(n)return r(n);var a=Fe(i),s=[],c=[];Object.keys(a).forEach(function(e){a[e]>t&&s.push(e)}),ae(i,function(e,t,r,o,n){var i=t+"-"+r;"available"===n.status&&-1!==s.indexOf(i)&&c.push(i)}),o._doCompaction(e,c,r)})}),Oe.prototype.compact=d("compact",function(e,t){"function"===typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&Ne(r)}),Oe.prototype._compact=function(e,t){function r(e){a.push(n.compactDocument(e.id,0))}function o(e){var r=e.last_seq;Promise.all(a).then(function(){return U(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var n=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];n.changes(i).on("change",r).on("complete",o).on("error",t)},Oe.prototype.get=d("get",function(e,t,r){function o(){var o=[],a=n.length;if(!a)return r(null,o);n.forEach(function(n){i.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)o.push({missing:n});else{for(var i,s=0,c=o.length;s<c;s++)if(o[s].ok&&o[s].ok._rev===t._rev){i=!0;break}i||o.push({ok:t})}--a||r(null,o)})})}if("function"===typeof t&&(r=t,t={}),"string"!==typeof e)return r(M(Ko));if(ke(e)&&"function"===typeof this._getLocal)return this._getLocal(e,r);var n=[],i=this;if(!t.open_revs)return this._get(e,t,function(o,n){if(o)return o.docId=e,r(o);var a=n.doc,s=n.metadata,c=n.ctx;if(t.conflicts){var l=le(s);l.length&&(a._conflicts=l)}if(Se(s,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var p=a._rev.split("-"),u=parseInt(p[0],10),d=p[1],h=ue(s.rev_tree),m=null,y=0;y<h.length;y++){var f=h[y],v=f.ids.map(function(e){return e.id}).indexOf(d);(v===u-1||!m&&-1!==v)&&(m=f)}var g=m.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1,_=m.ids.length-g;if(m.ids.splice(g,_),m.ids.reverse(),t.revs&&(a._revisions={start:m.pos+m.ids.length-1,ids:m.ids.map(function(e){return e.id})}),t.revs_info){var w=m.pos+m.ids.length;a._revs_info=m.ids.map(function(e){return w--,{rev:w+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var b=a._attachments,x=Object.keys(b).length;if(0===x)return r(null,a);Object.keys(b).forEach(function(e){this._getAttachment(a._id,e,b[e],{rev:a._rev,binary:t.binary,ctx:c},function(t,o){var n=a._attachments[e];n.data=o,delete n.stub,delete n.length,--x||r(null,a)})},i)}else{if(a._attachments)for(var S in a._attachments)a._attachments.hasOwnProperty(S)&&(a._attachments[S].stub=!0);r(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return r(e);n=ce(t).map(function(e){return e.rev}),o()});else{if(!Array.isArray(t.open_revs))return r(M($o,"function_clause"));n=t.open_revs;for(var a=0;a<n.length;a++){var s=n[a];if("string"!==typeof s||!/^\d+-/.test(s))return r(M(sn))}o()}}),Oe.prototype.getAttachment=d("getAttachment",function(e,t,r,o){var n=this;r instanceof Function&&(o=r,r={}),this._get(e,r,function(i,a){return i?o(i):a.doc._attachments&&a.doc._attachments[t]?(r.ctx=a.ctx,r.binary=!0,n._getAttachment(e,t,a.doc._attachments[t],r,o),void 0):o(M(Jo))})}),Oe.prototype.allDocs=d("allDocs",function(e,t){if("function"===typeof e&&(t=e,e={}),e.skip="undefined"!==typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(r)return void t(M(tn,"Query parameter `"+r+"` is not compatible with multi-get"));if(!N(this)&&(Ie(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Oe.prototype.changes=function(e,t){return"function"===typeof e&&(t=e,e={}),e=e||{},e.return_docs="return_docs"in e?e.return_docs:!e.live,new Ce(this,e,t)},Oe.prototype.close=d("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Oe.prototype.info=d("info",function(e){var t=this;this._info(function(r,o){if(r)return e(r);o.db_name=o.db_name||t.name,o.auto_compaction=!(!t.auto_compaction||N(t)),o.adapter=t.adapter,e(null,o)})}),Oe.prototype.id=d("id",function(e){return this._id(e)}),Oe.prototype.type=function(){return"function"===typeof this._type?this._type():this.adapter},Oe.prototype.bulkDocs=d("bulkDocs",function(e,t,r){if("function"===typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(M(Zo));for(var o=0;o<e.docs.length;++o)if("object"!==typeof e.docs[o]||Array.isArray(e.docs[o]))return r(M(nn));var n;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){n=n||Be(t),e._attachments[t].content_type||k("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),n)return r(M(on,n));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||N(i)||e.docs.sort(Re),ze(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,o){if(e)return r(e);if(t.new_edits||(o=o.filter(function(e){return e.error})),!N(i))for(var n=0,s=o.length;n<s;n++)o[n].id=o[n].id||a[n];r(null,o)})}),Oe.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function r(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var o=new this.constructor(e,this.__opts);U(this,"_local/_pouch_dependentDbs",r).then(function(){t(null,{db:o})}).catch(t)}),Oe.prototype.destroy=d("destroy",function(e,t){function r(){o._destroy(e,function(e,r){if(e)return t(e);o._destroyed=!0,o.emit("destroyed"),t(null,r||{ok:!0})})}"function"===typeof e&&(t=e,e={});var o=this,n=!("use_prefix"in o)||o.use_prefix;if(N(o))return r();o.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):r();var a=i.dependentDbs,s=o.constructor,c=Object.keys(a).map(function(e){var t=n?e.replace(new RegExp("^"+s.prefix),""):e;return new s(t,o.__opts).destroy()});Promise.all(c).then(r,t)})}),je.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},je.prototype.fail=function(e){this.failed=e,this.execute()},je.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},je.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Ro()(Ue,Oe);var gn="undefined"!==typeof AbortController?AbortController:function(){return{abort:function(){}}},_n=fetch,wn=Headers;Ue.adapters={},Ue.preferredAdapters=[],Ue.prefix="_pouch_";var bn=new To.EventEmitter;!function(e){Object.keys(To.EventEmitter.prototype).forEach(function(t){"function"===typeof To.EventEmitter.prototype[t]&&(e[t]=bn[t].bind(bn))});var t=e._destructionListeners=new qo;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var r=t.get(e.name),o=r.indexOf(e);o<0||(r.splice(o,1),r.length>1?t.set(e.name,r):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var r=t.get(e);t.delete(e),r.forEach(function(e){e.emit("destroyed",!0)})}})}(Ue),Ue.adapter=function(e,t,r){t.valid()&&(Ue.adapters[e]=t,r&&Ue.preferredAdapters.push(e))},Ue.plugin=function(e){if("function"===typeof e)e(Ue);else{if("object"!==typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ue.prototype[t]=e[t]})}return this.__defaults&&(Ue.__defaults=Go({},this.__defaults)),Ue},Ue.defaults=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},e&&"object"===typeof e&&(r=e,e=r.name,delete r.name),r=Go({},t.__defaults,r),Ue.call(this,e,r)}return Ro()(t,Ue),t.preferredAdapters=Ue.preferredAdapters.slice(),Object.keys(Ue).forEach(function(e){e in t||(t[e]=Ue[e])}),t.__defaults=Go({},this.__defaults,e),t},Ue.fetch=function(e,t){return _n(e,t)};var xn=["$or","$nor","$not"],Sn=-324,kn=3,Pn="",En={$elemMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.some(function(e){return ft(e,t,Object.keys(t))}):o.some(function(o){return vt(t,e,r,o)})))},$allMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.every(function(e){return ft(e,t,Object.keys(t))}):o.every(function(o){return vt(t,e,r,o)})))},$eq:function(e,t,r,o){return bt(o)&&0===rt(o,t)},$gte:function(e,t,r,o){return bt(o)&&rt(o,t)>=0},$gt:function(e,t,r,o){return bt(o)&&rt(o,t)>0},$lte:function(e,t,r,o){return bt(o)&&rt(o,t)<=0},$lt:function(e,t,r,o){return bt(o)&&rt(o,t)<0},$exists:function(e,t,r,o){return t?bt(o):!bt(o)},$mod:function(e,t,r,o){return wt(o)&&xt(o,t)},$ne:function(e,t,r,o){return t.every(function(e){return 0!==rt(o,e)})},$in:function(e,t,r,o){return wt(o)&&St(o,t)},$nin:function(e,t,r,o){return wt(o)&&!St(o,t)},$size:function(e,t,r,o){return wt(o)&&Pt(o,t)},$all:function(e,t,r,o){return Array.isArray(o)&&kt(o,t)},$regex:function(e,t,r,o){return wt(o)&&Et(o,t)},$type:function(e,t,r,o){return Ct(o,t)}};Ue.plugin(Nt),Ue.version="7.0.0";var Cn,An=Bt(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Mn=Bt(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),Tn=5,zn="document-store",Rn="by-sequence",Fn="attach-store",In="attach-seq-store",Nn="meta-store",Bn="local-store",On="detect-blob-support",jn=new S,Dn=!1,Ln=[],Un=new qo,qn=new qo;vr.valid=function(){try{return"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(e){return!1}};var Vn=25,Wn=50,Hn=5e3,Gn=1e4,Zn={};Tr.valid=function(){return!0},Ro()(Rr,Error),Ro()(Fr,Error),Ro()(Ir,Error);var Jn=k.bind(null,"log"),Xn=Array.isArray,Kn=JSON.parse;Wr.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Wr.prototype.finish=function(){return this.promise};var Qn={},Yn=new Wr,$n=50,ei={_sum:function(e,t){return qr(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:qr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,r=0,o=e.length;r<o;r++){var n=e[r];t+=n*n}return t}(t)}}},ti=function(e,t,r,o){function n(e,t,r){try{t(r)}catch(t){Kr(e,t)}}function i(e,t,r,o,n){try{return{output:t(r,o,n)}}catch(t){return Kr(e,t),{error:t}}}function a(e,t){var r=rt(e.key,t.key);return 0!==r?r:rt(e.value,t.value)}function s(e,t,r){return r=r||0,"number"===typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function c(e){var t=e.value;return t&&"object"===typeof t&&t._id||e.id}function l(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=G(r.data,r.content_type)})})}function p(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&l(t),t}}function u(e,t,r,o){var n=t[e];"undefined"!==typeof n&&(o&&(n=encodeURIComponent(JSON.stringify(n))),r.push(e+"="+n))}function d(e){if("undefined"!==typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}function m(e){if(e){if("number"!==typeof e)return new Rr('Invalid value for integer: "'+e+'"');if(e<0)return new Rr('Invalid value for positive integer: "'+e+'"')}}function y(e,t){var r=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!==typeof e[r]&&"undefined"!==typeof e[o]&&rt(e[r],e[o])>0)throw new Rr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Rr("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Rr("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=m(e[t]);if(r)throw r})}function f(e,t,r){var o,n,i,a=[],s="GET";if(u("reduce",r,a),u("include_docs",r,a),u("attachments",r,a),u("limit",r,a),u("descending",r,a),u("group",r,a),u("group_level",r,a),u("skip",r,a),u("stale",r,a),u("conflicts",r,a),u("startkey",r,a,!0),u("start_key",r,a,!0),u("endkey",r,a,!0),u("end_key",r,a,!0),u("inclusive_end",r,a),u("key",r,a,!0),u("update_seq",r,a),a=a.join("&"),a=""===a?"":"?"+a,"undefined"!==typeof r.keys){var c="keys="+encodeURIComponent(JSON.stringify(r.keys));c.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+c:(s="POST","string"===typeof t?o={keys:r.keys}:t.keys=r.keys)}if("string"===typeof t){var l=Jr(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+a,{headers:new wn({"Content-Type":"application/json"}),method:s,body:JSON.stringify(o)}).then(function(e){return n=e.ok,i=e.status,e.json()}).then(function(e){if(!n)throw e.status=i,T(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(p(r))}return o=o||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?o[e]=t[e]:o[e]=t[e].toString()}),e.fetch("_temp_view"+a,{headers:new wn({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(o)}).then(function(e){return n=e.ok,i=e.status,e.json()}).then(function(e){if(!n)throw e.status=i,T(e);return e}).then(p(r))}function v(e,t,r){return new Promise(function(o,n){e._query(t,r,function(e,t){if(e)return n(e);o(t)})})}function g(e){return new Promise(function(t,r){e._viewCleanup(function(e,o){if(e)return r(e);t(o)})})}function _(e){return function(t){if(404===t.status)return e;throw t}}function w(e,t,r){function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}function n(e,t){for(var r=[],o=new Uo,n=0,i=t.rows.length;n<i;n++){var a=t.rows[n],s=a.doc;if(s&&(r.push(s),o.add(s._id),s._deleted=!c.has(s._id),!s._deleted)){var l=c.get(s._id);"value"in l&&(s.value=l.value)}}var p=Lr(c);return p.forEach(function(e){if(!o.has(e)){var t={_id:e},n=c.get(e);"value"in n&&(t.value=n.value),r.push(t)}}),e.keys=Dr(p.concat(e.keys)),r.push(e),r}var i="_local/doc_"+e,a={_id:i,keys:[]},s=r.get(e),c=s[0],l=s[1];return function(){return Xr(l)?Promise.resolve(a):t.db.get(i).catch(_(a))}().then(function(e){return o(e).then(function(t){return n(e,t)})})}function b(e,t,r){return e.db.get("_local/lastSeq").catch(_({_id:"_local/lastSeq",seq:0})).then(function(o){var n=Lr(t);return Promise.all(n.map(function(r){return w(r,e,t)})).then(function(t){var n=F(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function x(e){var t="string"===typeof e?e:e.name,r=Qn[t];return r||(r=Qn[t]=new Wr),r}function S(e){return jr(x(e),function(){return k(e)})()}function k(e){function r(e,t){var r={id:u._id,key:ot(e)};"undefined"!==typeof t&&null!==t&&(r.value=ot(t)),p.push(r)}function o(t,r){return function(){return b(e,t,r)}}function i(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:h,limit:$n}).then(s)}function s(e){var t=e.results;if(t.length){var r=c(t);if(m.add(o(r,h)),!(t.length<$n))return i()}}function c(t){for(var r=new qo,o=0,i=t.length;o<i;o++){var s=t[o];if("_"!==s.doc._id[0]){p=[],u=s.doc,u._deleted||n(e.sourceDB,d,u),p.sort(a);var c=l(p);r.set(s.doc._id,[c,s.changes])}h=s.seq}return r}function l(e){for(var t,r=new qo,o=0,n=e.length;o<n;o++){var i=e[o],a=[i.key,i.id];o>0&&0===rt(i.key,t)&&a.push(o),r.set(it(a),i),t=i.key}return r}var p,u,d=t(e.mapFun,r),h=e.seq||0,m=new Wr;return i().then(function(){return m.finish()}).then(function(){e.seq=h})}function P(e,t,o){0===o.group_level&&delete o.group_level;var n=o.group||o.group_level,a=r(e.reduceFun),c=[],l=isNaN(o.group_level)?Number.POSITIVE_INFINITY:o.group_level;t.forEach(function(e){var t=c[c.length-1],r=n?e.key:null;if(n&&Array.isArray(r)&&(r=r.slice(0,l)),t&&0===rt(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);c.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var p=0,u=c.length;p<u;p++){var d=c[p],h=i(e.sourceDB,a,d.keys,d.values,!1);if(h.error&&h.error instanceof Ir)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:s(t,o.limit,o.skip)}}function E(e,t){return jr(x(e),function(){return C(e,t)})()}function C(e,t){function r(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var o=ct(e.doc._id);return{key:o[0],id:o[1],value:"value"in e.doc?e.doc.value:null}})})}function o(r){var o;if(o=i?P(e,r,t):{total_rows:n,offset:a,rows:r},t.update_seq&&(o.update_seq=e.seq),t.include_docs){var s=Dr(r.map(c));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new qo;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),r.forEach(function(e){var r=c(e),o=t.get(r);o&&(e.doc=o)}),o})}return o}var n,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if("undefined"===typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!==typeof t.keys){var s=t.keys,l=s.map(function(e){var o={startkey:it([e]),endkey:it([e,{}])};return t.update_seq&&(o.update_seq=!0),r(o)});return Promise.all(l).then(F).then(o)}var p={descending:t.descending};t.update_seq&&(p.update_seq=!0);var u,d;if("start_key"in t&&(u=t.start_key),"startkey"in t&&(u=t.startkey),"end_key"in t&&(d=t.end_key),"endkey"in t&&(d=t.endkey),"undefined"!==typeof u&&(p.startkey=it(t.descending?[u,{}]:[u])),"undefined"!==typeof d){var h=!1!==t.inclusive_end;t.descending&&(h=!h),p.endkey=it(h?[d,{}]:[d])}if("undefined"!==typeof t.key){var m=it([t.key]),y=it([t.key,{}]);p.descending?(p.endkey=m,p.startkey=y):(p.startkey=m,p.endkey=y)}return i||("number"===typeof t.limit&&(p.limit=t.limit),p.skip=a),r(p).then(o)}function A(e){return e.fetch("_view_cleanup",{headers:new wn({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}function M(t){return t.get("_local/"+e).then(function(e){var r=new qo;Object.keys(e.views).forEach(function(e){var t=Jr(e),o="_design/"+t[0],n=t[1],i=r.get(o);i||(i=new Uo,r.set(o,i)),i.add(n)});var o={keys:Lr(r),include_docs:!0};return t.allDocs(o).then(function(o){var n={};o.rows.forEach(function(t){var o=t.key.substring(8);r.get(t.key).forEach(function(r){var i=o+"/"+r;e.views[i]||(i=r);var a=Object.keys(e.views[i]),s=t.doc&&t.doc.views&&t.doc.views[r];a.forEach(function(e){n[e]=n[e]||s})})});var i=Object.keys(n).filter(function(e){return!n[e]}),a=i.map(function(e){return jr(x(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Promise.all(a).then(function(){return{ok:!0}})})},_({ok:!0}))}function z(t,r,n){if("function"===typeof t._query)return v(t,r,n);if(N(t))return f(t,r,n);if("string"!==typeof r)return y(n,r),Yn.add(function(){return Zr(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return Or(S(e).then(function(){return E(e,n)}),function(){return e.db.destroy()})})}),Yn.finish();var i=r,a=Jr(i),s=a[0],c=a[1];return t.get("_design/"+s).then(function(r){var a=r.views&&r.views[c];if(!a)throw new Fr("ddoc "+r._id+" has no view named "+c);return o(r,c),y(n,a),Zr(t,i,a.map,a.reduce,!1,e).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Mo()(function(){S(e)}),E(e,n)):S(e).then(function(){return E(e,n)})})})}function R(e,t,r){var o=this;"function"===typeof t&&(r=t,t={}),t=t?h(t):{},"function"===typeof e&&(e={map:e});var n=Promise.resolve().then(function(){return z(o,e,t)});return Nr(n,r),n}return{query:R,viewCleanup:Br(function(){var e=this;return"function"===typeof e._viewCleanup?g(e):N(e)?A(e):M(e)})}}("mrviews",Yr,$r,eo),ri={query:to,viewCleanup:ro},oi=1,ni="pouchdb",ii=5,ai=0;po.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},po.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?lo(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},po.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return lo(this.src,this.id,e,t,this.returnValue).catch(function(e){if(yo(e))return r.opts.writeSourceCheckpoint=!1,!0;throw e})}return Promise.resolve(!0)};var si={undefined:function(e,t){return 0===rt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return uo(t,e).last_seq}};po.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||ai}).catch(function(e){if(404!==e.status)throw e;return ai}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||ai:e.src.get(e.id).then(function(e){if(t.version!==e.version)return ai;var r;return r=t.version?t.version.toString():"undefined",r in si?si[r](t,e):ai},function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:ai}).then(function(){return ai},function(r){return yo(r)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):ai});throw r})}).catch(function(e){if(404!==e.status)throw e;return ai})};var ci=0;Ro()(wo,To.EventEmitter),wo.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},wo.prototype.ready=function(e,t){function r(){n.cancel()}function o(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}var n=this;n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",o))},Ro()(ko,To.EventEmitter),ko.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ue.plugin(_r).plugin(zr).plugin(ri).plugin(Po),t.a=Ue}).call(t,r(3),r(23))},function(e,t,r){var o=r(128),n=r(129),i=n;i.v1=o,i.v4=n,e.exports=i},function(e,t,r){function o(e,t,r){var o=t&&r||0,p=t||[];e=e||{};var u=e.node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==d){var h=a();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:l+1,f=m-c+(y-l)/1e4;if(f<0&&void 0===e.clockseq&&(d=d+1&16383),(f<0||m>c)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,l=y,i=d,m+=122192928e5;var v=(1e4*(268435455&m)+y)%4294967296;p[o++]=v>>>24&255,p[o++]=v>>>16&255,p[o++]=v>>>8&255,p[o++]=255&v;var g=m/4294967296*1e4&268435455;p[o++]=g>>>8&255,p[o++]=255&g,p[o++]=g>>>24&15|16,p[o++]=g>>>16&255,p[o++]=d>>>8|128,p[o++]=255&d;for(var _=0;_<6;++_)p[o+_]=u[_];return t||s(p)}var n,i,a=r(38),s=r(39),c=0,l=0;e.exports=o},function(e,t,r){function o(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}var n=r(38),i=r(39);e.exports=o},function(e,t,r){"use strict";function o(e,t,r){var o=r[r.length-1];e===o.element&&(r.pop(),o=r[r.length-1]);var n=o.element,i=o.index;if(Array.isArray(n))n.push(e);else if(i===t.length-2){var a=t.pop();n[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var r,o,n,i,a,s,c,l,p,u,d,h="";r=t.pop();)if(o=r.obj,n=r.prefix||"",i=r.val||"",h+=n,i)h+=i;else if("object"!==typeof o)h+="undefined"===typeof o?null:JSON.stringify(o);else if(null===o)h+="null";else if(Array.isArray(o)){for(t.push({val:"]"}),a=o.length-1;a>=0;a--)s=0===a?"":",",t.push({obj:o[a],prefix:s});t.push({val:"["})}else{c=[];for(l in o)o.hasOwnProperty(l)&&c.push(l);for(t.push({val:"}"}),a=c.length-1;a>=0;a--)p=c[a],u=o[p],d=a>0?",":"",d+=JSON.stringify(p)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,r,n,i,a,s,c,l,p,u=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&"undefined"!==typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,o(null,u,d);break;case"t":h+=3,o(!0,u,d);break;case"f":h+=4,o(!1,u,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(n=e[h++],!/[\d\.\-e\+]/.test(n)){h--;break}r+=n}o(parseFloat(r),u,d);break;case'"':for(i="",a=void 0,s=0;;){if('"'===(c=e[h++])&&("\\"!==a||s%2!==1))break;i+=c,a=c,"\\"===a?s++:s=0}o(JSON.parse('"'+i+'"'),u,d);break;case"[":l={element:[],index:u.length},u.push(l.element),d.push(l);break;case"{":p={element:{},index:u.length},u.push(p.element),d.push(p);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===u.length)return u.pop();o(u.pop(),u,d)}}},function(e,t,r){"use strict";function o(e){return e=Object(he.b)(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function n(e,t,r,o){var n,i;r.headers=new ye.a({"Content-type":"application/json"}),e.fetch(t,r).then(function(e){return n=e.status,i=e.ok,e.json()}).then(function(e){if(i)o(null,e);else{e.status=n;var t=Object(me.f)(e);o(t)}}).catch(o)}function i(e,t,r){t=o(t),n(e,"_index",{method:"POST",body:JSON.stringify(t)},r)}function a(e,t,r){n(e,"_find",{method:"POST",body:JSON.stringify(t)},r)}function s(e,t,r){n(e,"_explain",{method:"POST",body:JSON.stringify(t)},r)}function c(e,t){n(e,"_index",{method:"GET"},t)}function l(e,t,r){var o=t.ddoc,i=t.type||"json",a=t.name;return o?a?void n(e,"_index/"+[o,i,a].map(encodeURIComponent).join("/"),{method:"DELETE"},r):r(new Error("you must provide an index's name")):r(new Error("you must provide an index's ddoc"))}function p(e){return function(){for(var t=arguments.length,r=new Array(t),o=-1;++o<t;)r[o]=arguments[o];return e.call(this,r)}}function u(e){return p(function(t){var r=t.pop(),o=e.apply(this,t);return d(o,r),o})}function d(e,t){return e.then(function(e){Object(he.f)(function(){t(null,e)})},function(e){Object(he.f)(function(){t(e)})}),e}function h(e){for(var t={},r=0,o=e.length;r<o;r++)t=Object(he.a)(t,e[r]);return t}function m(e,t){for(var r={},o=0,n=t.length;o<n;o++){var i=Object(fe.g)(t[o]),a=Object(fe.c)(e,i);"undefined"!==typeof a&&Object(fe.h)(r,i,a)}return r}function y(e,t){for(var r=0,o=Math.min(e.length,t.length);r<o;r++)if(e[r]!==t[r])return!1;return!0}function f(e,t){return!(e.length>t.length)&&y(e,t)}function v(e,t){e=e.slice();for(var r=0,o=t.length;r<o;r++){var n=t[r];if(!e.length)break;var i=e.indexOf(n);if(-1===i)return!1;e.splice(i,1)}return!0}function g(e){for(var t={},r=0,o=e.length;r<o;r++)t[e[r]]=!0;return t}function _(e,t){for(var r=null,o=-1,n=0,i=e.length;n<i;n++){var a=e[n],s=t(a);s>o&&(o=s,r=a)}return r}function w(e,t){if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r++)if(e[r]!==t[r])return!1;return!0}function b(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}function x(e,t){return function(r){for(var o=[],n=0,i=e.length;n<i;n++){for(var a=Object(fe.g)(e[n]),s=r,c=0,l=a.length;c<l;c++){if("undefined"===typeof(s=s[a[c]]))return}o.push(s)}t(o)}}function S(e,t){var r=Object(fe.g)(e);return function(e){for(var o=e,n=0,i=r.length;n<i;n++){if("undefined"===typeof(o=o[r[n]]))return}t(o)}}function k(e,t){return function(r){t(r[e])}}function P(e,t){return function(r){for(var o=[],n=0,i=e.length;n<i;n++)o.push(r[e[n]]);t(o)}}function E(e){for(var t=0,r=e.length;t<r;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function C(e,t){var r=E(e),o=1===e.length;return r?o?k(e[0],t):P(e,t):o?S(e[0],t):x(e,t)}function A(e,t){return C(Object.keys(e.fields),t)}function M(){throw new Error("reduce not supported")}function T(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}function z(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"===typeof e){var t={};return t[e]="asc",t}return e})}function R(e){var t=[];return"string"===typeof e?t.push(e):t=e,t.map(function(e){return e.replace("_design/","")})}function F(e){return e.fields=e.fields.map(function(e){if("string"===typeof e){var t={};return t[e]="asc",t}return e}),e}function I(e,t){for(var r=[],o=0;o<t.def.fields.length;o++){var n=Object(fe.d)(t.def.fields[o]);r.push(e[n])}return r}function N(e,t,r){for(var o=r.def.fields,n=0,i=e.length;n<i;n++){var a=e[n],s=I(a.doc,r);if(1===o.length)s=s[0];else for(;s.length>t.length;)s.pop();if(Math.abs(Object(ge.a)(s,t))>0)break}return n>0?e.slice(n):e}function B(e){var t=Object(he.b)(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function O(e){var t=e.fields.filter(function(e){return"asc"===Object(fe.e)(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function j(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}function D(e){if("object"!==typeof e.selector)throw new Error("you must provide a selector when you find()")}function L(e,t){var r,o=Object.keys(e),n=t?t.map(fe.d):[];return r=o.length>=n.length?o:n,0===n.length?{fields:r}:(r=r.sort(function(e,t){var r=n.indexOf(e);-1===r&&(r=Number.MAX_VALUE);var o=n.indexOf(t);return-1===o&&(o=Number.MAX_VALUE),r<o?-1:r>o?1:0}),{fields:r,sortOrder:t.map(fe.d)})}function U(e,t){function r(){return a||(a=Object(_e.a)(JSON.stringify(t)))}function n(e){return e._rev&&"query"!==e.language&&(p=!0),e.language="query",e.views=e.views||{},!(u=!!e.views[s])&&(e.views[s]={map:{fields:h(t.index.fields)},reduce:"_count",options:{def:i}},e)}t=o(t);var i=Object(he.b)(t.index);t.index=F(t.index),O(t.index);var a,s=t.name||"idx-"+r(),c=t.ddoc||"idx-"+r(),l="_design/"+c,p=!1,u=!1;return e.constructor.emit("debug",["find","creating index",l]),Object(he.h)(e,l,n).then(function(){if(p)throw new Error('invalid language for ddoc with id "'+l+'" (should be "query")')}).then(function(){var t=c+"/"+s;return be.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:l,name:s,result:u?"exists":"created"}})})}function q(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=we(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var r=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:F(r.options.def)}})})),t.indexes.sort(function(e,t){return Object(fe.a)(e.name,t.name)}),t.total_rows=t.indexes.length,t})}function V(e,t){for(var r=e.def.fields.map(fe.d),o=0,n=r.length;o<n;o++){if(t===r[o])return!0}return!1}function W(e,t){var r=e[t];return"$eq"!==Object(fe.d)(r)}function H(e,t){var r=t.def.fields.map(fe.d);return e.slice().sort(function(e,t){var o=r.indexOf(e),n=r.indexOf(t);return-1===o&&(o=Number.MAX_VALUE),-1===n&&(n=Number.MAX_VALUE),Object(fe.a)(o,n)})}function G(e,t,r){r=H(r,e);for(var o=!1,n=0,i=r.length;n<i;n++){var a=r[n];if(o||!V(e,a))return r.slice(n);n<i-1&&W(t,a)&&(o=!0)}return[]}function Z(e){var t=[];return Object.keys(e).forEach(function(r){var o=e[r];Object.keys(o).forEach(function(e){"$ne"===e&&t.push(r)})}),t}function J(e,t,r,o){return H(b(we(e,G(t,r,o),Z(r))),t)}function X(e,t,r){if(t){var o=f(t,e),n=y(r,e);return o&&n}return v(r,e)}function K(e){return-1===ke.indexOf(e)}function Q(e,t){var r=e[0],o=t[r];return"undefined"===typeof o||!!Object.keys(o).some(function(e){return!K(e)})&&!(1===Object.keys(o).length&&"$ne"===Object(fe.d)(o))}function Y(e,t,r,o){var n=e.def.fields.map(fe.d);return!!X(n,t,r)&&Q(n,o)}function $(e,t,r,o){return o.reduce(function(o,n){return Y(n,r,t,e)&&o.push(n),o},[])}function ee(e,t,r,o,n){function i(e){for(var t=e.def.fields.map(fe.d),r=0,o=0,n=t.length;o<n;o++){var i=t[o];c[i]&&r++}return r}var a=$(e,t,r,o);if(0===a.length){if(n)throw{error:"no_usable_index",message:"There is no index available for this selector."};var s=o[0];return s.defaultUsed=!0,s}if(1===a.length&&!n)return a[0];var c=g(t);if(n){var l="_design/"+n[0],p=2===n.length&&n[1],u=a.find(function(e){return!(!p||e.ddoc!==l||p!==e.name)||e.ddoc===l});if(!u)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return u}return _(a,i)}function te(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function re(e,t){var r,o=Object(fe.d)(t.def.fields[0]),n=e[o]||{},i=[],a=Object.keys(n);return a.forEach(function(e){if(K(e))return void i.push(o);var t=n[e],a=te(e,t);r=r?h([r,a]):a}),{queryOpts:r,inMemoryFields:i}}function oe(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function ne(e,t){function r(e){!1!==o&&s.push(xe),!1!==n&&c.push(Se),a=i.slice(e)}for(var o,n,i=t.def.fields.map(fe.d),a=[],s=[],c=[],l=0,p=i.length;l<p;l++){var u=i[l],d=e[u];if(!d||!Object.keys(d).length){r(l);break}if(l>0){if(Object.keys(d).some(K)){r(l);break}var m="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,y=Object.keys(e[i[l-1]]),f=w(y,["$eq"]),v=w(y,Object.keys(d));if(m&&!f&&!v){r(l);break}}for(var g=Object.keys(d),_=null,b=0;b<g.length;b++){var x=g[b],S=d[x],k=oe(x,S);_=_?h([_,k]):k}s.push("startkey"in _?_.startkey:xe),c.push("endkey"in _?_.endkey:Se),"inclusive_start"in _&&(o=_.inclusive_start),"inclusive_end"in _&&(n=_.inclusive_end)}var P={startkey:s,endkey:c};return"undefined"!==typeof o&&(P.inclusive_start=o),"undefined"!==typeof n&&(P.inclusive_end=n),{queryOpts:P,inMemoryFields:a}}function ie(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function ae(e,t){return t.defaultUsed?ie(e,t):1===t.def.fields.length?re(e,t):ne(e,t)}function se(e,t){var r=e.selector,o=e.sort,n=L(r,o),i=n.fields,a=n.sortOrder,s=ee(r,i,a,t,e.use_index),c=ae(r,s);return{queryOpts:c.queryOpts,index:s,inMemoryFields:J(c.inMemoryFields,s,r,i)}}function ce(e){return e.ddoc.substring(8)+"/"+e.name}function le(e,t){var r=Object(he.b)(t);return r.descending?("endkey"in r&&"string"!==typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!==typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!==typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!==typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!==typeof r.key&&(r.limit=0),e.allDocs(r).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}function pe(e,t,r){return t.selector&&(t.selector=Object(fe.f)(t.selector)),t.sort&&(t.sort=z(t.sort)),t.use_index&&(t.use_index=R(t.use_index)),D(t),q(e).then(function(o){e.constructor.emit("debug",["find","planning query",t]);var n=se(t,o.indexes);e.constructor.emit("debug",["find","query plan",n]);var i=n.index;j(t,i);var a=Object(he.a)({include_docs:!0,reduce:!1},n.queryOpts);return"startkey"in a&&"endkey"in a&&Object(ge.a)(a.startkey,a.endkey)>0?{docs:[]}:(t.sort&&"string"!==typeof t.sort[0]&&"desc"===Object(fe.e)(t.sort[0])&&(a.descending=!0,a=B(a)),n.inMemoryFields.length||("limit"in t&&(a.limit=t.limit),"skip"in t&&(a.skip=t.skip)),r?Promise.resolve(n,a):Promise.resolve().then(function(){if("_all_docs"===i.name)return le(e,a);var t=ce(i);return be.query.call(e,t,a)}).then(function(e){!1===a.inclusive_start&&(e.rows=N(e.rows,a.startkey,i)),n.inMemoryFields.length&&(e.rows=Object(fe.b)(e.rows,t,n.inMemoryFields));var r={docs:e.rows.map(function(e){var r=e.doc;return t.fields?m(r,t.fields):r})};return i.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r}))})}function ue(e,t){return pe(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}function de(e,t){function r(e){return 1===Object.keys(e.views).length&&e.views[n]?{_id:o,_deleted:!0}:(delete e.views[n],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var o=t.ddoc,n=t.name;return Object(he.h)(e,o,r).then(function(){return be.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var he=r(4),me=r(14),ye=r(43),fe=r(135),ve=r(136),ge=r(16),_e=r(15),we=p(function(e){for(var t=[],r=0,o=e.length;r<o;r++){var n=e[r];Array.isArray(n)?t=t.concat(we.apply(null,n)):t.push(n)}return t}),be=Object(ve.a)("indexes",A,M,T),xe=null,Se={"\uffff":{}},ke=["$eq","$gt","$gte","$lt","$lte"],Pe=u(U),Ee=u(pe),Ce=u(ue),Ae=u(q),Me=u(de),Te={};Te.createIndex=Object(he.g)(function(e,t){if("object"!==typeof e)return t(new Error("you must provide an index to create"));(Object(he.e)(this)?i:Pe)(this,e,t)}),Te.find=Object(he.g)(function(e,t){if("undefined"===typeof t&&(t=e,e=void 0),"object"!==typeof e)return t(new Error("you must provide search parameters to find()"));(Object(he.e)(this)?a:Ee)(this,e,t)}),Te.explain=Object(he.g)(function(e,t){if("undefined"===typeof t&&(t=e,e=void 0),"object"!==typeof e)return t(new Error("you must provide search parameters to explain()"));(Object(he.e)(this)?s:Ce)(this,e,t)}),Te.getIndexes=Object(he.g)(function(e){(Object(he.e)(this)?c:Ae)(this,e)}),Te.deleteIndex=Object(he.g)(function(e,t){if("object"!==typeof e)return t(new Error("you must provide an index to delete"));(Object(he.e)(this)?l:Me)(this,e,t)}),t.a=Te},function(e,t,r){var o=r(133),n=r(134),i=n;i.v1=o,i.v4=n,e.exports=i},function(e,t,r){function o(e,t,r){var o=t&&r||0,p=t||[];e=e||{};var u=e.node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==d){var h=a();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:l+1,f=m-c+(y-l)/1e4;if(f<0&&void 0===e.clockseq&&(d=d+1&16383),(f<0||m>c)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,l=y,i=d,m+=122192928e5;var v=(1e4*(268435455&m)+y)%4294967296;p[o++]=v>>>24&255,p[o++]=v>>>16&255,p[o++]=v>>>8&255,p[o++]=255&v;var g=m/4294967296*1e4&268435455;p[o++]=g>>>8&255,p[o++]=255&g,p[o++]=g>>>24&15|16,p[o++]=g>>>16&255,p[o++]=d>>>8|128,p[o++]=255&d;for(var _=0;_<6;++_)p[o+_]=u[_];return t||s(p)}var n,i,a=r(40),s=r(41),c=0,l=0;e.exports=o},function(e,t,r){function o(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}var n=r(40),i=r(41);e.exports=o},function(e,t,r){"use strict";function o(e,t){for(var r=e,o=0,n=t.length;o<n;o++){if(!(r=r[t[o]]))break}return r}function n(e,t,r){for(var o=0,n=t.length;o<n-1;o++){e=e[t[o]]={}}e[t[n-1]]=r}function i(e,t){return e<t?-1:e>t?1:0}function a(e){for(var t=[],r="",o=0,n=e.length;o<n;o++){var i=e[o];"."===i?o>0&&"\\"===e[o-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=i}return t.push(r),t}function s(e){return R.indexOf(e)>-1}function c(e){return Object.keys(e)[0]}function l(e){return e[c(e)]}function p(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var o=e[r];if("object"!==typeof o&&(o={$eq:o}),s(r))o instanceof Array?t[r]=o.map(function(e){return p([e])}):t[r]=p([o]);else{var n=t[r]=t[r]||{};Object.keys(o).forEach(function(e){var t=o[e];return"$gt"===e||"$gte"===e?u(e,t,n):"$lt"===e||"$lte"===e?d(e,t,n):"$ne"===e?h(t,n):"$eq"===e?m(t,n):void(n[e]=t)})}})}),t}function u(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):"undefined"!==typeof r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function d(e,t,r){"undefined"===typeof r.$eq&&("undefined"!==typeof r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):"undefined"!==typeof r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function h(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function m(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function y(e){var t=Object(T.b)(e),r=!1;"$and"in t&&(t=p(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var o=t[r],n=e[o];"object"===typeof n&&null!==n||(e[o]={$eq:n})}})}),"$not"in t&&(t.$not=p([t.$not]));for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n],a=t[i];"object"!==typeof a||null===a?a={$eq:a}:"$ne"in a&&!r&&(a.$ne=[a.$ne]),t[i]=a}return t}function f(e){function t(t){return e.map(function(e){var r=c(e),n=a(r);return o(t,n)})}return function(e,r){var o=t(e.doc),n=t(r.doc),a=Object(z.a)(o,n);return 0!==a?a:i(e.doc._id,r.doc._id)}}function v(e,t,r){if(e=e.filter(function(e){return g(e.doc,t.selector,r)}),t.sort){var o=f(t.sort);e=e.sort(o),"string"!==typeof t.sort[0]&&"desc"===l(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var n=t.skip||0,i=("limit"in t?t.limit:e.length)+n;e=e.slice(n,i)}return e}function g(e,t,r){return r.every(function(r){var n=t[r],i=a(r),c=o(e,i);return s(r)?w(r,n,e):_(n,e,i,c)})}function _(e,t,r,o){return!e||Object.keys(e).every(function(n){var i=e[n];return b(n,t,i,r,o)})}function w(e,t,r){return"$or"===e?t.some(function(e){return g(r,e,Object.keys(e))}):"$not"===e?!g(r,t,Object.keys(t)):!t.find(function(e){return g(r,e,Object.keys(e))})}function b(e,t,r,o,n){if(!F[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return F[e](t,r,o,n)}function x(e){return"undefined"!==typeof e&&null!==e}function S(e){return"undefined"!==typeof e}function k(e,t){var r=t[0],o=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(o,10)!==o)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===o}function P(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function E(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function C(e,t){return e.length===t}function A(e,t){return new RegExp(t).test(e)}function M(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"===typeof e;case"number":return"number"===typeof e;case"string":return"string"===typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}r.d(t,"f",function(){return y}),r.d(t,"b",function(){return v}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"c",function(){return o}),r.d(t,"h",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"g",function(){return a});var T=r(4),z=r(16),R=["$or","$nor","$not"],F={$elemMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.some(function(e){return g(e,t,Object.keys(t))}):o.some(function(o){return _(t,e,r,o)})))},$allMatch:function(e,t,r,o){return!!Array.isArray(o)&&(0!==o.length&&("object"===typeof o[0]?o.every(function(e){return g(e,t,Object.keys(t))}):o.every(function(o){return _(t,e,r,o)})))},$eq:function(e,t,r,o){return S(o)&&0===Object(z.a)(o,t)},$gte:function(e,t,r,o){return S(o)&&Object(z.a)(o,t)>=0},$gt:function(e,t,r,o){return S(o)&&Object(z.a)(o,t)>0},$lte:function(e,t,r,o){return S(o)&&Object(z.a)(o,t)<=0},$lt:function(e,t,r,o){return S(o)&&Object(z.a)(o,t)<0},$exists:function(e,t,r,o){return t?S(o):!S(o)},$mod:function(e,t,r,o){return x(o)&&k(o,t)},$ne:function(e,t,r,o){return t.every(function(e){return 0!==Object(z.a)(o,e)})},$in:function(e,t,r,o){return x(o)&&P(o,t)},$nin:function(e,t,r,o){return x(o)&&!P(o,t)},$size:function(e,t,r,o){return x(o)&&C(o,t)},$all:function(e,t,r,o){return Array.isArray(o)&&E(o,t)},$regex:function(e,t,r,o){return x(o)&&A(o,t)},$type:function(e,t,r,o){return M(o,t)}}},function(e,t,r){"use strict";function o(){this.promise=new Promise(function(e){e()})}function n(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function i(e,t){return n(e)+n(t)+"undefined"}function a(e,t,r,o,n,a){var s,c=i(r,o);if(!n&&(s=e._cachedViews=e._cachedViews||{},s[c]))return s[c];var l=e.info().then(function(i){function l(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var o=e.views[r]=e.views[r]||{};if(!o[p])return o[p]=!0,e}var p=i.db_name+"-mrview-"+(n?"temp":Object(d.a)(c));return Object(u.h)(e,"_local/"+a,l).then(function(){return e.registerDependentDatabase(p).then(function(t){var n=t.db;n.auto_compaction=!0;var i={name:p,db:n,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:o};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,s&&i.db.once("destroyed",function(){delete s[c]}),i})})})});return s&&(s[c]=l),l}function s(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function c(e){return 1===e.length&&/^1-/.test(e[0].rev)}function l(e,t){try{e.emit("error",t)}catch(e){Object(u.d)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Object(u.d)("error",t)}}function p(e,t,r,n){function i(e,t,r){try{t(r)}catch(t){l(e,t)}}function p(e,t,r,o,n){try{return{output:t(r,o,n)}}catch(t){return l(e,t),{error:t}}}function d(e,t){var r=Object(y.a)(e.key,t.key);return 0!==r?r:Object(y.a)(e.value,t.value)}function x(e,t,r){return r=r||0,"number"===typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function S(e){var t=e.value;return t&&"object"===typeof t&&t._id||e.id}function k(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=Object(m.a)(r.data,r.content_type)})})}function P(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&k(t),t}}function E(e,t,r,o){var n=t[e];"undefined"!==typeof n&&(o&&(n=encodeURIComponent(JSON.stringify(n))),r.push(e+"="+n))}function C(e){if("undefined"!==typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function A(e){return e.group_level=C(e.group_level),e.limit=C(e.limit),e.skip=C(e.skip),e}function M(e){if(e){if("number"!==typeof e)return new g.c('Invalid value for integer: "'+e+'"');if(e<0)return new g.c('Invalid value for positive integer: "'+e+'"')}}function T(e,t){var r=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!==typeof e[r]&&"undefined"!==typeof e[o]&&Object(y.a)(e[r],e[o])>0)throw new g.c("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new g.c("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new g.c("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=M(e[t]);if(r)throw r})}function z(e,t,r){var o,n,i,a=[],c="GET";if(E("reduce",r,a),E("include_docs",r,a),E("attachments",r,a),E("limit",r,a),E("descending",r,a),E("group",r,a),E("group_level",r,a),E("skip",r,a),E("stale",r,a),E("conflicts",r,a),E("startkey",r,a,!0),E("start_key",r,a,!0),E("endkey",r,a,!0),E("end_key",r,a,!0),E("inclusive_end",r,a),E("key",r,a,!0),E("update_seq",r,a),a=a.join("&"),a=""===a?"":"?"+a,"undefined"!==typeof r.keys){var l="keys="+encodeURIComponent(JSON.stringify(r.keys));l.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+l:(c="POST","string"===typeof t?o={keys:r.keys}:t.keys=r.keys)}if("string"===typeof t){var p=s(t);return e.fetch("_design/"+p[0]+"/_view/"+p[1]+a,{headers:new v.a({"Content-Type":"application/json"}),method:c,body:JSON.stringify(o)}).then(function(e){return n=e.ok,i=e.status,e.json()}).then(function(e){if(!n)throw e.status=i,Object(f.f)(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(P(r))}return o=o||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?o[e]=t[e]:o[e]=t[e].toString()}),e.fetch("_temp_view"+a,{headers:new v.a({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(o)}).then(function(e){return n=e.ok,i=e.status,e.json()}).then(function(e){if(!n)throw e.status=i,Object(f.f)(e);return e}).then(P(r))}function R(e,t,r){return new Promise(function(o,n){e._query(t,r,function(e,t){if(e)return n(e);o(t)})})}function F(e){return new Promise(function(t,r){e._viewCleanup(function(e,o){if(e)return r(e);t(o)})})}function I(e){return function(t){if(404===t.status)return e;throw t}}function N(e,t,r){function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}function n(e,t){for(var r=[],o=new h.b,n=0,i=t.rows.length;n<i;n++){var a=t.rows[n],s=a.doc;if(s&&(r.push(s),o.add(s._id),s._deleted=!l.has(s._id),!s._deleted)){var c=l.get(s._id);"value"in c&&(s.value=c.value)}}var p=Object(g.f)(l);return p.forEach(function(e){if(!o.has(e)){var t={_id:e},n=l.get(e);"value"in n&&(t.value=n.value),r.push(t)}}),e.keys=Object(g.i)(p.concat(e.keys)),r.push(e),r}var i="_local/doc_"+e,a={_id:i,keys:[]},s=r.get(e),l=s[0],p=s[1];return function(){return c(p)?Promise.resolve(a):t.db.get(i).catch(I(a))}().then(function(e){return o(e).then(function(t){return n(e,t)})})}function B(e,t,r){return e.db.get("_local/lastSeq").catch(I({_id:"_local/lastSeq",seq:0})).then(function(o){var n=Object(g.f)(t);return Promise.all(n.map(function(r){return N(r,e,t)})).then(function(t){var n=Object(u.c)(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function O(e){var t="string"===typeof e?e:e.name,r=_[t];return r||(r=_[t]=new o),r}function j(e){return Object(g.h)(O(e),function(){return D(e)})()}function D(e){function r(e,t){var r={id:u._id,key:Object(y.b)(e)};"undefined"!==typeof t&&null!==t&&(r.value=Object(y.b)(t)),p.push(r)}function n(t,r){return function(){return B(e,t,r)}}function a(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:b}).then(s)}function s(e){var t=e.results;if(t.length){var r=c(t);if(v.add(n(r,f)),!(t.length<b))return a()}}function c(t){for(var r=new h.a,o=0,n=t.length;o<n;o++){var a=t[o];if("_"!==a.doc._id[0]){p=[],u=a.doc,u._deleted||i(e.sourceDB,m,u),p.sort(d);var s=l(p);r.set(a.doc._id,[s,a.changes])}f=a.seq}return r}function l(e){for(var t,r=new h.a,o=0,n=e.length;o<n;o++){var i=e[o],a=[i.key,i.id];o>0&&0===Object(y.a)(i.key,t)&&a.push(o),r.set(Object(y.d)(a),i),t=i.key}return r}var p,u,m=t(e.mapFun,r),f=e.seq||0,v=new o;return a().then(function(){return v.finish()}).then(function(){e.seq=f})}function L(e,t,o){0===o.group_level&&delete o.group_level;var n=o.group||o.group_level,i=r(e.reduceFun),a=[],s=isNaN(o.group_level)?Number.POSITIVE_INFINITY:o.group_level;t.forEach(function(e){var t=a[a.length-1],r=n?e.key:null;if(n&&Array.isArray(r)&&(r=r.slice(0,s)),t&&0===Object(y.a)(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var c=0,l=a.length;c<l;c++){var u=a[c],d=p(e.sourceDB,i,u.keys,u.values,!1);if(d.error&&d.error instanceof g.a)throw d.error;t.push({value:d.error?null:d.output,key:u.groupKey})}return{rows:x(t,o.limit,o.skip)}}function U(e,t){return Object(g.h)(O(e),function(){return q(e,t)})()}function q(e,t){function r(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"===typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var o=Object(y.c)(e.doc._id);return{key:o[0],id:o[1],value:"value"in e.doc?e.doc.value:null}})})}function o(r){var o;if(o=i?L(e,r,t):{total_rows:n,offset:a,rows:r},t.update_seq&&(o.update_seq=e.seq),t.include_docs){var s=Object(g.i)(r.map(S));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new h.a;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),r.forEach(function(e){var r=S(e),o=t.get(r);o&&(e.doc=o)}),o})}return o}var n,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if("undefined"===typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!==typeof t.keys){var s=t.keys,c=s.map(function(e){var o={startkey:Object(y.d)([e]),endkey:Object(y.d)([e,{}])};return t.update_seq&&(o.update_seq=!0),r(o)});return Promise.all(c).then(u.c).then(o)}var l={descending:t.descending};t.update_seq&&(l.update_seq=!0);var p,d;if("start_key"in t&&(p=t.start_key),"startkey"in t&&(p=t.startkey),"end_key"in t&&(d=t.end_key),"endkey"in t&&(d=t.endkey),"undefined"!==typeof p&&(l.startkey=t.descending?Object(y.d)([p,{}]):Object(y.d)([p])),"undefined"!==typeof d){var m=!1!==t.inclusive_end;t.descending&&(m=!m),l.endkey=Object(y.d)(m?[d,{}]:[d])}if("undefined"!==typeof t.key){var f=Object(y.d)([t.key]),v=Object(y.d)([t.key,{}]);l.descending?(l.endkey=f,l.startkey=v):(l.startkey=f,l.endkey=v)}return i||("number"===typeof t.limit&&(l.limit=t.limit),l.skip=a),r(l).then(o)}function V(e){return e.fetch("_view_cleanup",{headers:new v.a({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()})}function W(t){return t.get("_local/"+e).then(function(e){var r=new h.a;Object.keys(e.views).forEach(function(e){var t=s(e),o="_design/"+t[0],n=t[1],i=r.get(o);i||(i=new h.b,r.set(o,i)),i.add(n)});var o={keys:Object(g.f)(r),include_docs:!0};return t.allDocs(o).then(function(o){var n={};o.rows.forEach(function(t){var o=t.key.substring(8);r.get(t.key).forEach(function(r){var i=o+"/"+r;e.views[i]||(i=r);var a=Object.keys(e.views[i]),s=t.doc&&t.doc.views&&t.doc.views[r];a.forEach(function(e){n[e]=n[e]||s})})});var i=Object.keys(n).filter(function(e){return!n[e]}),a=i.map(function(e){return Object(g.h)(O(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Promise.all(a).then(function(){return{ok:!0}})})},I({ok:!0}))}function H(t,r,o){if("function"===typeof t._query)return R(t,r,o);if(Object(u.e)(t))return z(t,r,o);if("string"!==typeof r)return T(o,r),w.add(function(){return a(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return Object(g.e)(j(e).then(function(){return U(e,o)}),function(){return e.db.destroy()})})}),w.finish();var i=r,c=s(i),l=c[0],p=c[1];return t.get("_design/"+l).then(function(r){var s=r.views&&r.views[p];if(!s)throw new g.b("ddoc "+r._id+" has no view named "+p);return n(r,p),T(o,s),a(t,i,s.map,s.reduce,!1,e).then(function(e){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&Object(u.f)(function(){j(e)}),U(e,o)):j(e).then(function(){return U(e,o)})})})}function G(e,t,r){var o=this;"function"===typeof t&&(r=t,t={}),t=t?A(t):{},"function"===typeof e&&(e={map:e});var n=Promise.resolve().then(function(){return H(o,e,t)});return Object(g.g)(n,r),n}return{query:G,viewCleanup:Object(g.d)(function(){var e=this;return"function"===typeof e._viewCleanup?F(e):Object(u.e)(e)?V(e):W(e)})}}var u=r(4),d=r(15),h=r(13),m=r(42),y=r(16),f=r(14),v=r(43),g=r(137);o.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},o.prototype.finish=function(){return this.promise};var _={},w=new o,b=50;t.a=p},function(e,t,r){"use strict";function o(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function n(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,n)}catch(e){}}function i(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i)}catch(e){}}function a(e,t){return t&&e.then(function(e){Object(v.f)(function(){t(null,e)})},function(e){Object(v.f)(function(){t(e)})}),e}function s(e){return f()(function(t){var r=t.pop(),o=e.apply(this,t);return"function"===typeof r&&a(o,r),o})}function c(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function l(e,t){return function(){var r=arguments,o=this;return e.add(function(){return t.apply(o,r)})}}function p(e){var t=new m.b(e),r=new Array(t.size),o=-1;return t.forEach(function(e){r[++o]=e}),r}function u(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,o){t[++r]=o}),t}r.d(t,"i",function(){return p}),r.d(t,"h",function(){return l}),r.d(t,"e",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"g",function(){return a}),r.d(t,"f",function(){return u}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var d=r(7),h=r.n(d),m=r(13),y=r(12),f=r.n(y),v=r(4);h()(o,Error),h()(n,Error),h()(i,Error)},function(e,t,r){"use strict";function o(e){var t={};return e.toString().split("\n").forEach(function(e){var r=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!=r){var o=r[1],n=r[2]?r[2]:"",i=n?n.length:0;i>0&&'"'===n.charAt(0)&&'"'===n.charAt(i-1)&&(n=n.replace(/\\n/gm,"\n")),n=n.replace(/(^['"]|['"]$)/g,"").trim(),t[o]=n}}),t}function n(e){var t=".env",r="utf8";e&&(e.path&&(t=e.path),e.encoding&&(r=e.encoding));try{var n=o(i.readFileSync(t,{encoding:r}));return Object.keys(n).forEach(function(e){Object({NODE_ENV:"production",PUBLIC_URL:"/ces-stop-arrivals",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_REMOTE_TELEMETRY_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/ollilocation",REACT_APP_REMOTE_EVENT_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/rule_event_transitions",REACT_APP_OLLI_STOP_IDX:"3"})[e]=Object({NODE_ENV:"production",PUBLIC_URL:"/ces-stop-arrivals",REACT_APP_REMOTE_WS:"wss://ollisim.mybluemix.net",REACT_APP_REMOTE_TELEMETRY_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/ollilocation",REACT_APP_REMOTE_EVENT_DB:"https://e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix:6345f91031b89b2f9a5a8ae1fc735ceb00835c48ad8770ee6051656a4d855c9b@e26f45d8-2dc9-4dc3-8d04-9f8110a95b10-bluemix.cloudant.com/rule_event_transitions",REACT_APP_OLLI_STOP_IDX:"3"})[e]||n[e]}),{parsed:n}}catch(e){return{error:e}}}var i=r(139);e.exports.config=n,e.exports.load=n,e.exports.parse=o},function(e,t){},function(e,t,r){"use strict";function o(){if("serviceWorker"in navigator){if(new URL("/ces-stop-arrivals",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/ces-stop-arrivals/service-worker.js";a?i(e):n(e)})}}function n(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function i(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):n(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=o;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.5e0a04ec.js.map